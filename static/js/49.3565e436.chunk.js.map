{"version":3,"sources":["pages/Laporan/LaporanPembelian/LaporanPembelianBarang/FormLaporanPembelianBarang.jsx"],"names":["__webpack_require__","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_router_dom__WEBPACK_IMPORTED_MODULE_1__","_components_helpers_function__WEBPACK_IMPORTED_MODULE_2__","_components_helpers_notification__WEBPACK_IMPORTED_MODULE_3__","_components_panel_panel__WEBPACK_IMPORTED_MODULE_4__","_config_axios__WEBPACK_IMPORTED_MODULE_5__","moment_timezone__WEBPACK_IMPORTED_MODULE_6__","_actions_datamaster_action__WEBPACK_IMPORTED_MODULE_7__","react_redux__WEBPACK_IMPORTED_MODULE_8__","HeadFormLaporanPembelianBarang","lazy","e","then","bind","connect","state","dataSales","datamaster","getDataSales","Component","constructor","props","super","this","isLoading","LaporanTransaksiPembelian","export","handleSubmit","componentDidMount","data","JSON","parse","localStoragedecryp","setState","username","user_id","dispatch","data_post","tgl_awal","formatDate","moment","Date","format","tgl_akhir","type","getData","concat","res","length","ToastNotification","localStorageencryp","stringify","catch","error","postData","render","a","createElement","className","to","onSubmit"],"mappings":"4FAAAA,EAAAC,EAAAC,GAAA,IAAAC,EAAAH,EAAA,GAAAI,EAAAJ,EAAAK,EAAAF,GAAAG,EAAAN,EAAA,IAAAO,EAAAP,EAAA,GAAAQ,EAAAR,EAAA,GAAAS,EAAAT,EAAA,IAAAU,EAAAV,EAAA,GAAAW,EAAAX,EAAA,IAAAY,EAAAZ,EAAA,GAAAa,EAAAb,EAAA,GAaA,MAAMc,EAAiCC,eAAK,IAC1Cf,EAAAgB,EAAA,IAAAC,KAAAjB,EAAAkB,KAAA,aAkHaC,sBAASC,IACf,CACLC,UAAYD,EAAME,WAAWC,eAFlBJ,CA9Gf,cAAyCK,YACvCC,YAAYC,GACVC,MAAMD,GACNE,KAAKR,MAAQ,CACXS,WAAW,EACXC,0BAA2B,GAC3BC,QAAQ,GAEVH,KAAKI,aAAeJ,KAAKI,aAAad,KAAKU,MAE7CK,oBACE,IAAIC,EAAOC,KAAKC,MAAMC,YAAmB,aACzCT,KAAKU,SAAS,CAAEC,SAAUL,EAAKM,UAC/BZ,KAAKF,MAAMe,SAASlB,gBAEtBS,aAAaE,GACXN,KAAKU,SAAS,CAAET,WAAW,IACzB,IAAIa,EAAY,CACdC,SAAUC,YAAWC,EAAO,IAAIC,KAAKZ,EAAKS,WAAWI,OAAO,eAC5DC,UAAWJ,YAAWC,EAAO,IAAIC,KAAKZ,EAAKc,YAAYD,OAAO,gBAElE,GAAiB,YAAdb,EAAKe,KA0BN,OAzBAC,YAAO,yCAAAC,OAA0CT,EAAUC,SAApD,kBAAAQ,OAA6ET,EAAUM,YAC7F/B,KAAMmC,IACmB,IAApBA,EAAIlB,KAAKmB,QACXC,YAAkB,OAAQ,mCAC1B1B,KAAKU,SAAS,CACZT,WAAW,EACXE,QAAQ,MAGVuB,YAAkB,UAAW,wCAC7BC,YAAmB,cAAepB,KAAKqB,UAAUd,IACjDd,KAAKU,SAAS,CACZP,QAAQ,EACRF,WAAW,EACXC,0BAA2BsB,EAAIlB,UAIpCuB,MAAOC,IACNJ,YAAkB,OAAQ,mCAC1B1B,KAAKU,SAAS,CACZT,WAAW,EACXE,QAAQ,OAGL,EAEP4B,YAAS,uBAAwBjB,GAC9BzB,KAAMmC,IACmB,IAApBA,EAAIlB,KAAKmB,QACXC,YAAkB,OAAQ,mCAC1B1B,KAAKU,SAAS,CACZP,QAAQ,EACRF,WAAW,EACXC,0BAA4B,OAG9BwB,YAAkB,UAAW,wCAC7BC,YAAmB,cAAepB,KAAKqB,UAAUd,IACjDd,KAAKU,SAAS,CACZP,QAAQ,EACRF,WAAW,EACXC,0BAA2BsB,EAAIlB,UAKpCuB,MAAOC,IACN9B,KAAKU,SAAS,CACZP,QAAQ,EACRF,WAAW,IAEbyB,YAAkB,OAAQ,qCAOlCM,SACE,OACExD,EAAAyD,EAAAC,cAAA,WACE1D,EAAAyD,EAAAC,cAAA,MAAIC,UAAU,6BACZ3D,EAAAyD,EAAAC,cAAA,MAAIC,UAAU,mBACZ3D,EAAAyD,EAAAC,cAACxD,EAAA,EAAD,CAAM0D,GAAG,KAAT,YAEF5D,EAAAyD,EAAAC,cAAA,MAAIC,UAAU,0BAAd,gCAIF3D,EAAAyD,EAAAC,cAAA,MAAIC,UAAU,eAAd,gCACA3D,EAAAyD,EAAAC,cAACrD,EAAA,EAAD,KACEL,EAAAyD,EAAAC,cAACrD,EAAA,EAAD,oCACAL,EAAAyD,EAAAC,cAACrD,EAAA,EAAD,KAEEL,EAAAyD,EAAAC,cAAChD,EAAD,CACEiB,OAAQH,KAAKR,MAAMW,OACnBF,UAAWD,KAAKR,MAAMS,UACtBR,UAAWO,KAAKF,MAAML,UACtBS,0BAA2BF,KAAKR,MAAMU,0BACtCmC,SAAW/B,GAASN,KAAKI,aAAaE","file":"static/js/49.3565e436.chunk.js","sourcesContent":["import React, { Component, lazy } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { formatDate, localStoragedecryp, localStorageencryp } from \"../../../../components/helpers/function\";\nimport { ToastNotification } from \"../../../../components/helpers/notification\";\nimport {\n  Panel,\n  PanelBody,\n  PanelHeader,\n} from \"../../../../components/panel/panel\";\nimport { getData, postData } from \"../../../../config/axios\";\nimport * as moment from \"moment-timezone\";\nimport { getDataSales } from \"../../../../actions/datamaster_action\";\nimport { connect } from \"react-redux\";\nconst HeadFormLaporanPembelianBarang = lazy(() =>\n  import(\"./HeadFormLaporanPembelianBarang\")\n);\n\n\nclass FormLaporanPembelianBarang extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      LaporanTransaksiPembelian: [],\n      export: false,\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  componentDidMount() {\n    let data = JSON.parse(localStoragedecryp(\"userdata\"));\n    this.setState({ username: data.user_id });\n    this.props.dispatch(getDataSales())\n  }\n  handleSubmit(data) {\n    this.setState({ isLoading: true });\n      let data_post = {\n        tgl_awal: formatDate(moment(new Date(data.tgl_awal)).format('YYYY-MM-DD')),\n        tgl_akhir: formatDate(moment(new Date(data.tgl_akhir)).format('YYYY-MM-DD')),\n      };\n    if(data.type === \"SELISIH\"){\n      getData(`pembelian/report-selisih?tanggal[gte]=${data_post.tgl_awal}&tanggal[lte]=${data_post.tgl_akhir}`)\n      .then((res) => {\n        if (res.data.length === 0) {\n          ToastNotification(\"info\", \"Data Yang Di Cari Tidak Ada !!!\");\n          this.setState({\n            isLoading: false,\n            export: false,\n          });\n        } else {\n          ToastNotification(\"success\", \"Laporan Transaksi Penjualan Tersedia\");\n          localStorageencryp(\"tgl_laporan\", JSON.stringify(data_post));\n          this.setState({\n            export: true,\n            isLoading: false,\n            LaporanTransaksiPembelian: res.data,\n          });\n        }\n      })\n      .catch((error) => {\n        ToastNotification(\"info\", \"Data Yang Di Cari Tidak Ada !!!\");\n        this.setState({\n          isLoading: false,\n          export: false,\n        });\n      });\n      return false\n    } else {\n      postData(\"pembelian/get/report\", data_post)\n        .then((res) => {\n          if (res.data.length === 0) {\n            ToastNotification(\"info\", \"Data Yang Di Cari Tidak Ada !!!\");\n            this.setState({\n              export: false,\n              isLoading: false,\n              LaporanTransaksiPembelian : []\n            });\n          } else {\n            ToastNotification(\"success\", \"Laporan Transaksi Pembelian Tersedia\");\n            localStorageencryp(\"tgl_laporan\", JSON.stringify(data_post));\n            this.setState({\n              export: true,\n              isLoading: false,\n              LaporanTransaksiPembelian: res.data,\n            });\n          }\n        })\n       \n        .catch((error) => {\n          this.setState({\n            export: false,\n            isLoading: false\n          });\n          ToastNotification(\"info\", \"Data Yang Di Cari Tidak Ada !!!\");\n          // this.setState({ isLoading: false });\n        });\n    }\n    \n  }\n\n  render() {\n    return (\n      <div>\n        <ol className=\"breadcrumb float-xl-right\">\n          <li className=\"breadcrumb-item\">\n            <Link to=\"#\">Laporan</Link>\n          </li>\n          <li className=\"breadcrumb-item active\">\n            Laporan Transaksi Pembelian\n          </li>\n        </ol>\n        <h1 className=\"page-header\">Laporan Transaksi Pembelian </h1>\n        <Panel>\n          <PanelHeader>Laporan Transaksi Pembelian</PanelHeader>\n          <PanelBody>\n            {/* {console.log(this.state.hidden)} */}\n            <HeadFormLaporanPembelianBarang\n              export={this.state.export}\n              isLoading={this.state.isLoading}\n              dataSales={this.props.dataSales}\n              LaporanTransaksiPembelian={this.state.LaporanTransaksiPembelian}\n              onSubmit={(data) => this.handleSubmit(data)}\n            />\n          </PanelBody>\n        </Panel>\n      </div>\n    );\n  }\n}\nexport default connect((state) => {\n  return {\n    dataSales : state.datamaster.getDataSales\n  }\n})(FormLaporanPembelianBarang);\n"],"sourceRoot":""}