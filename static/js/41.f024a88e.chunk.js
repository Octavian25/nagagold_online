(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{1097:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(15),r=a(11),i=a(9),c=a(290),s=a(3),d=(a(202),a(5)),m=a(26),E=a.n(m),b=a(6),u=a(289),p=a(4),h=a(7),g=a(35);a(55);var k=(e="",t="")=>{const a=new g.default("l","mm",[297,210]);let n=[],o=[],l=30,r=0,i=0,c=0;a.setFontSize(15),a.text("LAPORAN BARANG DETAIL",14,15),a.setFontSize(10),a.setProperties({title:"LAPORAN BARANG DETAIL"}),a.text("KODE BAKI : ".concat(t),14,25),o=[[{content:"NO"},{content:"KODE BARANNG"},{content:"KODE BARCODE"},{content:"KODE INTERN"},{content:"KODE GUDANG"},{content:"NAMA BARANG"},{content:"BERAT"},{content:"NAMA ATRIBUTE"},{content:"BERAT ATRIBUTE"}]],e.forEach((e,t)=>{let a=[{content:"".concat(++t),styles:{cellWidth:10}},e.kode_barang,e.kode_barcode,e.kode_intern,e.kode_gudang,e.nama_barang,e.berat,e.nama_atribut,e.berat_atribut];r+=e.berat,i+=e.stock_on_hand,c+=e.berat_atribut,n.push(a)});let d=[{content:"Total",colSpan:6,styles:{halign:"center",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(r.toFixed(3)),styles:{fillColor:"#E8E5E5",textColor:"#000"}},{content:"",styles:{fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(c.toFixed(3)),styles:{fillColor:"#E8E5E5",textColor:"#000"}}];n.push(d);let m=[{colSpan:6,content:"Printed By ".concat(JSON.parse(Object(s.i)("userdata")).user_id," / ").concat(Object(s.g)()),styles:{fontStyle:"italic",textColor:"#000"}}];n.push(m),a.autoTable({head:o,body:n,startY:l,theme:"plain",rowPageBreak:"avoid",margin:{top:10},bodyStyles:{fontSize:8},headStyles:{fontSize:8,textColor:"#000",fillColor:"#E8E5E5"}}),l=a.autoTableEndPosY()+3,n=[];const E=a.internal.getNumberOfPages(),b=a.internal.pageSize.width,u=a.internal.pageSize.height;a.setFontSize(10);for(let s=1;s<E+1;s++){let e=b/2,t=u-10;a.setPage(s),a.text("".concat(s," of ").concat(E),e,t,{align:"center"})}var p=a.output("datauristring"),h=window.open();h.document.open(),h.document.write("<html><head><title>LAPORAN BARANG DETAIL</title></head><body style='margin:0 !important'><embed width='100%' height='100%'  src="+p+"></embed></body></html>")},A=a(38),B=a.n(A);var x=class extends n.Component{constructor(e){super(e),this.state={}}render(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(B.a,{id:"test-table-xls-button",className:"btn btn-success btn-block",table:"table-to-xls",filename:"Laporan Barang Detail",sheet:"Laporan Barang Detail",buttonText:"Export Exel"}),o.a.createElement("table",{rowkey:"kode_member",id:"table-to-xls",style:{display:"none"}},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{colSpan:"9",style:{textAlign:"center"}}," LAPORAN BARANG DETAIL ")),o.a.createElement("tr",null,o.a.createElement("th",null," Kode Baki "),o.a.createElement("th",{colSpan:"9",style:{textAlign:"left"}}," ",this.props.kode_baki," ")),o.a.createElement("tr",null,o.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NO"),o.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE BARANG"),o.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE BARCODE"),o.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE INTERN"),o.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE GUDANG"),o.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NAMA BARANG"),o.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BERAT"),o.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NAMA ATRIBUT"),o.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BERAT ATRIBUT"))),o.a.createElement("tbody",null,this.props.data.map((e,t)=>o.a.createElement("tr",{key:t},o.a.createElement("td",{style:{textAlign:"center"}}," ",t+1),o.a.createElement("td",null," ",e.kode_barang),o.a.createElement("td",null," ",e.kode_barcode),o.a.createElement("td",null," ",e.kode_intern),o.a.createElement("td",null," ",e.kode_gudang),o.a.createElement("td",null," ",e.nama_barang),o.a.createElement("td",null," ",e.berat),o.a.createElement("td",null," ",e.nama_atribut),o.a.createElement("td",null," ",e.berat_atribut)))),o.a.createElement("tfoot",null,o.a.createElement("tr",null,o.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"center"},colSpan:"6"},"  "),o.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}}," ",this.props.data.map(e=>e.berat).reduce((e,t)=>e+t,0),"   "),o.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"  "),o.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",this.props.data.map(e=>e.berat_atribut).reduce((e,t)=>e+t,0),"  ")))))}},N=a(18);class _ extends n.Component{constructor(e){super(e),this.state={loading:!1}}componentDidMount(){this.props.dispatch(Object(h.hb)())}exportPdf(){k(this.props.data,this.props.kode_baki)}render(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("form",{onSubmit:e=>this.props.handleSubmit(e),autoComplete:"off",onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()}},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-6"},!1===this.state.loading?o.a.createElement(u.a,{label:"Kode Baki",name:"kode_baki",options:this.props.databaki.map(e=>{return{value:e.kode_baki,name:e.kode_baki+" - "+e.nama_baki}||[]}),placeholder:"Silahkan Pilih Kode Baki",component:p.f}):o.a.createElement(p.g,{label:"Kode Baki"})),o.a.createElement("div",{className:"col-6"},o.a.createElement("label",null," \xa0 "),o.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.submitting,type:"submit"},this.props.isLoading?o.a.createElement(o.a.Fragment,null,o.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Memfilter"):"Filter Laporan")),o.a.createElement("div",{className:"col-12"},o.a.createElement(N.a,{keyField:"kode_barcode",data:this.props.data,columns:this.props.columns,empty:!0,textEmpty:"Data Laporan Barang Detail Kosong"})),this.props.export?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"col-lg-6"},o.a.createElement("button",{onClick:()=>this.exportPdf(),className:"btn btn-warning btn-block"}," ","Export PDF"," ")),o.a.createElement("div",{className:"col-lg-6"},o.a.createElement(x,{data:this.props.data,kode_baki:this.props.kode_baki}))):null)))}}_=Object(c.a)({form:"HeadFilterLaporan",enableReinitialize:!0})(_);var y=Object(i.b)(e=>({databaki:e.datamaster.getDataBaki}),null)(_);class f extends o.a.Component{constructor(e){super(e),this.state={isEdit:!1,modalDialog:!1,isLoading:!1,export:!1,kode_baki:[],LaporanBarangDetail:!1,columns:[{dataField:"kode_barang",text:"Kode Barang ",sort:!0,footerAttrs:{colSpan:"5"},footer:(e,t,a,n)=>o.a.createElement("div",null,"Total Barang : ",this.state.LaporanBarangDetail.length||0," ")},{dataField:"kode_barcode",text:"Kode Barcode"},{dataField:"kode_gudang",text:"Kode Gudang"},{dataField:"kode_toko",text:"Kode Baki"},{dataField:"nama_barang",text:"Nama Barang"},{dataField:"berat",text:"Berat",formatter:e=>e.toFixed(3),footer:e=>e.reduce((e,t)=>e+t,0).toFixed(3)}]},this.handleSubmit=this.handleSubmit.bind(this)}componentDidMount(){let e=JSON.parse(Object(s.i)("userdata"));this.setState({username:e.user_id})}handleSubmit(e){this.setState({isLoading:!0,kode_toko:e.kode_baki});let t={kode_toko:e.kode_baki};if(void 0===e.kode_baki)return E.a.fire({text:"Kode Baki Tidak Boleh Kosong",icon:"info",position:"top-center",timer:2e3,width:"300px",height:"100px",confirmButtonText:"OK",showConfirmButton:!0}),this.setState({isLoading:!1}),!1;Object(b.e)("reportbarang/barangdetail",t).then(t=>{0===t.data.length?(this.setState({export:!1,LaporanBarangDetail:[]}),Object(d.e)("info","Laporan Barang Detail Tidak Tersedia")):(Object(d.e)("success","Laporan Barang Detail Tersedia"),this.setState({export:!0,kode_baki:e.kode_baki,LaporanBarangDetail:t.data}))}).then(()=>{this.setState({isLoading:!1})}).catch(e=>this.errorHandling(e))}errorHandling(e){Object(d.a)(e),this.setState({isLoading:!1})}render(){return o.a.createElement("div",null,o.a.createElement("ol",{className:"breadcrumb float-xl-right"},o.a.createElement("li",{className:"breadcrumb-item"},o.a.createElement(l.b,{to:"#"},"Laporan Barang")),o.a.createElement("li",{className:"breadcrumb-item active"},"Laporan Barang Detail")),o.a.createElement("h1",{className:"page-header"},"Laporan Barang Detail"),o.a.createElement(r.a,null,o.a.createElement(r.c,null,"Filter Laporan"),o.a.createElement("br",null),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12"},o.a.createElement(y,{kode_baki:this.state.kode_baki,export:this.state.export,columns:this.state.columns,data:this.state.LaporanBarangDetail,isLoading:this.state.isLoading,onSubmit:e=>this.handleSubmit(e)})))),o.a.createElement("br",null)))}}f=Object(c.a)({form:"FormDetailBarang",enableReinitialize:!0})(f);t.default=Object(i.b)(e=>({hideModal:e.datamaster.modalDialog}),null)(f)}}]);
//# sourceMappingURL=41.f024a88e.chunk.js.map