(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{1090:function(a,e,t){"use strict";t.r(e);var n=t(1),l=t(43),r=t(150),o=t.n(r),s=t(200),i=t(0),d=t.n(i),c=t(202),m=t.n(c),b=t(10),g=t(287),h=t(288),p=t(32),k=t(8),u=t(4),_=t(3),E=t(5),B=t(6),v=t(201),N=t.n(v);const f=Object(p.createNumberMask)({prefix:"Rp. ",locale:"id-ID"});class w extends i.Component{constructor(a){var e;super(a),e=this,this.tgl_awalChange=(a=>{this.setState({tgl_awal:a})}),this.tgl_akhirChange=(a=>{this.setState({tgl_akhir:a})}),this.getValue=function(){var a=Object(s.a)(o.a.mark(function a(t){var n,r;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.target.files[0],a.next=3,Object(_.b)(n);case 3:r=a.sent,e.props.dispatch(Object(l.m)(r)),e.props.change("foto",r);case 6:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}(),this.state={visible:!0,ModalWebCam:!1,isLoadingBaki:!1,isLoadingJenis:!1,tgl_awal:new Date,tgl_akhir:new Date,databaki:[],DataGroup:[],DataJenis:[],loadimage:N.a}}showModalWebcam(){this.props.dispatch(Object(l.m)(!1)),this.props.dispatch(Object(k.wb)()),this.setState({ModalWebCam:!0})}handleTakePhoto(a){this.props.dispatch(Object(l.m)(a)),this.props.change("foto",a)}componentDidMount(){Object(B.b)("group/get/all").then(a=>{this.setState({DataGroup:a.data})}).catch(a=>{console.log(a)})}getJenis(a){this.setState({isLoadingJenis:!0}),Object(B.b)("jenis/get/by-kode-kategori/"+a).then(a=>{this.setState({DataJenis:a.data})}).then(a=>{this.setState({isLoadingJenis:!1})}).catch(a=>{Object(E.b)(a.data),console.log(a)})}getBaki(a){this.setState({isLoadingBaki:!0}),Object(B.b)("baki/get/by-kode-baki/"+a).then(a=>{this.setState({databaki:""===a.data?[]:[a.data]})}).then(a=>{this.setState({isLoadingBaki:!1})}).catch(a=>{Object(E.b)(a.data),console.log(a)})}loadcamera(){return d.a.createElement(m.a,{onTakePhoto:a=>{this.handleTakePhoto(a)}})}render(){return d.a.createElement(d.a.Fragment,null,d.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-lg-8"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-lg-6"},d.a.createElement(g.a,{readOnly:!0,name:"foto",type:"hidden",component:u.b}),d.a.createElement(g.a,{readOnly:!0,name:"kode_barcode",component:u.e,label:"Kode Barcode",placeholder:"Masukan Kode Barcode"})),d.a.createElement("div",{className:"col-lg-6"},d.a.createElement(g.a,{name:"nama_barang",component:u.e,label:"Nama Barang",placeholder:"Masukan Nama Barang"}))),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-lg-8"},d.a.createElement(g.a,{name:"nama_atribut",component:u.e,label:"Nama Atribut",placeholder:"Masukan Nama Atribut"})),d.a.createElement("div",{className:"col-lg-4"},d.a.createElement(g.a,Object.assign({name:"harga_atribut",component:u.e,label:"Harga Atribut"},f,{placeholder:"Masukan Harga Atribut"})))),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-lg-6"},d.a.createElement(g.a,{name:"kadar",component:u.e,label:"Kadar",placeholder:"Masukan Kadar"})),d.a.createElement("div",{className:"col-lg-6"},d.a.createElement(g.a,{name:"kadar_cetak",component:u.e,label:"Kadar Cetak",placeholder:"Masukan Kadar Cetak"})),d.a.createElement("div",{className:"col-lg-6"},d.a.createElement(g.a,{name:"kode_intern",component:u.e,label:"Kode Intern",placeholder:"Masukan Kode Intern"})),d.a.createElement("div",{className:"col-lg-6"},d.a.createElement("div",{className:"form-group"},d.a.createElement("label",null," \xa0 "),!0===this.props.isLoading?d.a.createElement(_.c,{className:"btn btn-block btn-primary",text:"Sedang Menyimpan Data"}):d.a.createElement(d.a.Fragment,null,d.a.createElement("button",{type:"submit",className:"btn btn-block btn-primary"},"Simpan Barang")))))),d.a.createElement("div",{className:"col-lg-4"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-lg-4"},!0===this.state.ModalWebCam&&!1===this.props.setCamera?d.a.createElement("div",{className:"container"},this.loadcamera()):d.a.createElement(d.a.Fragment,null,d.a.createElement("img",{src:void 0===this.props.foto?!1===this.props.setCamera?N.a:this.props.setCamera:this.props.setCamera?this.props.setCamera:this.props.foto,alt:"img",height:"245px",width:"355px"})))),d.a.createElement("div",{className:"row mt-2"},d.a.createElement("div",{className:"col-lg-12 mb-8"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-8"},d.a.createElement("div",{className:"input-group"},d.a.createElement("div",{className:"custom-file"},d.a.createElement("input",{type:"file",name:"photo",autoComplete:"off",className:"custom-file-input",id:"exampleInputFile",onChange:a=>this.getValue(a)}),d.a.createElement("label",{className:"custom-file-label",htmlFor:"exampleInputFile"},"Pilih gambar")))),d.a.createElement("div",{className:"col-4"},d.a.createElement("button",{className:"btn btn-block btn-primary",type:"button",onClick:()=>this.showModalWebcam()}," ","WebCam"," ")))))))))}}w=Object(h.a)({form:"HeadEditDataBarang",enableReinitialize:!0})(w);var j=Object(b.b)(a=>({initialValues:{foto:a.databarang.showEditBarang.foto,kode_barcode:a.databarang.showEditBarang.kode_barcode,nama_barang:a.databarang.showEditBarang.nama_barang,nama_atribut:a.databarang.showEditBarang.nama_atribut,harga_atribut:a.databarang.showEditBarang.harga_atribut,kode_intern:a.databarang.showEditBarang.kode_intern,kadar:a.databarang.showEditBarang.kadar,kadar_cetak:a.databarang.showEditBarang.kadar_cetak},foto:a.databarang.showEditBarang.foto,setCamera:a.databarang.setCamera,hideModal:a.datamaster.modalDialog}))(w);var O=a=>{const e={};return a.kode_kategori||(e.kode_kategori="Kategori Tidak Boleh Kosong"),a.kode_jenis||(e.kode_jenis="Jenis Tidak Boleh Kosong"),a.kode_lokasi_toko||(e.kode_lokasi_toko="Kode Lokasi Tidak Boleh Kosong"),a.nama_barang||(e.nama_barang="Nama Barang Tidak Boleh Kosong"),a.berat||(e.berat="Berat Tidak Boleh Kosong"),a.berat_asli||(e.berat_asli="Berat Asli Tidak Boleh Kosong"),a.kadar||(e.kadar="Kadar Tidak Boleh Kosong"),a.kadar_cetak||(e.kadar_cetak="Kadar Cetak Tidak Boleh Kosong"),a.kadar_modal||(e.kadar_modal="Kadar Modal Tidak Boleh Kosong"),a.berat_bandrol||(e.berat_bandrol="Berat Bandrol Tidak Boleh Kosong"),e};const x=Object(n.u)({prefix:"Rp. ",locale:"id-ID"});class y extends n.b{constructor(a){var e;super(a),e=this,this.tgl_awalChange=(a=>{this.setState({tgl_awal:a})}),this.tgl_akhirChange=(a=>{this.setState({tgl_akhir:a})}),this.getValue=function(){var a=Object(s.a)(o.a.mark(function a(t){var r,s;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return document.getElementById("kode_intern").focus(),r=t.target.files[0],a.next=4,Object(n.t)(r);case 4:s=a.sent,e.props.dispatch(Object(l.m)(s)),e.props.change("foto",s);case 7:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}(),this.state={visible:!0,ModalWebCam:!1,isLoadingBaki:!1,isLoadingJenis:!1,kategori_harga:!0,tgl_awal:new Date,tgl_akhir:new Date,databaki:[],DataGroup:[],DataJenis:[],loadimage:n.C}}showModalWebcam(){this.props.dispatch(Object(l.m)(!1)),this.props.dispatch(Object(n.K)()),this.setState({ModalWebCam:!0})}handleTakePhoto(a){document.getElementById("kode_intern").focus(),this.props.dispatch(Object(l.m)(a)),this.props.change("foto",a)}componentDidMount(){setTimeout(()=>{Object(n.x)("parabandrol/get/all").then(a=>{this.props.change("berat_bandrol",a.data[0].berat_bandrol)}),document.getElementById("kode_intern").focus()},100),Object(B.c)("para-system/key/kategori_harga").then(a=>{console.log(a.data.value),"harga_100%"===a.data.value?this.setState({kategori_harga:!0}):this.setState({kategori_harga:!1}),this.props.change("kadar",this.state.kategori_harga?0:100)})}getJenis(a){this.setState({isLoadingJenis:!0}),Object(n.x)("jenis/get/by-kode-kategori/"+a).then(a=>{this.setState({DataJenis:a.data})}).then(a=>{this.setState({isLoadingJenis:!1})}).catch(a=>{Object(n.r)("info",a.data),console.log(a)})}getBaki(a){this.setState({isLoadingBaki:!0}),Object(n.x)("baki/get/by-kode-baki/"+a).then(a=>{this.setState({databaki:""===a.data?[]:[a.data]})}).then(a=>{this.setState({isLoadingBaki:!1})}).catch(a=>{Object(n.r)("info",a.data),console.log(a)})}loadcamera(){return n.l.createElement(n.a,{onTakePhoto:a=>{this.handleTakePhoto(a)}})}render(){return n.l.createElement(n.l.Fragment,null,n.l.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off"},n.l.createElement("div",{className:"row"},n.l.createElement("div",{className:"col-lg-12 text-center"},!0===this.state.ModalWebCam&&!1===this.props.setCamera?n.l.createElement("div",{className:"container"},this.loadcamera()):n.l.createElement(n.l.Fragment,null,n.l.createElement("img",{src:void 0===this.props.foto?!1===this.props.setCamera?n.C:this.props.setCamera:this.props.setCamera?this.props.setCamera:this.props.foto,alt:"img",height:"245px",width:"355px"})))),n.l.createElement("br",null),n.l.createElement("div",{className:"row"},n.l.createElement("div",{className:"col-2"}," "),n.l.createElement("div",{className:"col-5"},n.l.createElement("div",{className:"input-group"},n.l.createElement("div",{className:"custom-file"},n.l.createElement("input",{tabIndex:"1",type:"file",name:"photo",autoComplete:"off",className:"custom-file-input",id:"exampleInputFile",onChange:a=>this.getValue(a)}),n.l.createElement("label",{className:"custom-file-label",htmlFor:"exampleInputFile"},"Pilih gambar")))),n.l.createElement("div",{className:"col-3"},n.l.createElement("button",{tabIndex:"2",className:"btn btn-block btn-primary",type:"button",onClick:()=>this.showModalWebcam()}," ","WebCam"," ")),n.l.createElement("hr",null)),n.l.createElement("hr",null),n.l.createElement("div",{className:"row"},n.l.createElement("div",{className:"col-lg-4"},n.l.createElement(n.c,{readOnly:!0,name:"kode_kategori",component:n.n,label:"Kategori",placeholder:"Masukan Kategori"})),n.l.createElement("div",{className:"col-lg-4"},n.l.createElement(n.c,{readOnly:!0,name:"kode_jenis",component:n.n,label:"Jenis",placeholder:"Masukan Jenis"})),n.l.createElement("div",{className:"col-lg-4"},n.l.createElement(n.c,{readOnly:!0,name:"kode_lokasi_toko",component:n.n,label:"Kode Lokasi Toko",placeholder:"Masukan Lokasi"}))),n.l.createElement("hr",null),n.l.createElement("div",{className:"row"},n.l.createElement("div",{className:"col-6"},n.l.createElement(n.c,{readOnly:!0,name:"kode_gudang",type:"hidden",component:n.e}),n.l.createElement(n.c,{readOnly:!0,name:"foto",type:"hidden",component:n.e}),n.l.createElement(n.c,{readOnly:!0,name:"kode_barcode",type:"hidden",component:n.e}),n.l.createElement(n.c,{id:"kode_intern",tabIndex:"3",name:"kode_intern",component:n.n,label:"Kode Intern",placeholder:"Masukan Kode Intern"})),n.l.createElement("div",{className:"col-6"}),n.l.createElement("div",{className:"col-12"},n.l.createElement(n.c,{tabIndex:"4",name:"nama_barang",component:n.n,label:"Nama Barang",placeholder:"Masukan Nama Barang"})),n.l.createElement("div",{className:"col-lg-6"},n.l.createElement(n.c,{tabIndex:"5",type:"text",name:"berat",component:n.n,label:"Berat",normalize:n.d,placeholder:"Masukan Berat"})),n.l.createElement("div",{className:"col-lg-6"},n.l.createElement(n.c,{tabIndex:"6",type:"text",name:"berat_asli",component:n.n,label:"Berat Asli",normalize:n.d,placeholder:"Masukan Berat Asli"})),n.l.createElement("div",{className:this.state.kategori_harga?"col-lg-6":"col-lg-6 d-none"},n.l.createElement(n.c,{tabIndex:"7",type:"text",name:"kadar",component:n.n,label:"Kadar",normalize:n.d,placeholder:"Masukan Kadar"})),n.l.createElement("div",{className:"col-lg-3"},n.l.createElement(n.c,{tabIndex:"8",type:"text",name:"kadar_cetak",component:n.n,label:"Kadar Cetak",normalize:n.d,placeholder:"Masukan Kadar Cetak"})),n.l.createElement("div",{className:"col-lg-3"},n.l.createElement(n.c,{tabIndex:"9",type:"text",name:"kadar_modal",normalize:n.d,component:n.n,label:"Kadar Modal",placeholder:"Masukan Kadar Modal"}))),n.l.createElement("hr",null),n.l.createElement("div",{className:"row"},n.l.createElement("div",{className:"col-12"},n.l.createElement(n.c,{id:"nama_atribut",tabIndex:"10",type:"text",name:"nama_atribut",component:n.n,label:"Nama Atribut",placeholder:"Masukan Nama Atribut"})),n.l.createElement("div",{className:"col-lg-6"},n.l.createElement(n.c,{tabIndex:"11",type:"text",name:"berat_atribut",component:n.n,label:"Berat Atribut",normalize:n.d,placeholder:"Masukan Berat Atribut"})),n.l.createElement("div",{className:"col-lg-6"},n.l.createElement(n.c,Object.assign({tabIndex:"12",name:"harga_atribut",component:n.n,label:"Harga Atribut"},x,{placeholder:"Masukan Harga Atribut"})))),n.l.createElement("hr",null),n.l.createElement("div",{className:"row"},n.l.createElement("div",{className:"col-lg-6 d-none"},n.l.createElement(n.c,{tabIndex:"13",name:"tag_id",component:n.e,type:"hidden",label:"Tag Id",placeholder:"Masukan Tag Id"})),n.l.createElement("div",{className:"col-lg-6 d-none"},n.l.createElement(n.c,{tabIndex:"14",type:"text",name:"berat_bandrol",component:n.n,label:"Berat Bandrol",normalize:n.d,placeholder:"Masukan Berat Bandrol"}))),n.l.createElement("hr",null),n.l.createElement("div",{className:"row"},n.l.createElement("div",{className:"col-6"}),n.l.createElement("div",{className:"col-lg-6 text-right"},n.l.createElement("button",{onClick:()=>this.props.dispatch(Object(n.B)()),type:"button",className:"btn btn-secondary"},"Batal"),"\xa0",n.l.createElement("button",{tabIndex:"15",disabled:this.props.isLoading,type:"submit",className:"btn btn-success"},this.props.isLoading?n.l.createElement(n.l.Fragment,null,n.l.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan")))))}}y=Object(n.H)({form:"FormTambahBarang",enableReinitialize:!0,validate:O})(y);var S=Object(n.s)(a=>{let e=a.databarang.showEditBarang.kode_lokasi_toko.split("~");return{initialValues:{kode_kategori:a.databarang.showEditBarang.kode_kategori,kode_jenis:a.databarang.showEditBarang.kode_jenis,kode_lokasi_toko:e[0],kode_gudang:e[1],kode_intern:a.databarang.showEditBarang.kode_intern,kode_barcode:a.databarang.showEditBarang.kode_barcode,nama_barang:a.databarang.showEditBarang.nama_barang,kadar:a.databarang.showEditBarang.kadar,kadar_cetak:a.databarang.showEditBarang.kadar_cetak,kadar_modal:a.databarang.showEditBarang.kadar_modal,nama_atribut:a.databarang.showEditBarang.nama_atribut,berat_atribut:a.databarang.showEditBarang.berat_atribut,harga_atribut:a.databarang.showEditBarang.harga_atribut,tag_id:a.databarang.showEditBarang.tag_id||"-",berat_bandrol:a.databarang.showEditBarang.berat_bandrol},foto:a.databarang.showEditBarang.foto,setCamera:a.databarang.setCamera,hideModal:a.datamaster.modalDialog}})(y);class K extends n.b{constructor(a){super(a),this.state={date:new Date,kondisi_barang:"kosong",databaki:[]}}componentDidMount(){this.props.dispatch(Object(k.t)()),this.props.dispatch(Object(k.kb)()),Object(B.c)("baki/get/tambah-barang").then(a=>{this.setState({databaki:a.data})})}render(){return n.l.createElement("div",null,n.l.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off",onKeyPress:a=>{"Enter"===a.key&&a.preventDefault()}},n.l.createElement("div",{className:"row"},n.l.createElement("div",{className:"col-lg-2"},n.l.createElement(n.c,{label:"Kode Group",name:"kode_kategori",component:n.o,onChange:a=>this.setState({kode_group:a}),options:this.props.DataGroup.filter(a=>void 0!==a.kode_group).map(a=>{return{value:a.kode_group,name:a.kode_group}}),placeholder:"Silahkan Pilih Kode Group"})),n.l.createElement("div",{className:"col-lg-2"},n.l.createElement(n.c,{name:"kode_jenis",component:n.o,options:this.props.DataJenis.filter(a=>a.kode_group===this.state.kode_group).map(a=>{return{value:a.kode_dept,name:a.kode_dept}}),label:"Kode Jenis",placeholder:"Silahkan Pilih Kode Jenis"})),n.l.createElement("div",{className:"col-lg-2"},n.l.createElement(n.c,{name:"kode_lokasi_toko",component:n.o,options:this.state.databaki.filter(a=>void 0!==a.kode_baki).map(a=>{return{value:a.kode_baki+"~"+a.kode_gudang,name:a.kode_baki}}),label:"Kode Baki",placeholder:"Silahkan Pilih Kode Lokasi"})),n.l.createElement("div",{className:"col-lg-1"},n.l.createElement("label",null,"\xa0"),n.l.createElement("br",null),n.l.createElement("button",{type:"submit",className:"btn btn-block btn-primary "}," ",n.l.createElement("i",{className:"fa fa-plus"})," ")),n.l.createElement("div",{className:"col-lg-5 text-right"},n.l.createElement("label",null,"\xa0"),n.l.createElement("br",null),n.l.createElement("button",{className:"btn btn-primary"},"Cetak Barcode")))))}}K=Object(n.H)({form:"FIlterPencarianBarang",enableReinitialize:!0,validate:O})(K);var M=Object(n.s)(a=>({DataGroup:a.datamaster.GetDataGroup,DataJenis:a.datamaster.getDataJenis}))(K);e.default=Object(n.s)()(class extends n.l.Component{constructor(a){super(a),this.showBarangPesanan=(()=>{this.setState({fromModalPesanan:!0}),this.props.dispatch(Object(n.K)()),this.props.dispatch(Object(l.p)())}),this.state={isEdit:!1,modalDialog:!1,isLoading:!1,formEdit:!1,loadingData:!1,databarang:[],dataPesanan:[],formTambahBarang:!1,fromModalPesanan:!1,noPesanan:"",columns:[{dataField:"kode_barang",text:"Kode Barang ",sort:!0},{dataField:"kode_barcode",text:"Kode Barcode"},{dataField:"kode_group",text:"Kode Group"},{dataField:"kode_toko",text:"Kode Baki"},{dataField:"kode_dept",text:"Kode Jenis"},{dataField:"nama_barang",text:"Nama Barang"},{dataField:"berat",text:"Berat"},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(a,e)=>{let t=[];return Object(B.b)("imagebarang/get/by-kode-barcode/"+e.kode_barcode).then(a=>{t={foto:a.data.dataimage,kode_barcode:e.kode_barcode,nama_barang:e.nama_barang,nama_atribut:e.nama_atribut||"-",harga_atribut:e.harga_atribut||0,kode_intern:e.kode_intern,kadar:e.kadar,kadar_cetak:e.kadar_cetak,kadar_modal:e.kadar_modal,kode_kategori:e.kode_group,kode_jenis:e.kode_dept,kode_lokasi_toko:e.kode_toko+"~"+e.kode_gudang,berat:e.berat,berat_asli:e.berat_asli,berat_atribut:e.berat_atribut||0,tag_id:e.tag_id,berat_bandrol:0}}).catch(a=>{t={kode_barcode:e.kode_barcode,nama_barang:e.nama_barang,nama_atribut:e.nama_atribut||"-",harga_atribut:e.harga_atribut||0,kode_intern:e.kode_intern,kadar:e.kadar,kadar_cetak:e.kadar_cetak,kadar_modal:e.kadar_modal,kode_kategori:e.kode_group,kode_jenis:e.kode_dept,kode_lokasi_toko:e.kode_toko+"~"+e.kode_gudang,berat:e.berat,berat_asli:e.berat_asli,berat_atribut:e.berat_atribut||0,tag_id:e.tag_id,berat_bandrol:0}}),n.l.createElement("div",{className:"row text-center"},n.l.createElement("div",{className:"col-12"},n.l.createElement("button",{type:"button",onClick:()=>this.showModalTambahBarang(t),className:"btn btn-primary mr-3"},n.l.createElement("i",{className:"fa fa-copy"}))))}}]},this.handleSubmit=this.handleSubmit.bind(this),this.showModalTambahBarang=this.showModalTambahBarang.bind(this),this.tambahbarang=this.tambahbarang.bind(this)}componentDidMount(){}tambahbarang(a){this.setState({isLoading:!0});let e={kode_barcode:a.kode_barcode,dataimage:a.foto},t={no_pesanan:"-",id_barang_pesanan:"-",kode_group:a.kode_kategori,kode_dept:a.kode_jenis,kode_gudang:a.kode_gudang,kode_toko:a.kode_lokasi_toko,kode_intern:a.kode_intern||"-",nama_barang:a.nama_barang,berat:parseFloat(a.berat),berat_asli:parseFloat(a.berat_asli),kadar_modal:parseFloat(a.kadar_modal),kadar:parseFloat(a.kadar),kadar_cetak:parseFloat(a.kadar_cetak),nama_atribut:a.nama_atribut||"-",berat_atribut:parseFloat(a.berat_atribut)||0,harga_atribut:parseInt(a.harga_atribut)||0,tag_id:"-",berat_bandrol:0};setTimeout(()=>{Object(B.e)("tambah-barang/create",t).then(a=>{Object(n.r)("success","Data Barang Berhasil Di Tambahkan")}).then(()=>{void 0===a.foto||Object(n.G)("imagebarang/add",e).then(a=>{console.log(a.data)}).catch(a=>{console.log(a.response.data)}),Object(B.b)("barang/get/by-kode-baki/"+a.kode_lokasi_toko).then(a=>{0===a.data.length?this.setState({databarang:[]}):this.setState({databarang:a.data}),this.setState({isLoading:!1})}).catch(a=>{this.setState({isLoading:!1,databarang:[]}),Object(n.r)("info","Kode Baki Yang Anda Dicari Tidak Ada")}),this.props.dispatch(Object(n.I)("FormTambahBarang")),this.props.dispatch(Object(n.B)())}).catch(a=>{this.setState({isLoading:!1}),Object(n.r)("info",a.response.data.message||"Error Koneksi")})},300)}showModalTambahBarang(a){console.log(a),Object(n.J)("data_kategori_jenis",a),this.setState({formTambahBarang:!0}),this.props.dispatch(Object(n.K)()),this.props.dispatch(Object(l.o)(a))}getBarangPesanan(){Object(B.b)("pesanan/no/"+this.state.noPesanan).then(a=>console.log(a.data)).catch(a=>console.log(a))}handleSubmit(a){this.setState({isLoading:!0});let e={kode_barcode:a.kode_barcode,dataimage:a.foto},t={nama_barang:a.nama_barang,nama_atribut:a.nama_atribut,harga_atribut:a.harga_atribut,kode_intern:a.kode_intern,kadar:a.kadar,kadar_cetak:a.kadar_cetak};Object(n.G)("barang/edit/"+a.kode_barcode,t).then(()=>{this.props.dispatch(Object(n.B)())}).then(()=>{void 0===a.foto||Object(n.G)("imagebarang/add",e).then(a=>{console.log(a.data)}).catch(a=>{console.log(a.response.data)})}).then(()=>{this.setState({databarang:[]}),this.props.dispatch(Object(n.I)("HeadEditDataBarang")),this.props.dispatch(Object(l.m)(!1))}).then(()=>{Object(n.r)("success","Data Berhasil Disimpan")}).then(()=>{this.setState({isLoading:!1})}).catch(a=>{this.setState({isLoading:!1}),Object(n.r)("info","Barang Gagal Di Edit")})}render(){const a={renderer:a=>n.l.createElement("div",{className:"container"},n.l.createElement("div",{className:"row"},n.l.createElement("div",{className:"col-12"},"Nama Atribut : ",a.nama_atribut," ",n.l.createElement("br",null),"Betat Atribut : ",a.berat_atribut," ",n.l.createElement("br",null),"Harga Atribut : ",a.harga_atribut," ",n.l.createElement("br",null),"Kode Intern : ",a.kode_intern," ",n.l.createElement("br",null),"Kadar : ",a.kadar," ",n.l.createElement("br",null),"Kadar Cetak : ",a.kadar_cetak," ",n.l.createElement("br",null),"Kode Toko : ",a.kode_toko," ",n.l.createElement("br",null),"Kode Gudang : ",a.kode_gudang," ",n.l.createElement("br",null),"Stock : ",a.stock_on_hand," ",n.l.createElement("br",null)))),showExpandColumn:!0,expandByColumnOnly:!0};return n.l.createElement("div",null,n.l.createElement("ol",{className:"breadcrumb float-xl-right"},n.l.createElement("li",{className:"breadcrumb-item"},n.l.createElement(n.g,{to:"#"},"Barang")),n.l.createElement("li",{className:"breadcrumb-item active"},"Tambah Barang")),n.l.createElement("h1",{className:"page-header"},"Tambah Barang "),n.l.createElement(n.j,null,n.l.createElement(n.k,null,"Tambah Data Barang"),n.l.createElement("br",null),n.l.createElement("div",{className:"container"},n.l.createElement(M,{onSubmit:a=>this.showModalTambahBarang(a),barangPesanan:this.showBarangPesanan}))),n.l.createElement(n.j,null,n.l.createElement(n.k,null,"Data Barang"),n.l.createElement("br",null),n.l.createElement("div",{className:"container"},n.l.createElement(n.q,{keyField:"kode_barang",exportCsv:!0,data:this.state.databarang,columns:this.state.columns,empty:!0,textEmpty:this.state.loadingData?n.l.createElement(n.l.Fragment,null," ",n.l.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Mencari Data Barang"):"Data Barang Kosong",expandRow:a})),n.l.createElement("br",null),n.l.createElement(n.h,{size:"l",title:this.state.formTambahBarang?"Tambah Barang":this.state.fromModalPesanan?"Barang Pesanan":"Edit Barang",content:this.state.formTambahBarang?n.l.createElement(S,{isLoading:this.state.isLoading,onSubmit:a=>this.tambahbarang(a)}):this.state.fromModalPesanan?n.l.createElement("div",null,n.l.createElement("label",{htmlFor:""},"Masukan Nomor Pesanan"),n.l.createElement("div",{className:"input-group mb-3"},n.l.createElement("input",{type:"text",class:"form-control",placeholder:"Recipient's username","aria-label":"Recipient's username","aria-describedby":"basic-addon2"}),n.l.createElement("div",{class:"input-group-append"},n.l.createElement("button",{class:"btn btn-primary",type:"button"},"Search"))),n.l.createElement("div",null,n.l.createElement("label",{htmlFor:""},"List Barang"),n.l.createElement("select",{className:"form-control","aria-label":"Default select example"},n.l.createElement("option",{selected:!0},"Silahkan Pilih Barang"),n.l.createElement("option",{value:"1"},"One"),n.l.createElement("option",{value:"2"},"Two"),n.l.createElement("option",{value:"3"},"Three"))),n.l.createElement("div",{className:"mt-2"},n.l.createElement("button",{className:"btn btn-primary"},"Simpan"))):n.l.createElement(j,{isLoading:this.state.isLoading,onSubmit:a=>this.handleSubmit(a)})})))}})}}]);
//# sourceMappingURL=24.7cd4f956.chunk.js.map