{"version":3,"sources":["Validasi/Pembelian/ValidasiPembelian.jsx","pages/Pembelian/TransaksiPembelian/OtorisasiPembelian.jsx","pages/Pembelian/TransaksiPembelian/ModalTambahBarang.jsx","pages/Pembelian/TransaksiPembelian/ModalDataCustomer.jsx","pages/Pembelian/TransaksiPembelian/ModalPembayaran.jsx","pages/Pembelian/TransaksiPembelian/LihatDataBarang.jsx","pages/Pembelian/TransaksiPembelian/FormTransaksiPembelian.jsx"],"names":["ValidasiPembelian","value","errors","kode_dept","nama_barang","berat","harga","harga_rata","kondisi","OtorisasiPembelian","Component","constructor","props","super","this","state","componentDidMount","render","react_default","a","createElement","onSubmit","handleSubmit","onKeyPress","e","key","preventDefault","autoComplete","className","Field","name","component","HiidenFiled","type","ReanderField","label","placeholder","disabled","isLoadingOtorisasi","Fragment","reduxForm","form","enableReinitialize","connect","currencyMask","createNumberMask","prefix","locale","ModalTambahBarang","isLoading","harga_jual","hargapergram","ongkos","total","nominal_harga_jual","dispatch","getDataSales","getDataJenis","getKondisiPembelian","setTimeout","document","getElementById","focus","getBarcode","cek","JSON","parse","localStorage","getItem","findIndex","hasil","kode_barcode","getData","then","res","data","length","ToastNotification","change","forEach","list","index","datamember","data_cusomer","kode_sales","jenis_pelanggan","kode_member","kode_customer","nama_customer","alamat_customer","no_hp","console","log","setItem","stringify","nama_atribut","berat_atribut","harga_atribut","setState","catch","err","hitungTotal","checkHarga","nominal_harga","setValue","onChange","target","id","normalize","replace","options","datajenis","filter","undefined","map","nama_dept","ReanderSelect","Object","assign","onBlur","readOnly","datakondisi","kondisi_barang","isLoadingSimpanBarang","ModalGlobal","size","title","content","TransaksiPembelian_OtorisasiPembelian","hancurBarang","validate","selector","formValueSelector","_selector","setBarangPembelian","penjualan","parseFloat","DataSales","datamaster","ModalDataCustomer","showMember","data_customer","changemember","getMember","item","tabIndex","onClick","back","ValidasiFormDataMemberPenjualan","initialValues","jenis_pembayaran","ModalPembayaran","[object Object]","args","data_barang_penjualan","kembali","NumberOnly","ValidasiPembayaran","grand_total_pembayaran","cash","LihatDataBarang","tabel","keyField","exportCsv","columns","empty","textEmpty","React","step","isLoadingBatal","isLoadingSimanBeli","isLoadingDataCustomer","dataField","text","footerAttrs","colSpan","footer","formatter","cell","parseInt","toLocaleString","columnData","reduce","acc","toFixed","csvExport","headerClasses","rowcontent","row","hapusdata","Swal","fire","icon","position","cancelButtonText","showCancelButton","confirmButtonText","showConfirmButton","result","isConfirmed","splice","simpanBarang","harga_nota","berat_nota","push","reset","data_pembayaran","jenis","jumlah_rp","data_pembelian","detail_barang","datapembelian","pembayaran","postData","message","errorhandling","simpanPembayaran","cash_bayar","componentWillUnmount","error","nextLihatDataBarang","btlPembelian","react_router_dom","to","panel","lib_default","steps","activeStep","TransaksiPembelian_ModalTambahBarang","TransaksiPembelian_LihatDataBarang","TransaksiPembelian_ModalDataCustomer","TransaksiPembelian_ModalPembayaran"],"mappings":"yPAiCeA,MAjCYC,IACvB,MAAMC,EAAS,GA6Bf,OAzBKD,EAAME,YACPD,EAAOC,UAAY,4BAElBF,EAAMG,cACPF,EAAOE,YAAc,kCAKpBH,EAAMI,QACPH,EAAOG,MAAQ,4BAKdJ,EAAMK,QACPJ,EAAOI,MAAQ,4BAEdL,EAAMM,aACPL,EAAOK,WAAa,iCAEnBN,EAAMO,UACPN,EAAOM,QAAU,yBAGdN,WCzBX,MAAMO,UAA2BC,YAC/BC,YAAYC,GACVC,MAAMD,GACNE,KAAKC,MAAQ,GAEfC,qBAKAC,SACE,OACEC,EAAAC,EAAAC,cAAA,QACEC,SAAUP,KAAKF,MAAMU,aACrBC,WAAaC,IACD,UAAVA,EAAEC,KAAmBD,EAAEE,kBAEzBC,aAAa,OAEbT,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,OACbV,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,YACbV,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACEC,KAAK,kBACLC,UAAWC,IACXC,KAAK,WAEPf,EAAAC,EAAAC,cAACS,EAAA,EAAD,CAAOC,KAAK,SAASC,UAAWC,IAAaC,KAAK,WAClDf,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACEC,KAAK,WACLC,UAAWG,IACXD,KAAK,OACLE,MAAM,WACNC,YAAY,sBAGhBlB,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,YACbV,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACEC,KAAK,WACLC,UAAWG,IACXD,KAAK,WACLE,MAAM,WACNC,YAAY,sBAGhBlB,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,YACbV,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,UACEa,KAAK,SACLH,KAAK,WACLF,UAAU,4BACVS,SAAUvB,KAAKF,MAAM0B,oBAEpBxB,KAAKF,MAAM0B,mBACVpB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAoB,SAAA,KACErB,EAAAC,EAAAC,cAAA,KAAGQ,UAAU,2BADf,mBAIA,iBAUhBnB,EAAqB+B,YAAU,CAC7BC,KAAM,qBACNC,oBAAoB,GAFDF,CAGlB/B,GACYkC,kBAAQ,KAARA,CAAclC,GC3D7B,MAAMmC,EAAeC,2BAAiB,CACpCC,OAAQ,OACRC,OAAQ,UAGV,MAAMC,UAA0BtC,YAC9BC,YAAYC,GACVC,MAAMD,GACNE,KAAKC,MAAQ,CACXkC,WAAW,EACXC,YAAY,EACZC,cAAc,EACdC,QAAQ,EACRC,OAAO,EACPC,mBAAoB,IAGxBtC,oBACEF,KAAKF,MAAM2C,SAASC,gBACpB1C,KAAKF,MAAM2C,SAASE,gBACpB3C,KAAKF,MAAM2C,SAASG,gBACpBC,WAAW,KACTC,SAASC,eAAe,gBAAgBC,SACvC,KAELC,WAAWvC,GACT,IAAIwC,EACFC,KAAKC,MAAMC,aAAaC,QAAQ,+BAAiC,GACnER,SAASC,eAAe,gBAAgBC,SAErB,IADHE,EAAIK,UAAWC,GAAUA,EAAMC,eAAiB/C,GAE9DgD,YAAQ,sBAAwBhD,GAC7BiD,KAAMC,IACmB,IAApBA,EAAIC,KAAKC,QACXC,YAAkB,OAAQ,8BAC1B/D,KAAKF,MAAMkE,OAAO,cAAe,IACjChE,KAAKF,MAAMkE,OAAO,eAAgB,IAClChE,KAAKF,MAAMkE,OAAO,gBAAiB,IACnChE,KAAKF,MAAMkE,OAAO,gBAAiB,IACnChE,KAAKF,MAAMkE,OAAO,QAAS,IAC3BhE,KAAKF,MAAMkE,OAAO,aAAc,IAChChE,KAAKF,MAAMkE,OAAO,YAAa,IAC/BhE,KAAKF,MAAMkE,OAAO,QAAS,KAE3BJ,EAAIC,KAAKI,QAAQ,CAACC,EAAMC,KACtB,IAAIC,EAAajB,KAAKC,MACpBC,aAAaC,QAAQ,gCAAkC,IAIzD,GAAmB,OAAfc,GAA6C,IAAtBA,EAAWN,OAAc,CAClD,IAAIO,EAAe,CACjBC,WAAYJ,EAAKI,WACjBC,gBACuB,cAArBL,EAAKM,YAA8B,YAAc,SACnDC,cAAeP,EAAKM,YACpBE,cAAeR,EAAKQ,cACpBC,gBAAiBT,EAAKS,gBACtBC,MAAOV,EAAKU,OAEd9B,SAASC,eAAe,SAASC,QACjC6B,QAAQC,IAAIZ,EAAK7E,WACjBgE,aAAa0B,QACX,8BACA5B,KAAK6B,UAAUX,IAGjBrE,KAAKF,MAAMkE,OAAO,cAAeE,EAAK5E,aACtCU,KAAKF,MAAMkE,OAAO,eAAgBE,EAAKe,cACvCjF,KAAKF,MAAMkE,OAAO,gBAAiBE,EAAKgB,eACxClF,KAAKF,MAAMkE,OAAO,gBAAiBE,EAAKiB,eACxCnF,KAAKF,MAAMkE,OAAO,aAAcE,EAAK3E,OACrCS,KAAKF,MAAMkE,OAAO,QAASE,EAAK3E,OAChCS,KAAKF,MAAMkE,OAAO,YAAaE,EAAK7E,WACpCW,KAAKF,MAAMkE,OAAO,aAAcE,EAAK9B,YACrCpC,KAAKF,MAAMkE,OAAO,QAASE,EAAK9B,YAChCpC,KAAKoF,SAAS,CACZhD,YAAY,EACZC,cAAc,EACdC,QAAQ,EACRE,mBAAoB0B,EAAK9B,iBAEtB,CACL,GAAI8B,EAAKM,cAAgBJ,EAAWK,cAElC,OADAV,YAAkB,OAAQ,0BACnB,EACF,CACL,IAAIM,EAAe,CACjBC,WAAYJ,EAAKI,WACjBC,gBACuB,cAArBL,EAAKM,YAA8B,YAAc,SACnDC,cAAeP,EAAKM,YACpBE,cAAeR,EAAKQ,cACpBC,gBAAiBT,EAAKS,gBACtBC,MAAOV,EAAKU,OAEd9B,SAASC,eAAe,SAASC,QACjCK,aAAa0B,QACX,8BACA5B,KAAK6B,UAAUX,IAEjBrE,KAAKF,MAAMkE,OAAO,cAAeE,EAAK5E,aACtCU,KAAKF,MAAMkE,OAAO,eAAgBE,EAAKe,cACvCjF,KAAKF,MAAMkE,OAAO,gBAAiBE,EAAKgB,eACxClF,KAAKF,MAAMkE,OAAO,gBAAiBE,EAAKiB,eACxCnF,KAAKF,MAAMkE,OAAO,aAAcE,EAAK3E,OACrCS,KAAKF,MAAMkE,OAAO,QAASE,EAAK3E,OAChCS,KAAKF,MAAMkE,OAAO,YAAaE,EAAK7E,WACpCW,KAAKF,MAAMkE,OAAO,aAAcE,EAAK9B,YACrCpC,KAAKF,MAAMkE,OAAO,QAASE,EAAK9B,YAChCpC,KAAKoF,SAAS,CACZhD,YAAY,EACZC,cAAc,EACdC,QAAQ,EACRE,mBAAoB0B,EAAK9B,mBAOpCiD,MAAOC,IACNtF,KAAKF,MAAMkE,OAAO,cAAe,IACjChE,KAAKF,MAAMkE,OAAO,eAAgB,IAClChE,KAAKF,MAAMkE,OAAO,gBAAiB,IACnChE,KAAKF,MAAMkE,OAAO,gBAAiB,IACnChE,KAAKF,MAAMkE,OAAO,QAAS,IAC3BhE,KAAKF,MAAMkE,OAAO,YAAa,IAC/BhE,KAAKF,MAAMkE,OAAO,QAAS,IAC3BD,YAAkB,OAAQ,iCAG9B/D,KAAKF,MAAMkE,OAAO,cAAe,IACjChE,KAAKF,MAAMkE,OAAO,eAAgB,IAClChE,KAAKF,MAAMkE,OAAO,gBAAiB,IACnChE,KAAKF,MAAMkE,OAAO,gBAAiB,IACnChE,KAAKF,MAAMkE,OAAO,QAAS,IAC3BhE,KAAKF,MAAMkE,OAAO,YAAa,IAC/BhE,KAAKF,MAAMkE,OAAO,QAAS,IAC3BD,YAAkB,OAAQ,uCAG9BwB,cACEvF,KAAKF,MAAMkE,OAAO,aAAchE,KAAKF,MAAML,YAE7C+F,aACMxF,KAAKF,MAAM2F,cAAgBzF,KAAKC,MAAMuC,oBAGxCqC,QAAQC,IAAI,QAIhBY,SAAShF,GACPmE,QAAQC,IAAIpE,GAIF,KAANA,GACFV,KAAKgE,OAAO,aAAc,GAI9B7D,SACE,OACEC,EAAAC,EAAAC,cAAAF,EAAAC,EAAAoB,SAAA,KACErB,EAAAC,EAAAC,cAAA,QACEC,SAAUP,KAAKF,MAAMU,aACrBC,WAAaC,IACD,UAAVA,EAAEC,KAAmBD,EAAEE,kBAEzBC,aAAa,OAEbT,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,OACbV,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,mBACbV,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACE4E,SAAWjF,GAAMV,KAAKiD,WAAWvC,EAAEkF,OAAOzG,OAC1C0G,GAAG,eACH7E,KAAK,eACLK,MAAM,eACNF,KAAK,OACL2E,UAAY3G,GAAUA,EAAM4G,QAAQ,SAAU,IAC9CzE,YAAY,uBACZL,UAAWG,OAGfhB,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,mBACbV,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACEM,MAAM,aACNL,KAAK,YACLgF,QAAShG,KAAKF,MAAMmG,UACjBC,OAAQhC,QAA4BiC,IAAnBjC,EAAK7E,WACtB+G,IAAKlC,IAKJ,MAJW,CACT/E,MAAO+E,EAAK7E,UACZ2B,KAAMkD,EAAK7E,UAAY,MAAQ6E,EAAKmC,YAEvB,KAEnB/E,YAAa,4BACbL,UAAWqF,OAGflG,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,mBACbV,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACEC,KAAK,cACLK,MAAM,cACNF,KAAK,OACLG,YAAY,sBACZL,UAAWG,OAGfhB,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,mBACbV,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACEC,KAAK,aACLK,MAAM,aACNF,KAAK,SACLG,YAAY,qBACZL,UAAWG,OAGfhB,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,mBACbV,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACE8E,GAAG,QACH7E,KAAK,QACLK,MAAM,QACNF,KAAK,SACLwE,SAAU3F,KAAKuF,cACfjE,YAAY,gBACZL,UAAWG,OAGfhB,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,mBACbV,EAAAC,EAAAC,cAACS,EAAA,EAADwF,OAAAC,OAAA,CACExF,KAAK,aACLK,MAAM,aACNF,KAAK,QACDW,EAJN,CAKER,YAAY,qBACZL,UAAWG,QAGfhB,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,mBACbV,EAAAC,EAAAC,cAACS,EAAA,EAADwF,OAAAC,OAAA,CACExF,KAAK,QACLK,MAAM,aACNF,KAAK,OACLsF,OAAQ,IAAMzG,KAAKwF,aACnBG,SAAU3F,KAAKuF,eACXzD,EANN,CAOER,YAAY,qBACZL,UAAWG,QAGfhB,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,mBACbV,EAAAC,EAAAC,cAACS,EAAA,EAADwF,OAAAC,OAAA,CACExF,KAAK,aACLK,MAAM,aACNF,KAAK,OACLuF,UAAU,GACN5E,EALN,CAMER,YAAY,qBACZL,UAAWG,QAGfhB,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,mBACbV,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACEC,KAAK,UACLK,MAAM,UACN2E,QAAShG,KAAKF,MAAM6G,YACjBT,OAAQhC,QAAiCiC,IAAxBjC,EAAK0C,gBACtBR,IAAKlC,IAKJ,MAJW,CACT/E,MAAO+E,EAAK0C,eACZ5F,KAAMkD,EAAK0C,iBAEE,KAEnBtF,YAAY,kBACZL,UAAWqF,OAGflG,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,mBACbV,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,UACEQ,UAAU,4BACVS,SAAUvB,KAAKF,MAAM+G,sBACrB1F,KAAK,UAEJnB,KAAKF,MAAM+G,sBACVzG,EAAAC,EAAAC,cAAAF,EAAAC,EAAAoB,SAAA,KACErB,EAAAC,EAAAC,cAAA,KAAGQ,UAAU,2BADf,0BAKA,oBAMVV,EAAAC,EAAAC,cAACwG,EAAA,EAAD,CACEC,KAAK,IACLC,MAAM,0BACNC,QACE7G,EAAAC,EAAAC,cAAC4G,EAAD,CACE1F,mBAAoBxB,KAAKC,MAAMuB,mBAC/BjB,SAAWsD,GAAS7D,KAAKmH,aAAatD,SAgBpD3B,EAAoBR,YAAU,CAC5BC,KAAM,oBACNC,oBAAoB,EACpBwF,SAAUlI,GAHQwC,CAIjBQ,GAEH,MAAMmF,EAAWC,YAAkB,qBACpBzF,kBAAS5B,IAAU,MAAAsH,EACPF,EAASpH,EAAO,QAAS,SAA1CT,EADwB+H,EACxB/H,MAAOD,EADiBgI,EACjBhI,MACf,MAAO,CACLiI,mBAAoBvH,EAAMwH,UAAUD,mBACpC/H,WAAYiI,WAAWlI,GAAS,GAAKkI,WAAWnI,GAAS,IAAM,EAC/DkG,cAAeiC,WAAWlI,GAAS,GACnCmI,UAAW1H,EAAM2H,WAAWlF,aAC5BuD,UAAWhG,EAAM2H,WAAWjF,aAC5BgE,YAAa1G,EAAM2H,WAAWhF,sBARnBf,CAUZK,mBC5VH,MAkBMqC,EAAkB,CACtB,CACEpF,MAAO,SACP6B,KAAM,UAER,CACE7B,MAAO,YACP6B,KAAM,eAGV,MAAM6G,UAA0BjI,YAC9BC,YAAYC,GACVC,MAAMD,GACNE,KAAKC,MAAQ,CACX6H,YAAY,GAGhB5H,oBACEF,KAAKF,MAAM2C,SAASC,gBACpB,IAAIqF,EACsD,OAAxD1E,aAAaC,QAAQ,+BACjB,GACAH,KAAKC,MAAMC,aAAaC,QAAQ,gCAAkC,IACpEyE,GAAmD,WAAlCA,EAAcxD,gBACjCvE,KAAKoF,SAAS,CACZ0C,YAAY,IAGd9H,KAAKoF,SAAS,CACZ0C,YAAY,IAIlBE,aAAatH,GAED,WAANA,EACFV,KAAKoF,SAAS,CACZ0C,YAAY,KAGd9H,KAAKF,MAAMkE,OAAO,gBAAiB,IACnChE,KAAKF,MAAMkE,OAAO,gBAAiB,IACnChE,KAAKF,MAAMkE,OAAO,QAAS,IAC3BhE,KAAKF,MAAMkE,OAAO,kBAAmB,IACrChE,KAAKoF,SAAS,CACZ0C,YAAY,KAKlBG,UAAUvH,GAERgD,YAAQ,6BAA+BhD,GACpCiD,KAAMC,IAEmB,IAApBA,EAAIC,KAAKC,OACXC,YAAkB,OAAQ,0CAE1BH,EAAIC,KAAKI,QAAQ,CAACiE,EAAM/D,KACtBnE,KAAKF,MAAMkE,OAAO,gBAAiBkE,EAAKxD,eACxC1E,KAAKF,MAAMkE,OAAO,QAASkE,EAAKtD,OAChC5E,KAAKF,MAAMkE,OAAO,kBAAmBkE,EAAKvD,qBAI/CU,MAAOC,IACNvB,YACE,OACA,mDAIR5D,SACE,OACEC,EAAAC,EAAAC,cAAA,QACEC,SAAUP,KAAKF,MAAMU,aACrBC,WAAaC,IACD,UAAVA,EAAEC,KAAmBD,EAAEE,kBAEzBC,aAAa,OAEbT,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,OACbV,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,SACbV,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACEoH,SAAS,IACTnH,KAAK,aACLK,MAAM,mBACNC,YAAY,qBACZ0E,QAAShG,KAAKF,MAAM6H,UAAUzB,OAC3BhC,QAA6BiC,IAApBjC,EAAKI,YACf8B,IAAKlC,IAKL,MAJW,CACT/E,MAAO+E,EAAKI,WACZtD,KAAMkD,EAAKI,cAIfrD,UAAWqF,OAGflG,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,SACbV,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACEoH,SAAS,IACTnH,KAAK,kBACLK,MAAM,kBACNsE,SAAWjF,GAAMV,KAAKgI,aAAatH,GACnCY,YAAY,2BACZ0E,QAASzB,EACTtD,UAAWqF,OAGflG,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,SACbV,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACEoH,SAAS,IACTnH,KAAK,gBACL2E,SAAWjF,GAAMV,KAAKiI,UAAUvH,EAAEkF,OAAOzG,OACzC8B,UAAWG,IACXD,KAAK,OACLuF,SAAU1G,KAAKC,MAAM6H,WACrBzG,MAAM,gBACNC,YAAY,2BAGhBlB,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,SACbV,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACEoH,SAAS,IACTnH,KAAK,gBACLC,UAAWG,IACXD,KAAK,OACLE,MAAM,gBACNC,YAAY,2BAGhBlB,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,SACbV,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACEoH,SAAS,IACTnH,KAAK,QACLC,UAAWG,IACXD,KAAK,SACLE,MAAM,QACNC,YAAY,mBAGhBlB,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,SACbV,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACEoH,SAAS,IACTnH,KAAK,kBACLC,UAAWG,IACXD,KAAK,WACLE,MAAM,kBACNC,YAAY,8BAIlBlB,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,OACbV,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,mBACbV,EAAAC,EAAAC,cAAA,UACE8H,QAAS,IAAMpI,KAAKF,MAAMuI,OAC1BvH,UAAU,oBACVK,KAAK,UAHP,YAQFf,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,oBACbV,EAAAC,EAAAC,cAAA,UAAQQ,UAAU,kBAAkBK,KAAK,SACzCI,SAAUvB,KAAKF,MAAMqC,WAEpBnC,KAAKF,MAAMqC,UACR/B,EAAAC,EAAAC,cAAAF,EAAAC,EAAAoB,SAAA,KACErB,EAAAC,EAAAC,cAAA,KAAGQ,UAAU,2BADf,2BAIA,yBA6BhB+G,EAAoBnG,YAAU,CAC5BC,KAAM,oBACNC,oBAAoB,EACpBwF,SAAUkB,KAHQ5G,CAIjBmG,GACYhG,kBApOK5B,IAClB,IAAI8H,EACsD,OAAxD1E,aAAaC,QAAQ,+BACjB,GACAH,KAAKC,MAAMC,aAAaC,QAAQ,gCAAkC,IACxE,MAAO,CACLiF,cAAe,CACbjE,WAAYyD,EAAczD,YAAc,GACxCC,gBAAiBwD,EAAcxD,iBAAmB,GAClDE,cAAesD,EAActD,eAAiB,GAC9CC,cAAeqD,EAAcrD,eAAiB,GAC9CE,MAAOmD,EAAcnD,OAAS,GAC9BD,gBAAiBoD,EAAcpD,iBAAmB,IAEpDgD,UAAW1H,EAAM2H,WAAWlF,eAsNG,KAApBb,CAA0BgG,mBCpOzC,MAAM/F,EAAeC,2BAAiB,CACpCC,OAAQ,OACRC,OAAQ,UAEJuG,EAAmB,CACvB,CACErJ,MAAO,OACP6B,KAAM,SAGV,MAAMyH,UAAwB7I,YAAU8I,eAAAC,GAAA5I,SAAA4I,GAAA3I,KACtCC,MAAQ,GACRC,oBACEF,KAAKF,MAAM2C,SAASC,gBACpB,IAAIkG,EAAwBzF,KAAKC,MAC/BC,aAAaC,QAAQ,8BAEnBf,EAAQ,EACZqG,EAAsB3E,QAAQ,CAACiE,EAAM/D,KAEnC5B,GAAgB2F,EAAK1I,MACrBQ,KAAKF,MAAMkE,OAAO,yBAA0BzB,KAE9CvC,KAAKF,MAAMkE,OAAO,QAAS,QAC3BnB,WAAW,KACTC,SAASC,eAAe,sBAAsBC,SAC7C,KAELuC,cACEvF,KAAKF,MAAMkE,OAAO,UAAWhE,KAAKF,MAAM+I,SAE1C1I,SACE,OACEC,EAAAC,EAAAC,cAAA,QACEC,SAAUP,KAAKF,MAAMU,aACrBC,WAAaC,IACD,UAAVA,EAAEC,KAAmBD,EAAEE,kBAEzBC,aAAa,OAEbT,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,OACbV,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,SACbV,EAAAC,EAAAC,cAACS,EAAA,EAADwF,OAAAC,OAAA,CACExF,KAAK,yBACLC,UAAWG,IACXD,KAAK,OACLwE,SAAU3F,KAAKuF,cACfmB,UAAU,GACN5E,EANN,CAOET,MAAM,yBACNC,YAAY,0BAGhBlB,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,SACbV,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACEC,KAAK,QACLK,MAAM,oBACNC,YAAY,yBACZ0E,QAASwC,EACTvH,UAAWqF,OAGflG,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,SACbV,EAAAC,EAAAC,cAACS,EAAA,EAADwF,OAAAC,OAAA,CACE2B,SAAS,IACTnH,KAAK,OACL6E,GAAG,qBACH5E,UAAWG,IACXD,KAAK,OACLE,MAAM,OACNsE,SAAU3F,KAAKuF,eACXzD,EARN,CASEgE,UAAWgD,IACXxH,YAAY,+BAGhBlB,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,SACbV,EAAAC,EAAAC,cAACS,EAAA,EAADwF,OAAAC,OAAA,CACExF,KAAK,UACLC,UAAWG,IACXD,KAAK,OACLuF,UAAU,EACVrF,MAAM,WACFS,EANN,CAOEgE,UAAWgD,IACXxH,YAAY,iBAKlBlB,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,OACbV,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,mBACbV,EAAAC,EAAAC,cAAA,UACE8H,QAAS,IAAMpI,KAAKF,MAAMuI,OAC1BvH,UAAU,oBACVK,KAAK,UAHP,YAQFf,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,oBACfV,EAAAC,EAAAC,cAAA,UACI6H,SAAS,IACTrH,UAAU,mBACVS,SAAUvB,KAAKF,MAAMqC,UACrBhB,KAAK,UAEJnB,KAAKF,MAAMqC,UACV/B,EAAAC,EAAAC,cAAAF,EAAAC,EAAAoB,SAAA,KACErB,EAAAC,EAAAC,cAAA,KAAGQ,UAAU,2BADf,yBAKA,sBAuChB2H,EAAkB/G,YAAU,CAC1BC,KAAM,kBACNC,oBAAoB,EACpBwF,SAAU2B,KAHMrH,CAIf+G,GAEH,MAAMpB,EAAWC,YAAkB,mBAEpBzF,kBAAS5B,IAAU,MAAAsH,EACSF,EACvCpH,EACA,yBACA,QAHM+I,EADwBzB,EACxByB,uBAAwBC,EADA1B,EACA0B,KAKhC,MAAO,CACLJ,QAASnB,WAAWsB,GAA0B,GAAKtB,WAAWuB,GAAQ,KAP3DpH,CASZ4G,WC/KH,MAAMS,UAAwBtJ,YAC5BC,YAAYC,GACVC,MAAMD,GACNE,KAAKC,MAAQ,CACXkC,WAAW,EACXC,YAAY,EACZC,cAAc,EACdC,QAAQ,EACRC,OAAO,GAGXrC,oBACEF,KAAKF,MAAM2C,SAASC,gBACpB1C,KAAKF,MAAM2C,SAASE,gBACpB3C,KAAKF,MAAM2C,SAASG,gBAGtBzC,SACI,OAEIC,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,OACfV,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,UACbV,EAAAC,EAAAC,cAAC6I,EAAA,EAAD,CACEC,SAAS,cACTC,WAAW,EACXxF,KAC2C,IAAzC7D,KAAKF,MAAM0H,mBAAmB1D,OAC1BX,KAAKC,MACHC,aAAaC,QAAQ,8BAEvBtD,KAAKF,MAAM0H,mBAIjB8B,QAAStJ,KAAKF,MAAMwJ,QAKpBC,OAAO,EACPC,UAAU,0BAcxBN,EAAkBxH,YAAU,CACxBC,KAAM,kBACNC,oBAAoB,EACpBwF,SAASlI,GAHKwC,CAIfwH,GAGH,MAAM7B,EAAWC,YAAkB,mBAEpBzF,kBAAS5B,IAAU,MAAAsH,EACPF,EACvBpH,EACA,QACA,SAHMT,EADwB+H,EACxB/H,MAAOD,EADiBgI,EACjBhI,MAKf,MAAO,CACLiI,mBAAoBvH,EAAMwH,UAAUD,mBACpC/H,WAAYiI,WAAWlI,GAAS,GAAKkI,WAAWnI,GAAS,IAAM,EAC/DoI,UAAW1H,EAAM2H,WAAWlF,aAC5BuD,UAAWhG,EAAM2H,WAAWjF,aAC5BgE,YAAa1G,EAAM2H,WAAWhF,sBAXnBf,CAaZqH,GCmgBYrH,sBAtkBK5B,IACX,CACLuH,mBAAoBvH,EAAMwH,UAAUD,qBAokBL,KAApB3F,CAjkBf,cAAqC4H,IAAM7J,UACzCC,YAAYC,GACVC,MAAMD,GACNE,KAAKC,MAAQ,CACXkC,WAAW,EACXuH,KAAM,EACNC,gBAAgB,EAChBC,oBAAoB,EACpBC,uBAAuB,EACvBhD,uBAAuB,EACvByC,QAAS,CACP,CACEQ,UAAW,eACXC,KAAM,eACNC,YAAa,CACXC,QAAS,KAEXC,OAAQ,SAEV,CACEJ,UAAW,cACXC,KAAM,eAGR,CACED,UAAW,YACXC,KAAM,SAER,CACED,UAAW,aACXC,KAAM,aACNI,UAAYC,GACHhK,EAAAC,EAAAC,cAAA,YAAO+J,SAASD,GAAME,eAAe,UAE9CJ,OAASK,GACPF,SACEE,EAAWC,OAAO,CAACC,EAAKvC,IAASuC,EAAMvC,EAAM,IAC7CoC,eAAe,UAGrB,CACER,UAAW,aACXC,KAAM,aACNI,UAAYC,GACHhK,EAAAC,EAAAC,cAAA,YAAOoH,WAAW0C,GAAMM,QAAQ,IAEzCR,OAASK,GACP7C,WAAW6C,EAAWC,OAAO,CAACC,EAAKvC,IAASuC,EAAMvC,EAAM,IAAIwC,QAC1D,IAGN,CACEZ,UAAW,QACXC,KAAM,QACNI,UAAYC,GACHhK,EAAAC,EAAAC,cAAA,YAAOoH,WAAW0C,GAAMM,QAAQ,IAEzCR,OAASK,GACP7C,WAAW6C,EAAWC,OAAO,CAACC,EAAKvC,IAASuC,EAAMvC,EAAM,IAAIwC,QAC1D,IAIN,CACEZ,UAAW,QACXC,KAAM,aACNI,UAAYC,GACHhK,EAAAC,EAAAC,cAAA,YAAO+J,SAASD,GAAME,eAAe,UAE9CJ,OAASK,GACPF,SACEE,EAAWC,OAAO,CAACC,EAAKvC,IAASuC,EAAMvC,EAAM,IAC7CoC,eAAe,UAErB,CACER,UAAW,UACXC,KAAM,UACNG,OAAQ,IAGV,CACEJ,UAAW,SACXC,KAAM,SACNY,WAAW,EACXC,cAAe,cACfT,UAAW,CAACU,EAAYC,EAAK3G,IAEzB/D,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,mBACbV,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,UACbV,EAAAC,EAAAC,cAAA,UACEa,KAAK,SACLiH,QAAS,IAAMpI,KAAK+K,UAAU5G,GAC9BrD,UAAU,uBAEVV,EAAAC,EAAAC,cAAA,KAAGQ,UAAU,mBAMvBoJ,OAAQ,MAMhBa,UAAUlF,GACRmF,IAAKC,KAAK,CACRjE,MAAO,gBACP+C,KAAM,6BACNmB,KAAM,UACNC,SAAU,aACVC,iBAAkB,QAClBC,kBAAkB,EAClBC,kBAAmB,KACnBC,mBAAmB,IAClB5H,KAAM6H,IACP,GAAIA,EAAOC,YAAa,CACtB,IAAI5H,EAAOV,KAAKC,MACdC,aAAaC,QAAQ,8BAEvBO,EAAK6H,OAAO7F,EAAI,GAChBxC,aAAa0B,QAAQ,4BAA6B5B,KAAK6B,UAAUnB,IAC7C,IAAhBA,EAAKC,QACP9D,KAAKoF,SAAS,CACZsE,KAAM,IAGV1J,KAAKF,MAAM2C,SAAS+E,YAAmB3D,OAK7C8H,aAAa9H,GACX7D,KAAKoF,SAAS,CACZyB,uBAAuB,IAEzB,IAAIrD,EAAQ,CACVC,kBACwB0C,IAAtBtC,EAAKJ,aAAmC,IAAMI,EAAKJ,aACrDnE,YAAauE,EAAKvE,YAClBI,QAASmE,EAAKnE,QACdL,UAAWwE,EAAKxE,UAChBI,WAAY4K,SAASxG,EAAKpE,YAC1BmM,WAAYvB,SAASxG,EAAK+H,aAAe,EACzCpM,MAAO6K,SAASxG,EAAKrE,OACrBqM,WAAYnE,WAAW7D,EAAKgI,aAAe,EAC3CtM,MAAOmI,WAAW7D,EAAKtE,QAGzB,QAAqB4G,IAAjBtC,EAAKnE,QACP,OAAO,EAGT,IAAIwD,EACFC,KAAKC,MAAMC,aAAaC,QAAQ,+BAAiC,GAEnER,SAASC,eAAe,gBAAgBC,SAIrB,IAHHE,EAAIK,UACjBC,GAAUA,EAAMC,eAAiBI,EAAKJ,eAGvCP,EAAI4I,KAAKtI,GACTO,YAAkB,UAAW,+BAC7BV,aAAa0B,QAAQ,4BAA6B5B,KAAK6B,UAAU9B,IACjElD,KAAKF,MAAM2C,SAAS+E,YAAmBtE,IACvClD,KAAKF,MAAM2C,SAASsJ,YAAM,sBAC1BlJ,WAAW,KACT7C,KAAKoF,SAAS,CACZyB,uBAAuB,KAExB,OAEHhE,WAAW,KACT7C,KAAKoF,SAAS,CACZyB,uBAAuB,KAExB,KACH/D,SAASC,eAAe,gBAAgBC,QACxCe,YAAkB,OAAQ,8BAG9BvD,aAAaqD,GAKX7D,KAAKoF,SAAS,CACZjD,WAAW,IAEbkB,aAAa0B,QAAQ,8BAA+B5B,KAAK6B,UAAUnB,IAEnEhB,WAAW,KACT,IAAI+F,EAAwBzF,KAAKC,MAC/BC,aAAaC,QAAQ,8BAEnBf,EAAQ,EACZqG,EAAsB3E,QAAQ,CAACiE,EAAM/D,KAEnC5B,GAAgB2F,EAAK1I,QAEvB,IAAIwM,EAAkB,CACpBC,MAAO,OACPC,UAAW3J,GA2BTwF,EAAgB5E,KAAKC,MACvBC,aAAaC,QAAQ,gCAEnB6I,EAAiBhJ,KAAKC,MACxBC,aAAaC,QAAQ,8BAGnB8I,EAAgB,GACpBD,EAAelI,QAAQ,CAACiE,EAAM/D,KAC5B,IAAI2G,EAAM,CACRzL,UAAW6I,EAAK7I,UAChBC,YAAa4I,EAAK5I,YAClBuM,WAAY3D,EAAK2D,WACjBrM,MAAO0I,EAAK1I,MACZD,MAAO2I,EAAK3I,MACZqM,WAAY1D,EAAK0D,WACjBlM,QAASwI,EAAKxI,QACd+D,aAAcyE,EAAKzE,cAErB2I,EAAcN,KAAKhB,KAErB,IAAIuB,EAAgB,CAClB/H,WAAYyD,EAAczD,WAC1BI,cAAeqD,EAAcrD,cAC7BF,YACoC,cAAlCuD,EAAcxD,gBACVwD,EAAcxD,gBACdwD,EAActD,cACpBE,gBAAiBoD,EAAcpD,gBAC/BC,MAAOmD,EAAcnD,MACrBwH,cAAeA,EACfE,WAAY,CAACN,IAQfO,YAAS,mBAAoBF,GAC1B1I,KAAMC,IACLG,YAAkB,UAAWH,EAAIC,KAAK2I,WAEvC7I,KAAK,KACJ3D,KAAKoF,SAAS,CACZjD,WAAW,MAGdwB,KAAK,KACJ3D,KAAKF,MAAM2C,SAASsJ,YAAM,sBAE3BpI,KAAK,KACJN,aAAa0B,QACX,8BACA5B,KAAK6B,UAAU,KAEjB3B,aAAa0B,QAAQ,4BAA6B5B,KAAK6B,UAAU,OAElErB,KAAK,KACJ3D,KAAKF,MAAM2C,SAAS+E,YAAmB,KACvCxH,KAAKoF,SAAS,CACZsE,KAAM,MAGTrE,MAAOC,GAAQtF,KAAKyM,cAAcnH,KACpC,KAEL+C,KAAKxE,GACH7D,KAAKoF,SAAS,CACZsE,KAAM7F,IAaV6I,iBAAiB7I,GACf7D,KAAKoF,SAAS,CACZjD,WAAW,IAEb,IAAIyG,EAAwBzF,KAAKC,MAC/BC,aAAaC,QAAQ,8BAEnBf,EAAQ,EACZqG,EAAsB3E,QAAQ,CAACiE,EAAM/D,KAEnC5B,GAAgB2F,EAAK1I,QAMvB,IAAIyJ,EAAO,EAETA,EADEpF,EAAKoF,KAAOpF,EAAKmF,uBACZnF,EAAKmF,uBAELnF,EAAKoF,KAEd,IAAI+C,EAAkB,CACpBC,MAAOpI,EAAKoI,MACZC,UAAWjD,GAGb,GAAIoB,SAASxG,EAAKoF,MAAQoB,SAASxG,EAAKmF,wBAAyB,CAC/D,IAAI2D,EACFtC,SAASxG,EAAKmF,wBAA0BqB,SAASxG,EAAKoF,MASxD,OARAlF,YACE,OACA,8BACEsG,SAASsC,GAAYrC,eAAe,UAExCtK,KAAKoF,SAAS,CACZjD,WAAW,KAEN,EAGT,IAAI4F,EAAgB5E,KAAKC,MACvBC,aAAaC,QAAQ,gCAEnB6I,EAAiBhJ,KAAKC,MACxBC,aAAaC,QAAQ,8BAGnB8I,EAAgB,GACpBD,EAAelI,QAAQ,CAACiE,EAAM/D,KAC5B,IAAI2G,EAAM,CACRzL,UAAW6I,EAAK7I,UAChBC,YAAa4I,EAAK5I,YAClBuM,WAAY3D,EAAK2D,WACjBrM,MAAO0I,EAAK1I,MACZD,MAAO2I,EAAK3I,MACZqM,WAAY1D,EAAK0D,WACjBlM,QAASwI,EAAKxI,QACd+D,aAAcyE,EAAKzE,cAErB2I,EAAcN,KAAKhB,KAErB,IAAIuB,EAAgB,CAClB/H,WAAYyD,EAAczD,WAC1BI,cAAeqD,EAAcrD,cAC7BF,YACoC,cAAlCuD,EAAcxD,gBACVwD,EAAcxD,gBACdwD,EAActD,cACpBE,gBAAiBoD,EAAcpD,gBAC/BC,MAAOmD,EAAcnD,MACrBwH,cAAeA,EACfE,WAAY,CAACN,IAQfO,YAAS,mBAAoBF,GAC1B1I,KAAMC,IACLG,YAAkB,UAAWH,EAAIC,KAAK2I,WAEvC7I,KAAK,KACJ3D,KAAKoF,SAAS,CACZjD,WAAW,MAGdwB,KAAK,KACJ3D,KAAKF,MAAM2C,SAASsJ,YAAM,sBAE3BpI,KAAK,KACJN,aAAa0B,QAAQ,8BAA+B5B,KAAK6B,UAAU,KACnE3B,aAAa0B,QAAQ,4BAA6B5B,KAAK6B,UAAU,OAElErB,KAAK,KACJ3D,KAAKF,MAAM2C,SAAS+E,YAAmB,KACvCxH,KAAKoF,SAAS,CACZsE,KAAM,MAGTrE,MAAOC,GAAQtF,KAAKyM,cAAcnH,IAGvCsH,uBACEvJ,aAAa0B,QAAQ,8BAA+B5B,KAAK6B,UAAU,KACnE3B,aAAa0B,QAAQ,4BAA6B5B,KAAK6B,UAAU,KAEnEyH,cAAcI,GACZ7M,KAAKoF,SAAS,CACZjD,WAAW,IAEb4B,YAAkB,OAAQ,4BAE5B+I,sBAEE,GACuD,MAArDzJ,aAAaC,QAAQ,8BACoD,IAAzEH,KAAKC,MAAMC,aAAaC,QAAQ,8BAA8BQ,OAG9D,OADAC,YAAkB,OAAQ,mCACnB,EAEP/D,KAAKoF,SAAS,CAAEsE,KAAM,IAG1BqD,eACE/M,KAAKoF,SAAS,CACZuE,gBAAgB,IAElB9G,WAAW,KACTQ,aAAa0B,QAAQ,8BAA+B5B,KAAK6B,UAAU,KACnEhF,KAAKF,MAAM2C,SAAS+E,YAAmB,KACvCnE,aAAa0B,QAAQ,4BAA6B5B,KAAK6B,UAAU,KACjEhF,KAAKoF,SAAS,CACZuE,gBAAgB,KAEjB,KAELxJ,SACE,OACEC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,MAAIQ,UAAU,6BACZV,EAAAC,EAAAC,cAAA,MAAIQ,UAAU,mBACZV,EAAAC,EAAAC,cAAC0M,EAAA,EAAD,CAAMC,GAAG,KAAT,cAEF7M,EAAAC,EAAAC,cAAA,MAAIQ,UAAU,0BAAd,wBAEFV,EAAAC,EAAAC,cAAA,MAAIQ,UAAU,eAAd,wBACAV,EAAAC,EAAAC,cAAC4M,EAAA,EAAD,KACE9M,EAAAC,EAAAC,cAAC4M,EAAA,EAAD,4BACA9M,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAC6M,EAAA9M,EAAD,CACE+M,MAAO,CACL,CAAEpG,MAAO,gBACT,CAAEA,MAAO,qBACT,CAAEA,MAAO,kBAGXqG,WAAYrN,KAAKC,MAAMyJ,OAEzBtJ,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,OACQ,IAApBd,KAAKC,MAAMyJ,KACVtJ,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,UACbV,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,aACbV,EAAAC,EAAAC,cAACgN,EAAD,CACEzG,sBAAuB7G,KAAKC,MAAM4G,sBAClCyC,QAAStJ,KAAKC,MAAMqJ,QACpB/I,SAAWsD,GAAS7D,KAAK2L,aAAa9H,KAExCzD,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,OACbV,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,mBACbV,EAAAC,EAAAC,cAAA,UACE8H,QAAS,IAAMpI,KAAK+M,eACpBjM,UAAU,kBACVS,SAAUvB,KAAKC,MAAM0J,eACrBxI,KAAK,UAEJnB,KAAKC,MAAM0J,eACVvJ,EAAAC,EAAAC,cAAAF,EAAAC,EAAAoB,SAAA,KACErB,EAAAC,EAAAC,cAAA,KAAGQ,UAAU,2BADf,oBAKA,eAINV,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,oBACbV,EAAAC,EAAAC,cAAA,UACEQ,UAAU,kBACVsH,QAAS,IAAMpI,KAAK8M,uBAEnB,IAJH,OAKO,SAMO,IAApB9M,KAAKC,MAAMyJ,KACbtJ,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,UACbV,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,aACbV,EAAAC,EAAAC,cAACiN,EAAD,CACE1G,sBAAuB7G,KAAKC,MAAM4G,sBAClCyC,QAAStJ,KAAKC,MAAMqJ,QACpB/I,SAAWsD,GAAS7D,KAAK2L,aAAa9H,KAExCzD,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,OACbV,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,mBACbV,EAAAC,EAAAC,cAAA,UACE8H,QAAS,IAAMpI,KAAKqI,KAAK,GACzBvH,UAAU,oBACVK,KAAK,UAHP,YAQFf,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,oBACbV,EAAAC,EAAAC,cAAA,UACEQ,UAAU,kBACVsH,QAAS,IAAMpI,KAAKoF,SAAS,CAAEsE,KAAM,KAEpC,IAJH,OAKO,SAMO,IAApB1J,KAAKC,MAAMyJ,KACbtJ,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,UACbV,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,aACbV,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACkN,EAAD,CACErL,UAAWnC,KAAKC,MAAMkC,UACtBkG,KAAM,IAAMrI,KAAKqI,KAAK,GACtBwB,sBAAuB7J,KAAKC,MAAM4J,sBAClCtJ,SAAWsD,GAAS7D,KAAKQ,aAAaqD,OAK5CzD,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,UACbV,EAAAC,EAAAC,cAAA,OAAKQ,UAAU,aACbV,EAAAC,EAAAC,cAACmN,EAAD,CACEtL,UAAWnC,KAAKC,MAAMkC,UACtB5B,SAAWsD,GAAS7D,KAAK0M,iBAAiB7I,GAC1CwE,KAAM,IAAMrI,KAAKqI,KAAK,QAMhCjI,EAAAC,EAAAC,cAAA","file":"static/js/60.a369521c.chunk.js","sourcesContent":["const ValidasiPembelian = (value) => {\r\n    const errors = {};\r\n    // if (!value.no_faktur) {\r\n    //     errors.no_faktur = \"No Faktur Harus Diisi\";\r\n    // }\r\n    if (!value.kode_dept) {\r\n        errors.kode_dept = \"Kode Jenis Harus Dipilih\";\r\n    }\r\n    if (!value.nama_barang) {\r\n        errors.nama_barang = \"Nama Barang Tidak Boleh Kosong\";\r\n    }\r\n    // if (!value.berat_nota) {\r\n    //     errors.berat_nota = \"Berat Nota Tidak Boleh Kosong\";\r\n    // }\r\n    if (!value.berat) {\r\n        errors.berat = \"Berat Tidak Boleh Kosong\";\r\n    }\r\n    // if (!value.harga_nota) {\r\n    //     errors.harga_nota = \"Harga Nota Tidak Boleh Kosong\";\r\n    // }\r\n    if (!value.harga) {\r\n        errors.harga = \"Harga Tidak Boleh Kosong\";\r\n    }\r\n    if (!value.harga_rata) {\r\n        errors.harga_rata = \"Harga Rata Tidak Boleh Kosong\";\r\n    }\r\n    if (!value.kondisi) {\r\n        errors.kondisi = \"Kondisi Harus Dipilih\";\r\n    }\r\n\r\n    return errors;\r\n}\r\n\r\nexport default ValidasiPembelian;\r\n\r\n\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { HiidenFiled, ReanderField } from \"../../../components/helpers/field\";\r\n\r\nclass OtorisasiPembelian extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n  componentDidMount() {\r\n    // let data = JSON.parse(localStorage.getItem(\"no_faktur_batal_jual\"));\r\n    // this.props.change(\"no_faktur_group\", data.no_faktur_group);\r\n    // this.props.change(\"alasan\", data.alasan);\r\n  }\r\n  render() {\r\n    return (\r\n      <form\r\n        onSubmit={this.props.handleSubmit}\r\n        onKeyPress={(e) => {\r\n          e.key === \"Enter\" && e.preventDefault();\r\n        }}\r\n        autoComplete=\"off\"\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-4\">\r\n            <Field\r\n              name=\"no_faktur_group\"\r\n              component={HiidenFiled}\r\n              type=\"hidden\"\r\n            />\r\n            <Field name=\"alasan\" component={HiidenFiled} type=\"hidden\" />\r\n            <Field\r\n              name=\"username\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Username\"\r\n              placeholder=\"Masukan Username\"\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-4\">\r\n            <Field\r\n              name=\"password\"\r\n              component={ReanderField}\r\n              type=\"password\"\r\n              label=\"Password\"\r\n              placeholder=\"Masukan Password\"\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-4\">\r\n            <label> &nbsp; </label>\r\n            <button\r\n              type=\"submit\"\r\n              name=\"type_btn\"\r\n              className=\"btn btn-primary btn-block\"\r\n              disabled={this.props.isLoadingOtorisasi}\r\n            >\r\n              {this.props.isLoadingOtorisasi ? (\r\n                <>\r\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Otorisasi\r\n                </>\r\n              ) : (\r\n                \"Otorisasi\"\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nOtorisasiPembelian = reduxForm({\r\n  form: \"OtorisasiPembelian\",\r\n  enableReinitialize: true,\r\n})(OtorisasiPembelian);\r\nexport default connect(null)(OtorisasiPembelian);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, formValueSelector, reduxForm } from \"redux-form\";\r\nimport { createNumberMask } from \"redux-form-input-masks\";\r\nimport {\r\n  getDataJenis,\r\n  getDataSales,\r\n  getKondisiPembelian,\r\n  showModal,\r\n} from \"../../../actions/datamaster_action\";\r\nimport { ReanderField, ReanderSelect } from \"../../../components/helpers/field\";\r\nimport { ToastNotification } from \"../../../components/helpers/notification\";\r\nimport { getData } from \"../../../config/axios\";\r\nimport ValidasiPembelian from \"../../../Validasi/Pembelian/ValidasiPembelian\";\r\nimport ModalGlobal from \"../../../components/helpers/ModalGlobal.jsx\";\r\nimport OtorisasiPembelian from \"./OtorisasiPembelian.jsx\";\r\n\r\nconst currencyMask = createNumberMask({\r\n  prefix: \"Rp. \",\r\n  locale: \"id-ID\",\r\n});\r\n\r\nclass ModalTambahBarang extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      harga_jual: true,\r\n      hargapergram: true,\r\n      ongkos: true,\r\n      total: true,\r\n      nominal_harga_jual: \"\",\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.props.dispatch(getDataSales());\r\n    this.props.dispatch(getDataJenis());\r\n    this.props.dispatch(getKondisiPembelian());\r\n    setTimeout(() => {\r\n      document.getElementById(\"kode_barcode\").focus();\r\n    }, 100);\r\n  }\r\n  getBarcode(e) {\r\n    let cek =\r\n      JSON.parse(localStorage.getItem(\"data_barang_pembelian_tmp\")) || [];\r\n    document.getElementById(\"kode_barcode\").focus();\r\n    let hasil_cek = cek.findIndex((hasil) => hasil.kode_barcode === e);\r\n    if (hasil_cek === -1) {\r\n      getData(\"pembelian/get/jual/\" + e)\r\n        .then((res) => {\r\n          if (res.data.length === 0) {\r\n            ToastNotification(\"info\", \"Data Yang Dicari Tidak Ada\");\r\n            this.props.change(\"nama_barang\", \"\");\r\n            this.props.change(\"nama_atribut\", \"\");\r\n            this.props.change(\"berat_atribut\", \"\");\r\n            this.props.change(\"harga_atribut\", \"\");\r\n            this.props.change(\"berat\", \"\");\r\n            this.props.change(\"berat_nota\", \"\");\r\n            this.props.change(\"kode_dept\", \"\");\r\n            this.props.change(\"harga\", \"\");\r\n          } else {\r\n            res.data.forEach((list, index) => {\r\n              let datamember = JSON.parse(\r\n                localStorage.getItem(\"data_customer_pembelian_tmp\") || []\r\n              );\r\n              // console.log(list.kode_member);\r\n              // console.log(datamember.kode_customer);\r\n              if (datamember === null || datamember.length === 0) {\r\n                let data_cusomer = {\r\n                  kode_sales: list.kode_sales,\r\n                  jenis_pelanggan:\r\n                    list.kode_member === \"NONMEMBER\" ? \"NONMEMBER\" : \"MEMBER\",\r\n                  kode_customer: list.kode_member,\r\n                  nama_customer: list.nama_customer,\r\n                  alamat_customer: list.alamat_customer,\r\n                  no_hp: list.no_hp,\r\n                };\r\n                document.getElementById(\"berat\").focus();\r\n                console.log(list.kode_dept);\r\n                localStorage.setItem(\r\n                  \"data_customer_pembelian_tmp\",\r\n                  JSON.stringify(data_cusomer)\r\n                );\r\n\r\n                this.props.change(\"nama_barang\", list.nama_barang);\r\n                this.props.change(\"nama_atribut\", list.nama_atribut);\r\n                this.props.change(\"berat_atribut\", list.berat_atribut);\r\n                this.props.change(\"harga_atribut\", list.harga_atribut);\r\n                this.props.change(\"berat_nota\", list.berat);\r\n                this.props.change(\"berat\", list.berat);\r\n                this.props.change(\"kode_dept\", list.kode_dept);\r\n                this.props.change(\"harga_nota\", list.harga_jual);\r\n                this.props.change(\"harga\", list.harga_jual);\r\n                this.setState({\r\n                  harga_jual: false,\r\n                  hargapergram: false,\r\n                  ongkos: false,\r\n                  nominal_harga_jual: list.harga_jual,\r\n                });\r\n              } else {\r\n                if (list.kode_member !== datamember.kode_customer) {\r\n                  ToastNotification(\"info\", \"Data Customer Berbeda\");\r\n                  return false;\r\n                } else {\r\n                  let data_cusomer = {\r\n                    kode_sales: list.kode_sales,\r\n                    jenis_pelanggan:\r\n                      list.kode_member === \"NONMEMBER\" ? \"NONMEMBER\" : \"MEMBER\",\r\n                    kode_customer: list.kode_member,\r\n                    nama_customer: list.nama_customer,\r\n                    alamat_customer: list.alamat_customer,\r\n                    no_hp: list.no_hp,\r\n                  };\r\n                  document.getElementById(\"berat\").focus();\r\n                  localStorage.setItem(\r\n                    \"data_customer_pembelian_tmp\",\r\n                    JSON.stringify(data_cusomer)\r\n                  );\r\n                  this.props.change(\"nama_barang\", list.nama_barang);\r\n                  this.props.change(\"nama_atribut\", list.nama_atribut);\r\n                  this.props.change(\"berat_atribut\", list.berat_atribut);\r\n                  this.props.change(\"harga_atribut\", list.harga_atribut);\r\n                  this.props.change(\"berat_nota\", list.berat);\r\n                  this.props.change(\"berat\", list.berat);\r\n                  this.props.change(\"kode_dept\", list.kode_dept);\r\n                  this.props.change(\"harga_nota\", list.harga_jual);\r\n                  this.props.change(\"harga\", list.harga_jual);\r\n                  this.setState({\r\n                    harga_jual: false,\r\n                    hargapergram: false,\r\n                    ongkos: false,\r\n                    nominal_harga_jual: list.harga_jual,\r\n                  });\r\n                }\r\n              }\r\n            });\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          this.props.change(\"nama_barang\", \"\");\r\n          this.props.change(\"nama_atribut\", \"\");\r\n          this.props.change(\"berat_atribut\", \"\");\r\n          this.props.change(\"harga_atribut\", \"\");\r\n          this.props.change(\"berat\", \"\");\r\n          this.props.change(\"kode_dept\", \"\");\r\n          this.props.change(\"harga\", \"\");\r\n          ToastNotification(\"info\", \"Data Yang Dicari Tidak Ada\");\r\n        });\r\n    } else {\r\n      this.props.change(\"nama_barang\", \"\");\r\n      this.props.change(\"nama_atribut\", \"\");\r\n      this.props.change(\"berat_atribut\", \"\");\r\n      this.props.change(\"harga_atribut\", \"\");\r\n      this.props.change(\"berat\", \"\");\r\n      this.props.change(\"kode_dept\", \"\");\r\n      this.props.change(\"harga\", \"\");\r\n      ToastNotification(\"info\", \"Kode Barcode Sudah Ada Dalam Table\");\r\n    }\r\n  }\r\n  hitungTotal() {\r\n    this.props.change(\"harga_rata\", this.props.harga_rata);\r\n  }\r\n  checkHarga() {\r\n    if (this.props.nominal_harga > this.state.nominal_harga_jual) {\r\n      // this.props.dispatch(showModal());\r\n    } else {\r\n      console.log(\"AMAN\");\r\n    }\r\n  }\r\n\r\n  setValue(e) {\r\n    console.log(e);\r\n    // console.log(e === \"\" ? 'bener' : 'salah');\r\n    // this.props.change(\"harga_rata\", );\r\n\r\n    if (e === \"\") {\r\n      this.change(\"berat_nota\", 1);\r\n      // document.getElementById(\"berat_nota\")[0].value = 0;\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <form\r\n          onSubmit={this.props.handleSubmit}\r\n          onKeyPress={(e) => {\r\n            e.key === \"Enter\" && e.preventDefault();\r\n          }}\r\n          autoComplete=\"off\"\r\n        >\r\n          <div className=\"row\">\r\n            <div className=\"col-12 col-md-3\">\r\n              <Field\r\n                onChange={(e) => this.getBarcode(e.target.value)}\r\n                id=\"kode_barcode\"\r\n                name=\"kode_barcode\"\r\n                label=\"Kode Barcode\"\r\n                type=\"text\"\r\n                normalize={(value) => value.replace(/[^\\d]/g, \"\")}\r\n                placeholder=\"Masukan Kode Barcode\"\r\n                component={ReanderField}\r\n              />\r\n            </div>\r\n            <div className=\"col-12 col-md-3\">\r\n              <Field\r\n                label=\"Kode Jenis\"\r\n                name=\"kode_dept\"\r\n                options={this.props.datajenis\r\n                  .filter((list) => list.kode_dept !== undefined)\r\n                  .map((list) => {\r\n                    let data = {\r\n                      value: list.kode_dept,\r\n                      name: list.kode_dept + \" - \" + list.nama_dept,\r\n                    };\r\n                    return data || [];\r\n                  })}\r\n                placeholder={\"Silahkan Pilih Kode Jenis\"}\r\n                component={ReanderSelect}\r\n              />\r\n            </div>\r\n            <div className=\"col-12 col-md-3\">\r\n              <Field\r\n                name=\"nama_barang\"\r\n                label=\"Nama Barang\"\r\n                type=\"text\"\r\n                placeholder=\"Masukan Nama Barang\"\r\n                component={ReanderField}\r\n              />\r\n            </div>\r\n            <div className=\"col-12 col-md-3\">\r\n              <Field\r\n                name=\"berat_nota\"\r\n                label=\"Berat Nota\"\r\n                type=\"number\"\r\n                placeholder=\"Masukan Berat Nota\"\r\n                component={ReanderField}\r\n              />\r\n            </div>\r\n            <div className=\"col-12 col-md-4\">\r\n              <Field\r\n                id=\"berat\"\r\n                name=\"berat\"\r\n                label=\"Berat\"\r\n                type=\"number\"\r\n                onChange={this.hitungTotal()}\r\n                placeholder=\"Masukan Berat\"\r\n                component={ReanderField}\r\n              />\r\n            </div>\r\n            <div className=\"col-12 col-md-4\">\r\n              <Field\r\n                name=\"harga_nota\"\r\n                label=\"Harga Nota\"\r\n                type=\"telp\"\r\n                {...currencyMask}\r\n                placeholder=\"Masukan Harga Nota\"\r\n                component={ReanderField}\r\n              />\r\n            </div>\r\n            <div className=\"col-12 col-md-4\">\r\n              <Field\r\n                name=\"harga\"\r\n                label=\"Harga Beli\"\r\n                type=\"telp\"\r\n                onBlur={() => this.checkHarga()}\r\n                onChange={this.hitungTotal()}\r\n                {...currencyMask}\r\n                placeholder=\"Masukan Harga Beli\"\r\n                component={ReanderField}\r\n              />\r\n            </div>\r\n            <div className=\"col-12 col-md-4\">\r\n              <Field\r\n                name=\"harga_rata\"\r\n                label=\"Harga Rata\"\r\n                type=\"telp\"\r\n                readOnly={true}\r\n                {...currencyMask}\r\n                placeholder=\"Masukan Harga Rata\"\r\n                component={ReanderField}\r\n              />\r\n            </div>\r\n            <div className=\"col-12 col-md-4\">\r\n              <Field\r\n                name=\"kondisi\"\r\n                label=\"Kondisi\"\r\n                options={this.props.datakondisi\r\n                  .filter((list) => list.kondisi_barang !== undefined)\r\n                  .map((list) => {\r\n                    let data = {\r\n                      value: list.kondisi_barang,\r\n                      name: list.kondisi_barang,\r\n                    };\r\n                    return data || [];\r\n                  })}\r\n                placeholder=\"Masukan Kondisi\"\r\n                component={ReanderSelect}\r\n              />\r\n            </div>\r\n            <div className=\"col-12 col-md-4\">\r\n              <label>&nbsp;</label>\r\n              <button\r\n                className=\"btn btn-primary btn-block\"\r\n                disabled={this.props.isLoadingSimpanBarang}\r\n                type=\"submit\"\r\n              >\r\n                {this.props.isLoadingSimpanBarang ? (\r\n                  <>\r\n                    <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\r\n                    Menyimpan\r\n                  </>\r\n                ) : (\r\n                  \"Simpan Barang\"\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n        <ModalGlobal\r\n          size=\"L\"\r\n          title=\"Otorisasi Hancur Barang\"\r\n          content={\r\n            <OtorisasiPembelian\r\n              isLoadingOtorisasi={this.state.isLoadingOtorisasi}\r\n              onSubmit={(data) => this.hancurBarang(data)}\r\n            />\r\n          }\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\n// ModalTambahBarang = reduxForm({\r\n//   form: \"ModalTambahBarang\",\r\n//   enableReinitialize: true,\r\n//   validate: ValidasiMasterDataHadiah,\r\n// })(ModalTambahBarang);\r\n// export default connect(maptostate, null)(ModalTambahBarang);\r\n\r\nModalTambahBarang = reduxForm({\r\n  form: \"ModalTambahBarang\",\r\n  enableReinitialize: true,\r\n  validate: ValidasiPembelian,\r\n})(ModalTambahBarang);\r\n\r\nconst selector = formValueSelector(\"ModalTambahBarang\"); // <-- same as form name\r\nexport default connect((state) => {\r\n  const { harga, berat } = selector(state, \"harga\", \"berat\");\r\n  return {\r\n    setBarangPembelian: state.penjualan.setBarangPembelian,\r\n    harga_rata: parseFloat(harga || 0) / parseFloat(berat || 0) || 0,\r\n    nominal_harga: parseFloat(harga || 0),\r\n    DataSales: state.datamaster.getDataSales,\r\n    datajenis: state.datamaster.getDataJenis,\r\n    datakondisi: state.datamaster.getKondisiPembelian,\r\n  };\r\n})(ModalTambahBarang);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { getDataSales } from \"../../../actions/datamaster_action\";\r\nimport { ReanderField, ReanderSelect } from \"../../../components/helpers/field\";\r\nimport { ToastNotification } from \"../../../components/helpers/notification\";\r\nimport { getData } from \"../../../config/axios\";\r\nimport ValidasiFormDataMemberPenjualan from \"../../../Validasi/Penjualan/ValidasiFormDataMemberPenjualan\";\r\n\r\nconst maptostate = (state) => {\r\n  let data_customer =\r\n    localStorage.getItem(\"data_customer_pembelian_tmp\") === null || undefined\r\n      ? []\r\n      : JSON.parse(localStorage.getItem(\"data_customer_pembelian_tmp\") || []);\r\n  return {\r\n    initialValues: {\r\n      kode_sales: data_customer.kode_sales || \"\",\r\n      jenis_pelanggan: data_customer.jenis_pelanggan || \"\",\r\n      kode_customer: data_customer.kode_customer || \"\",\r\n      nama_customer: data_customer.nama_customer || \"\",\r\n      no_hp: data_customer.no_hp || \"\",\r\n      alamat_customer: data_customer.alamat_customer || \"\",\r\n    },\r\n    DataSales: state.datamaster.getDataSales,\r\n  };\r\n};\r\n\r\nconst jenis_pelanggan = [\r\n  {\r\n    value: \"MEMBER\",\r\n    name: \"MEMBER\",\r\n  },\r\n  {\r\n    value: \"NONMEMBER\",\r\n    name: \"NON MEMBER\",\r\n  },\r\n];\r\nclass ModalDataCustomer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showMember: true,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.props.dispatch(getDataSales());\r\n    let data_customer =\r\n      localStorage.getItem(\"data_customer_pembelian_tmp\") === null || undefined\r\n        ? []\r\n        : JSON.parse(localStorage.getItem(\"data_customer_pembelian_tmp\") || []);\r\n    if (data_customer && data_customer.jenis_pelanggan === \"MEMBER\") {\r\n      this.setState({\r\n        showMember: false,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        showMember: true,\r\n      });\r\n    }\r\n  }\r\n  changemember(e) {\r\n    // console.log(e);\r\n    if (e === \"MEMBER\") {\r\n      this.setState({\r\n        showMember: false,\r\n      });\r\n    } else {\r\n      this.props.change(\"kode_customer\", \"\");\r\n      this.props.change(\"nama_customer\", \"\");\r\n      this.props.change(\"no_hp\", \"\");\r\n      this.props.change(\"alamat_customer\", \"\");\r\n      this.setState({\r\n        showMember: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  getMember(e) {\r\n    // console.log(e);\r\n    getData(\"member/get/by-kode-member/\" + e)\r\n      .then((res) => {\r\n        // console.log(res.data);\r\n        if (res.data.length === 0) {\r\n          ToastNotification(\"info\", \"Member Yang Anda Masukan Tidak Ada !!!\");\r\n        } else {\r\n          res.data.forEach((item, index) => {\r\n            this.props.change(\"nama_customer\", item.nama_customer);\r\n            this.props.change(\"no_hp\", item.no_hp);\r\n            this.props.change(\"alamat_customer\", item.alamat_customer);\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        ToastNotification(\r\n          \"info\",\r\n          \"Terjadi Kesalahan SIlahkan Ulangi Kembali !!!\"\r\n        );\r\n      });\r\n  }\r\n  render() {\r\n    return (\r\n      <form\r\n        onSubmit={this.props.handleSubmit}\r\n        onKeyPress={(e) => {\r\n          e.key === \"Enter\" && e.preventDefault();\r\n        }}\r\n        autoComplete=\"off\"\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"col-4\">\r\n            <Field\r\n              tabIndex=\"1\"\r\n              name=\"kode_sales\"\r\n              label=\"Pilih Kode Sales\"\r\n              placeholder=\"Masukan Kode Sales\"\r\n              options={this.props.DataSales.filter(\r\n                (list) => list.kode_sales !== undefined\r\n              ).map((list) => {\r\n                let data = {\r\n                  value: list.kode_sales,\r\n                  name: list.kode_sales,\r\n                };\r\n                return data;\r\n              })}\r\n              component={ReanderSelect}\r\n            />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <Field\r\n              tabIndex=\"2\"\r\n              name=\"jenis_pelanggan\"\r\n              label=\"Pilih Pelanggan\"\r\n              onChange={(e) => this.changemember(e)}\r\n              placeholder=\"Silahkan Pilih Pelanggan\"\r\n              options={jenis_pelanggan}\r\n              component={ReanderSelect}\r\n            />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <Field\r\n              tabIndex=\"3\"\r\n              name=\"kode_customer\"\r\n              onChange={(e) => this.getMember(e.target.value)}\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              readOnly={this.state.showMember}\r\n              label=\"Kode Customer\"\r\n              placeholder=\"Masukan Kode Customer\"\r\n            />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <Field\r\n              tabIndex=\"4\"\r\n              name=\"nama_customer\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Nama Customer\"\r\n              placeholder=\"Masukan Nama Customer\"\r\n            />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <Field\r\n              tabIndex=\"5\"\r\n              name=\"no_hp\"\r\n              component={ReanderField}\r\n              type=\"number\"\r\n              label=\"No Hp\"\r\n              placeholder=\"Masukan No Hp\"\r\n            />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <Field\r\n              tabIndex=\"6\"\r\n              name=\"alamat_customer\"\r\n              component={ReanderField}\r\n              type=\"textarea\"\r\n              label=\"Alamat Customer\"\r\n              placeholder=\"Masukan Alamat Customer\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <div className=\"row\">\r\n          <div className=\"col-6 text-left\">\r\n            <button\r\n              onClick={() => this.props.back()}\r\n              className=\"btn btn-secondary\"\r\n              type=\"button\"\r\n            >\r\n              Kembali\r\n            </button>\r\n          </div>\r\n          <div className=\"col-6 text-right\">\r\n            <button className=\"btn btn-primary\" type=\"submit\"\r\n            disabled={this.props.isLoading}\r\n            >\r\n            {this.props.isLoading ? (\r\n                <>\r\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Selesai Pembelian\r\n                </>\r\n              ) : (\r\n                \"Selesai Pembelian\"\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        {/* <div className=\"row\">\r\n          <div className=\"col-8\"></div>\r\n          <div className=\"col-4\">\r\n            <div className=\"col-12 text-right\">\r\n              <button className=\"btn btn-secondary\"\r\n              onClick={()=>this.props.back()}\r\n              > Back </button>\r\n              &nbsp;\r\n              <button\r\n              tabIndex=\"7\"\r\n                className=\"btn btn-primary\"\r\n                type=\"submit\"\r\n              >\r\n                {\" \"}\r\n                Next{\" \"}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div> */}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nModalDataCustomer = reduxForm({\r\n  form: \"ModalDataCustomer\",\r\n  enableReinitialize: true,\r\n  validate: ValidasiFormDataMemberPenjualan,\r\n})(ModalDataCustomer);\r\nexport default connect(maptostate, null)(ModalDataCustomer);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, formValueSelector, reduxForm } from \"redux-form\";\r\nimport { createNumberMask } from \"redux-form-input-masks\";\r\nimport { getDataSales } from \"../../../actions/datamaster_action\";\r\nimport { ReanderField, ReanderSelect } from \"../../../components/helpers/field\";\r\nimport { NumberOnly } from \"../../../Validasi/normalize\";\r\nimport ValidasiPembayaran from \"../../../Validasi/Penjualan/ValidasiPembayaran\";\r\n\r\nconst currencyMask = createNumberMask({\r\n  prefix: \"Rp. \",\r\n  locale: \"id-ID\",\r\n});\r\nconst jenis_pembayaran = [\r\n  {\r\n    value: \"CASH\",\r\n    name: \"CASH\",\r\n  },\r\n];\r\nclass ModalPembayaran extends Component {\r\n  state = {};\r\n  componentDidMount() {\r\n    this.props.dispatch(getDataSales());\r\n    let data_barang_penjualan = JSON.parse(\r\n      localStorage.getItem(\"data_barang_pembelian_tmp\")\r\n    );\r\n    let total = 0;\r\n    data_barang_penjualan.forEach((item, index) => {\r\n      // console.log(item.total);\r\n      total = total + item.harga;\r\n      this.props.change(\"grand_total_pembayaran\", total);\r\n    });\r\n    this.props.change(\"jenis\", \"CASH\");\r\n    setTimeout(() => {\r\n      document.getElementById(\"cash_trx_pembelian\").focus();\r\n    }, 100);\r\n  }\r\n  hitungTotal() {\r\n    this.props.change(\"kembali\", this.props.kembali);\r\n  }\r\n  render() {\r\n    return (\r\n      <form\r\n        onSubmit={this.props.handleSubmit}\r\n        onKeyPress={(e) => {\r\n          e.key === \"Enter\" && e.preventDefault();\r\n        }}\r\n        autoComplete=\"off\"\r\n      >\r\n        <br />\r\n        <br />\r\n        <div className=\"row\">\r\n          <div className=\"col-6\">\r\n            <Field\r\n              name=\"grand_total_pembayaran\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              onChange={this.hitungTotal()}\r\n              readOnly={true}\r\n              {...currencyMask}\r\n              label=\"Grand Total Pembayaran\"\r\n              placeholder=\"Masukan Grand Total\"\r\n            />\r\n          </div>\r\n          <div className=\"col-6\">\r\n            <Field\r\n              name=\"jenis\"\r\n              label=\"Pilih Jenis Bayar\"\r\n              placeholder=\"Pilih Jenis Pembayaran\"\r\n              options={jenis_pembayaran}\r\n              component={ReanderSelect}\r\n            />\r\n          </div>\r\n          <div className=\"col-6\">\r\n            <Field\r\n              tabIndex=\"1\"\r\n              name=\"cash\"\r\n              id=\"cash_trx_pembelian\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Cash\"\r\n              onChange={this.hitungTotal()}\r\n              {...currencyMask}\r\n              normalize={NumberOnly}\r\n              placeholder=\"Masukan Total Pembayaran\"\r\n            />\r\n          </div>\r\n          <div className=\"col-6\">\r\n            <Field\r\n              name=\"kembali\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              readOnly={true}\r\n              label=\"Kembali\"\r\n              {...currencyMask}\r\n              normalize={NumberOnly}\r\n              placeholder=\"Kembalian\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <br />\r\n        <br />\r\n        <br />\r\n        <div className=\"row\">\r\n          <div className=\"col-6 text-left\">\r\n            <button\r\n              onClick={() => this.props.back()}\r\n              className=\"btn btn-secondary\"\r\n              type=\"button\"\r\n            >\r\n              Kembali\r\n            </button>\r\n          </div>\r\n          <div className=\"col-6 text-right\">\r\n          <button\r\n              tabIndex=\"2\"\r\n              className=\"btn btn-primary \"\r\n              disabled={this.props.isLoading}\r\n              type=\"submit\"\r\n            >\r\n              {this.props.isLoading ? (\r\n                <>\r\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\r\n                  Diproses\r\n                </>\r\n              ) : (\r\n                \"Bayar Sekarang\"\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        {/* <div className=\"row\">\r\n          <div className=\"col-6\"></div>\r\n          <div className=\"col-6 text-right\">\r\n            <button\r\n              className=\"btn btn-secondary\"\r\n              onClick={() => this.props.back()}\r\n            >\r\n              {\" \"}\r\n              Back{\" \"}\r\n            </button>\r\n            &nbsp;\r\n            <button\r\n              tabIndex=\"2\"\r\n              className=\"btn btn-primary \"\r\n              disabled={this.props.isLoading}\r\n              type=\"submit\"\r\n            >\r\n              {this.props.isLoading ? (\r\n                <>\r\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\r\n                  Diproses\r\n                </>\r\n              ) : (\r\n                \"Bayar Sekarang\"\r\n              )}\r\n            </button>\r\n           \r\n          </div>\r\n        </div> */}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nModalPembayaran = reduxForm({\r\n  form: \"ModalPembayaran\",\r\n  enableReinitialize: true,\r\n  validate: ValidasiPembayaran,\r\n})(ModalPembayaran);\r\n\r\nconst selector = formValueSelector(\"ModalPembayaran\"); // <-- same as form name\r\n\r\nexport default connect((state) => {\r\n  const { grand_total_pembayaran, cash } = selector(\r\n    state,\r\n    \"grand_total_pembayaran\",\r\n    \"cash\"\r\n  );\r\n  return {\r\n    kembali: parseFloat(grand_total_pembayaran || 0) - parseFloat(cash || 0),\r\n  };\r\n})(ModalPembayaran);\r\n","\r\nimport React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { formValueSelector, reduxForm } from \"redux-form\";\r\nimport { getDataJenis, getDataSales, getKondisiPembelian } from \"../../../actions/datamaster_action\";\r\nimport Tabel from \"../../../components/helpers/tabel\";\r\nimport ValidasiPembelian from \"../../../Validasi/Pembelian/ValidasiPembelian\";\r\n\r\nclass LihatDataBarang extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      harga_jual: true,\r\n      hargapergram: true,\r\n      ongkos: true,\r\n      total: true,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.props.dispatch(getDataSales());\r\n    this.props.dispatch(getDataJenis());\r\n    this.props.dispatch(getKondisiPembelian());\r\n  }\r\n\r\n  render() {\r\n      return (\r\n        \r\n          <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <Tabel\r\n              keyField=\"nama_barang\"\r\n              exportCsv={false}\r\n              data={\r\n                this.props.setBarangPembelian.length === 0\r\n                  ? JSON.parse(\r\n                      localStorage.getItem(\"data_barang_pembelian_tmp\")\r\n                    )\r\n                  : this.props.setBarangPembelian\r\n              }\r\n              // tambahData={true}\r\n              // btnText=\"Tambah Data Customer\"\r\n              columns={this.props.columns}\r\n              // btnOptional={true}\r\n              // btnTextOptional=\"Tambah Data Barang\"\r\n              // handleClick={() => this.ShowModalCustomer()}\r\n              // handleClickOptional={() => this.ShowModalBarang()}\r\n              empty={true}\r\n              textEmpty=\"Data Barang Kosong\"\r\n            />\r\n          </div>\r\n     </div>\r\n    );\r\n  }\r\n}\r\n\r\n// LihatDataBarang = reduxForm({\r\n//   form: \"LihatDataBarang\",\r\n//   enableReinitialize: true,\r\n//   validate: ValidasiMasterDataHadiah,\r\n// })(LihatDataBarang);\r\n\r\nLihatDataBarang = reduxForm({\r\n    form: \"LihatDataBarang\",\r\n    enableReinitialize: true,\r\n    validate:ValidasiPembelian\r\n})(LihatDataBarang);\r\n// export default connect(maptostate, null)(LihatDataBarang);\r\n\r\nconst selector = formValueSelector(\"LihatDataBarang\"); // <-- same as form name\r\n\r\nexport default connect((state) => {\r\n  const { harga, berat } = selector(\r\n    state,\r\n    \"harga\",\r\n    \"berat\"\r\n  );\r\n  return {\r\n    setBarangPembelian: state.penjualan.setBarangPembelian,\r\n    harga_rata: parseFloat(harga || 0) / parseFloat(berat || 0) || 0,\r\n    DataSales: state.datamaster.getDataSales,\r\n    datajenis: state.datamaster.getDataJenis,\r\n    datakondisi: state.datamaster.getKondisiPembelian,\r\n  };\r\n})(LihatDataBarang);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\nimport { setBarangPembelian } from \"../../../actions/penjualan_action.jsx\";\r\n// import { ToastNotification } from \"../../../components/helpers/notification.jsx\";\r\nimport { Panel, PanelHeader } from \"../../../components/panel/panel.jsx\";\r\n// import HeadTransaksiPembelian from \"./HeadTransaksiPembelian.jsx\";\r\nimport Stepper from \"react-stepper-horizontal\";\r\nimport ModalTambahBarang from \"./ModalTambahBarang.jsx\";\r\nimport { reset } from \"redux-form\";\r\nimport { ToastNotification } from \"../../../components/helpers/notification.jsx\";\r\nimport ModalDataCustomer from \"./ModalDataCustomer.jsx\";\r\nimport ModalPembayaran from \"./ModalPembayaran.jsx\";\r\nimport { postData } from \"../../../config/axios.jsx\";\r\nimport LihatDataBarang from \"./LihatDataBarang.jsx\";\r\n\r\nconst maptostate = (state) => {\r\n  return {\r\n    setBarangPembelian: state.penjualan.setBarangPembelian,\r\n  };\r\n};\r\nclass FormTransaksiPembelian extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      step: 0,\r\n      isLoadingBatal: false,\r\n      isLoadingSimanBeli: false,\r\n      isLoadingDataCustomer: false,\r\n      isLoadingSimpanBarang: false,\r\n      columns: [\r\n        {\r\n          dataField: \"kode_barcode\",\r\n          text: \"Kode Barcode\",\r\n          footerAttrs: {\r\n            colSpan: \"3\",\r\n          },\r\n          footer: \"Total\",\r\n        },\r\n        {\r\n          dataField: \"nama_barang\",\r\n          text: \"Nama Barang\",\r\n        },\r\n\r\n        {\r\n          dataField: \"kode_dept\",\r\n          text: \"Jenis\",\r\n        },\r\n        {\r\n          dataField: \"harga_nota\",\r\n          text: \"Harga Nota\",\r\n          formatter: (cell) => {\r\n            return <span>{parseInt(cell).toLocaleString(\"ID-id\")}</span>;\r\n          },\r\n          footer: (columnData) =>\r\n            parseInt(\r\n              columnData.reduce((acc, item) => acc + item, 0)\r\n            ).toLocaleString(\"id-ID\"),\r\n        },\r\n\r\n        {\r\n          dataField: \"berat_nota\",\r\n          text: \"Berat Nota\",\r\n          formatter: (cell) => {\r\n            return <span>{parseFloat(cell).toFixed(3)}</span>;\r\n          },\r\n          footer: (columnData) =>\r\n            parseFloat(columnData.reduce((acc, item) => acc + item, 0)).toFixed(\r\n              3\r\n            ),\r\n        },\r\n        {\r\n          dataField: \"berat\",\r\n          text: \"Berat\",\r\n          formatter: (cell) => {\r\n            return <span>{parseFloat(cell).toFixed(3)}</span>;\r\n          },\r\n          footer: (columnData) =>\r\n            parseFloat(columnData.reduce((acc, item) => acc + item, 0)).toFixed(\r\n              3\r\n            ),\r\n        },\r\n\r\n        {\r\n          dataField: \"harga\",\r\n          text: \"Harga Beli\",\r\n          formatter: (cell) => {\r\n            return <span>{parseInt(cell).toLocaleString(\"ID-id\")}</span>;\r\n          },\r\n          footer: (columnData) =>\r\n            parseInt(\r\n              columnData.reduce((acc, item) => acc + item, 0)\r\n            ).toLocaleString(\"id-ID\"),\r\n        },\r\n        {\r\n          dataField: \"kondisi\",\r\n          text: \"Kondisi\",\r\n          footer: \"\",\r\n        },\r\n\r\n        {\r\n          dataField: \"action\",\r\n          text: \"Action\",\r\n          csvExport: false,\r\n          headerClasses: \"text-center\",\r\n          formatter: (rowcontent, row, index) => {\r\n            return (\r\n              <div className=\"row text-center\">\r\n                <div className=\"col-12\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => this.hapusdata(index)}\r\n                    className=\"btn btn-danger mr-3\"\r\n                  >\r\n                    <i className=\"fa fa-trash\"></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            );\r\n          },\r\n          footer: \"\",\r\n        },\r\n      ],\r\n    };\r\n  }\r\n\r\n  hapusdata(id) {\r\n    Swal.fire({\r\n      title: \"Anda Yakin !!\",\r\n      text: \"Ingin Menghapus Data Ini ?\",\r\n      icon: \"warning\",\r\n      position: \"top-center\",\r\n      cancelButtonText: \"Tidak\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"OK\",\r\n      showConfirmButton: true,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        let data = JSON.parse(\r\n          localStorage.getItem(\"data_barang_pembelian_tmp\")\r\n        );\r\n        data.splice(id, 1);\r\n        localStorage.setItem(\"data_barang_pembelian_tmp\", JSON.stringify(data));\r\n        if (data.length === 0) {\r\n          this.setState({\r\n            step: 0,\r\n          });\r\n        }\r\n        this.props.dispatch(setBarangPembelian(data));\r\n      }\r\n    });\r\n  }\r\n\r\n  simpanBarang(data) {\r\n    this.setState({\r\n      isLoadingSimpanBarang: true,\r\n    });\r\n    let hasil = {\r\n      kode_barcode:\r\n        data.kode_barcode === undefined || \"\" ? \"-\" : data.kode_barcode,\r\n      nama_barang: data.nama_barang,\r\n      kondisi: data.kondisi,\r\n      kode_dept: data.kode_dept,\r\n      harga_rata: parseInt(data.harga_rata),\r\n      harga_nota: parseInt(data.harga_nota) || 0,\r\n      harga: parseInt(data.harga),\r\n      berat_nota: parseFloat(data.berat_nota) || 0,\r\n      berat: parseFloat(data.berat),\r\n    };\r\n\r\n    if (data.kondisi === undefined) {\r\n      return false;\r\n    }\r\n\r\n    let cek =\r\n      JSON.parse(localStorage.getItem(\"data_barang_pembelian_tmp\")) || [];\r\n    // this.props.dispatch(hideModal());\r\n    document.getElementById(\"kode_barcode\").focus();\r\n    let hasil_cek = cek.findIndex(\r\n      (hasil) => hasil.kode_barcode === data.kode_barcode\r\n    );\r\n    if (hasil_cek === -1) {\r\n      cek.push(hasil);\r\n      ToastNotification(\"success\", \"Barang Berhasil Ditambahkan\");\r\n      localStorage.setItem(\"data_barang_pembelian_tmp\", JSON.stringify(cek));\r\n      this.props.dispatch(setBarangPembelian(cek));\r\n      this.props.dispatch(reset(\"ModalTambahBarang\"));\r\n      setTimeout(() => {\r\n        this.setState({\r\n          isLoadingSimpanBarang: false,\r\n        });\r\n      }, 200);\r\n    } else {\r\n      setTimeout(() => {\r\n        this.setState({\r\n          isLoadingSimpanBarang: false,\r\n        });\r\n      }, 200);\r\n      document.getElementById(\"kode_barcode\").focus();\r\n      ToastNotification(\"info\", \"Barang Sudah Ada Di Tabel\");\r\n    }\r\n  }\r\n  handleSubmit(data) {\r\n    // ToastNotification('success','')\r\n    // this.setState({\r\n    //   step: 3,\r\n    // });\r\n    this.setState({\r\n      isLoading: true,\r\n    });\r\n    localStorage.setItem(\"data_customer_pembelian_tmp\", JSON.stringify(data));\r\n\r\n    setTimeout(() => {\r\n      let data_barang_penjualan = JSON.parse(\r\n        localStorage.getItem(\"data_barang_pembelian_tmp\")\r\n      );\r\n      let total = 0;\r\n      data_barang_penjualan.forEach((item, index) => {\r\n        // console.log(item.total);\r\n        total = total + item.harga;\r\n      });\r\n      let data_pembayaran = {\r\n        jenis: \"CASH\",\r\n        jumlah_rp: total,\r\n      };\r\n      // let cash = 0;\r\n      // if (data.cash > data.grand_total_pembayaran) {\r\n      //   cash = data.grand_total_pembayaran;\r\n      // } else {\r\n      //   cash = data.cash;\r\n      // }\r\n      // let data_pembayaran = {\r\n      //   jenis: data.jenis,\r\n      //   jumlah_rp: cash,\r\n      // };\r\n\r\n      // if (parseInt(data.cash) < parseInt(data.grand_total_pembayaran)) {\r\n      //   let cash_bayar =\r\n      //     parseInt(data.grand_total_pembayaran) - parseInt(data.cash);\r\n      //   ToastNotification(\r\n      //     \"info\",\r\n      //     \"Pembayaran Masih Kurang Rp.\" +\r\n      //       parseInt(cash_bayar).toLocaleString(\"ID-id\")\r\n      //   );\r\n      //   this.setState({\r\n      //     isLoading: false,\r\n      //   });\r\n      //   return false;\r\n      // }\r\n\r\n      let data_customer = JSON.parse(\r\n        localStorage.getItem(\"data_customer_pembelian_tmp\")\r\n      );\r\n      let data_pembelian = JSON.parse(\r\n        localStorage.getItem(\"data_barang_pembelian_tmp\")\r\n      );\r\n\r\n      let detail_barang = [];\r\n      data_pembelian.forEach((item, index) => {\r\n        let row = {\r\n          kode_dept: item.kode_dept,\r\n          nama_barang: item.nama_barang,\r\n          berat_nota: item.berat_nota,\r\n          harga: item.harga,\r\n          berat: item.berat,\r\n          harga_nota: item.harga_nota,\r\n          kondisi: item.kondisi,\r\n          kode_barcode: item.kode_barcode,\r\n        };\r\n        detail_barang.push(row);\r\n      });\r\n      let datapembelian = {\r\n        kode_sales: data_customer.kode_sales,\r\n        nama_customer: data_customer.nama_customer,\r\n        kode_member:\r\n          data_customer.jenis_pelanggan === \"NONMEMBER\"\r\n            ? data_customer.jenis_pelanggan\r\n            : data_customer.kode_customer,\r\n        alamat_customer: data_customer.alamat_customer,\r\n        no_hp: data_customer.no_hp,\r\n        detail_barang: detail_barang,\r\n        pembayaran: [data_pembayaran],\r\n      };\r\n      // if (data.cash < data.grand_total_pembayaran) {\r\n      //   let cash_bayar = parseInt(data.grand_total_pembayaran) - parseInt(data.cash);\r\n      //   ToastNotification('info', 'Pembayaran Masih Kurang Rp.' + parseInt(cash_bayar).toLocaleString('ID-id'))\r\n      //   return false;\r\n      // }\r\n\r\n      postData(\"pembelian/simpan\", datapembelian)\r\n        .then((res) => {\r\n          ToastNotification(\"success\", res.data.message);\r\n        })\r\n        .then(() => {\r\n          this.setState({\r\n            isLoading: false,\r\n          });\r\n        })\r\n        .then(() => {\r\n          this.props.dispatch(reset(\"ModalPembayaran\"));\r\n        })\r\n        .then(() => {\r\n          localStorage.setItem(\r\n            \"data_customer_pembelian_tmp\",\r\n            JSON.stringify([])\r\n          );\r\n          localStorage.setItem(\"data_barang_pembelian_tmp\", JSON.stringify([]));\r\n        })\r\n        .then(() => {\r\n          this.props.dispatch(setBarangPembelian([]));\r\n          this.setState({\r\n            step: 0,\r\n          });\r\n        })\r\n        .catch((err) => this.errorhandling(err));\r\n    }, 500);\r\n  }\r\n  back(data) {\r\n    this.setState({\r\n      step: data,\r\n    });\r\n    // if (data === 1) {\r\n    //   this.setState({\r\n    //     step: 1,\r\n    //   });\r\n    // } else {\r\n    //   this.setState({\r\n    //     step: 0,\r\n    //   });\r\n    // }\r\n  }\r\n\r\n  simpanPembayaran(data) {\r\n    this.setState({\r\n      isLoading: true,\r\n    });\r\n    let data_barang_penjualan = JSON.parse(\r\n      localStorage.getItem(\"data_barang_pembelian_tmp\")\r\n    );\r\n    let total = 0;\r\n    data_barang_penjualan.forEach((item, index) => {\r\n      // console.log(item.total);\r\n      total = total + item.harga;\r\n    });\r\n    // let data_pembayaran = {\r\n    //   jenis: 'CASH',\r\n    //   jumlah_rp: total,\r\n    // };\r\n    let cash = 0;\r\n    if (data.cash > data.grand_total_pembayaran) {\r\n      cash = data.grand_total_pembayaran;\r\n    } else {\r\n      cash = data.cash;\r\n    }\r\n    let data_pembayaran = {\r\n      jenis: data.jenis,\r\n      jumlah_rp: cash,\r\n    };\r\n\r\n    if (parseInt(data.cash) < parseInt(data.grand_total_pembayaran)) {\r\n      let cash_bayar =\r\n        parseInt(data.grand_total_pembayaran) - parseInt(data.cash);\r\n      ToastNotification(\r\n        \"info\",\r\n        \"Pembayaran Masih Kurang Rp.\" +\r\n          parseInt(cash_bayar).toLocaleString(\"ID-id\")\r\n      );\r\n      this.setState({\r\n        isLoading: false,\r\n      });\r\n      return false;\r\n    }\r\n\r\n    let data_customer = JSON.parse(\r\n      localStorage.getItem(\"data_customer_pembelian_tmp\")\r\n    );\r\n    let data_pembelian = JSON.parse(\r\n      localStorage.getItem(\"data_barang_pembelian_tmp\")\r\n    );\r\n\r\n    let detail_barang = [];\r\n    data_pembelian.forEach((item, index) => {\r\n      let row = {\r\n        kode_dept: item.kode_dept,\r\n        nama_barang: item.nama_barang,\r\n        berat_nota: item.berat_nota,\r\n        harga: item.harga,\r\n        berat: item.berat,\r\n        harga_nota: item.harga_nota,\r\n        kondisi: item.kondisi,\r\n        kode_barcode: item.kode_barcode,\r\n      };\r\n      detail_barang.push(row);\r\n    });\r\n    let datapembelian = {\r\n      kode_sales: data_customer.kode_sales,\r\n      nama_customer: data_customer.nama_customer,\r\n      kode_member:\r\n        data_customer.jenis_pelanggan === \"NONMEMBER\"\r\n          ? data_customer.jenis_pelanggan\r\n          : data_customer.kode_customer,\r\n      alamat_customer: data_customer.alamat_customer,\r\n      no_hp: data_customer.no_hp,\r\n      detail_barang: detail_barang,\r\n      pembayaran: [data_pembayaran],\r\n    };\r\n    // if (data.cash < data.grand_total_pembayaran) {\r\n    //   let cash_bayar = parseInt(data.grand_total_pembayaran) - parseInt(data.cash);\r\n    //   ToastNotification('info', 'Pembayaran Masih Kurang Rp.' + parseInt(cash_bayar).toLocaleString('ID-id'))\r\n    //   return false;\r\n    // }\r\n\r\n    postData(\"pembelian/simpan\", datapembelian)\r\n      .then((res) => {\r\n        ToastNotification(\"success\", res.data.message);\r\n      })\r\n      .then(() => {\r\n        this.setState({\r\n          isLoading: false,\r\n        });\r\n      })\r\n      .then(() => {\r\n        this.props.dispatch(reset(\"ModalPembayaran\"));\r\n      })\r\n      .then(() => {\r\n        localStorage.setItem(\"data_customer_pembelian_tmp\", JSON.stringify([]));\r\n        localStorage.setItem(\"data_barang_pembelian_tmp\", JSON.stringify([]));\r\n      })\r\n      .then(() => {\r\n        this.props.dispatch(setBarangPembelian([]));\r\n        this.setState({\r\n          step: 0,\r\n        });\r\n      })\r\n      .catch((err) => this.errorhandling(err));\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    localStorage.setItem(\"data_customer_pembelian_tmp\", JSON.stringify([]));\r\n    localStorage.setItem(\"data_barang_pembelian_tmp\", JSON.stringify([]));\r\n  }\r\n  errorhandling(error) {\r\n    this.setState({\r\n      isLoading: false,\r\n    });\r\n    ToastNotification(\"info\", \"Transaksi Gagal Disimpan\");\r\n  }\r\n  nextLihatDataBarang() {\r\n    // console.log();\r\n    if (\r\n      localStorage.getItem(\"data_barang_pembelian_tmp\") == null ||\r\n      JSON.parse(localStorage.getItem(\"data_barang_pembelian_tmp\")).length === 0\r\n    ) {\r\n      ToastNotification(\"info\", \"Data Barang Tidak Boleh Kosong\");\r\n      return false;\r\n    } else {\r\n      this.setState({ step: 1 });\r\n    }\r\n  }\r\n  btlPembelian() {\r\n    this.setState({\r\n      isLoadingBatal: true,\r\n    });\r\n    setTimeout(() => {\r\n      localStorage.setItem(\"data_customer_pembelian_tmp\", JSON.stringify([]));\r\n      this.props.dispatch(setBarangPembelian([]));\r\n      localStorage.setItem(\"data_barang_pembelian_tmp\", JSON.stringify([]));\r\n      this.setState({\r\n        isLoadingBatal: false,\r\n      });\r\n    }, 500);\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <ol className=\"breadcrumb float-xl-right\">\r\n          <li className=\"breadcrumb-item\">\r\n            <Link to=\"#\">Pembelian</Link>\r\n          </li>\r\n          <li className=\"breadcrumb-item active\">Transaksi Pembelian</li>\r\n        </ol>\r\n        <h1 className=\"page-header\">Transaksi Pembelian </h1>\r\n        <Panel>\r\n          <PanelHeader>Transaksi Pembelian</PanelHeader>\r\n          <br />\r\n          <Stepper\r\n            steps={[\r\n              { title: \"Input Barang\" },\r\n              { title: \"Lihat Data Barang\" },\r\n              { title: \"Data Customer\" },\r\n              // { title: \"Pembayaran\" },\r\n            ]}\r\n            activeStep={this.state.step}\r\n          />\r\n          <br />\r\n          <div className=\"row\">\r\n            {this.state.step === 0 ? (\r\n              <div className=\"col-12\">\r\n                <div className=\"container\">\r\n                  <ModalTambahBarang\r\n                    isLoadingSimpanBarang={this.state.isLoadingSimpanBarang}\r\n                    columns={this.state.columns}\r\n                    onSubmit={(data) => this.simpanBarang(data)}\r\n                  />\r\n                  <br />\r\n                  <div className=\"row\">\r\n                    <div className=\"col-6 text-left\">\r\n                      <button\r\n                        onClick={() => this.btlPembelian()}\r\n                        className=\"btn btn-warning\"\r\n                        disabled={this.state.isLoadingBatal}\r\n                        type=\"button\"\r\n                      >\r\n                        {this.state.isLoadingBatal ? (\r\n                          <>\r\n                            <i className=\"fas fa-spinner fa-spin\"></i> &nbsp;\r\n                            Reset Data\r\n                          </>\r\n                        ) : (\r\n                          \"Reset Data\"\r\n                        )}\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"col-6 text-right\">\r\n                      <button\r\n                        className=\"btn btn-primary\"\r\n                        onClick={() => this.nextLihatDataBarang()}\r\n                      >\r\n                        {\" \"}\r\n                        Next{\" \"}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : this.state.step === 1 ? (\r\n              <div className=\"col-12\">\r\n                <div className=\"container\">\r\n                  <LihatDataBarang\r\n                    isLoadingSimpanBarang={this.state.isLoadingSimpanBarang}\r\n                    columns={this.state.columns}\r\n                    onSubmit={(data) => this.simpanBarang(data)}\r\n                  />\r\n                  <div className=\"row\">\r\n                    <div className=\"col-6 text-left\">\r\n                      <button\r\n                        onClick={() => this.back(0)}\r\n                        className=\"btn btn-secondary\"\r\n                        type=\"button\"\r\n                      >\r\n                        Kembali\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"col-6 text-right\">\r\n                      <button\r\n                        className=\"btn btn-primary\"\r\n                        onClick={() => this.setState({ step: 2 })}\r\n                      >\r\n                        {\" \"}\r\n                        Next{\" \"}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : this.state.step === 2 ? (\r\n              <div className=\"col-12\">\r\n                <div className=\"container\">\r\n                  <br />\r\n                  <br />\r\n                  <ModalDataCustomer\r\n                    isLoading={this.state.isLoading}\r\n                    back={() => this.back(1)}\r\n                    isLoadingDataCustomer={this.state.isLoadingDataCustomer}\r\n                    onSubmit={(data) => this.handleSubmit(data)}\r\n                  />\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"col-12\">\r\n                <div className=\"container\">\r\n                  <ModalPembayaran\r\n                    isLoading={this.state.isLoading}\r\n                    onSubmit={(data) => this.simpanPembayaran(data)}\r\n                    back={() => this.back(2)}\r\n                  />\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n          <br />\r\n        </Panel>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(maptostate, null)(FormTransaksiPembelian);\r\n"],"sourceRoot":""}