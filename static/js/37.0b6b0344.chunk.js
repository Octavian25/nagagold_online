(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{1110:function(t,a,e){"use strict";e.r(a);var n=e(0),s=e.n(n),i=e(15),o=e(11),d=e(7),c=e(9),l=e(26),r=e.n(l),u=e(5),m=e(14),h=e(6),k=e(3),p=e(18),g=e(289),b=e(290),E=e(4);var T=(t,a)=>{const e={};return t.kode_tukang||(e.kode_tukang="Kode Tukang Tidak Boleh Kosong"),t.nama_tukang||(e.nama_tukang="Nama Tukang Tidak Boleh Kosong"),e};class _ extends n.Component{constructor(...t){super(...t),this.state={aktif:!1}}componentDidMount(){setTimeout(()=>{this.props.isEdit?document.getElementById("nama_tukang").focus():document.getElementById("kode_tukang").focus()},100)}render(){return s.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off",onKeyPress:t=>{"Enter"===t.key&&t.preventDefault()}},s.a.createElement(g.a,{tabIndex:"1",id:"kode_tukang",name:"kode_tukang",component:E.e,type:"text",label:"Kode Tukang",placeholder:"Masukan Kode Tukang",readOnly:this.props.isEdit}),s.a.createElement(g.a,{tabIndex:"2",id:"nama_tukang",name:"nama_tukang",component:E.e,type:"text",label:"Nama Tukang",onBlur:()=>this.setState({aktif:!0}),placeholder:"Masukan Nama Tukang"}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 text-right"},s.a.createElement("button",{className:"btn btn-white",onClick:()=>this.props.dispatch(Object(d.vb)()),type:"button",disabled:this.props.isLoading},"Batal"),"\xa0",s.a.createElement("button",{tabIndex:"3",className:this.state.aktif?"btn btn-primary":"btn btn-white",disabled:this.props.submitting,type:"submit"},this.props.isLoading?s.a.createElement(s.a.Fragment,null,s.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))))}}_=Object(b.a)({form:"ModalTukang",enableReinitialize:!0,validate:T})(_);var f=Object(c.b)(t=>{if(null!==t.datamaster.ShowModalTukang)return{initialValues:{kode_tukang:t.datamaster.ShowModalTukang.kode_sales,nama_tukang:t.datamaster.ShowModalTukang.nama_tukang}}},null)(_),O=e(37);const j=(t,a)=>{r.a.fire({html:"Apakah Anda Yakin Ingin Menghapus <h1><b>Kode Tukang "+t+"</b> ?</h1>",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(e=>{e.isConfirmed&&Object(h.b)("tukang/delete/by-kode-tukang/"+t,{data:{kode_tukang:t}}).then(()=>{Object(u.d)("Data Berhasil Di Hapus").then(()=>a(Object(d.ob)()))})})};a.default=Object(c.b)(t=>({DataTukang:t.datamaster.getDataTukang,hideModal:t.datamaster.modalDialog}),null)(class extends s.a.Component{constructor(t){super(t),this.state={isEdit:!1,isLoading:!1,modalDialog:!1,columns:[{dataField:"kode_tukang",text:"Kode Tukang",sort:!0},{dataField:"nama_tukang",text:"Nama Tukang"},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(t,a)=>{let e={kode_sales:a.kode_tukang,nama_tukang:a.nama_tukang};return s.a.createElement("div",{className:"row text-center"},s.a.createElement("div",{className:"col-12"},s.a.createElement("button",{onClick:()=>this.formEditTukang(e),className:"btn btn-primary mr-3"},s.a.createElement("i",{className:"fa fa-edit"})),s.a.createElement("button",{onClick:()=>j(a.kode_tukang,this.props.dispatch),className:"btn btn-danger"},s.a.createElement("i",{className:"fa fa-trash"}))))}}]},this.handleSubmit=this.handleSubmit.bind(this)}componentDidMount(){this.props.dispatch(Object(d.ob)())}handleSubmit(t){this.setState({isLoading:!0});let a={nama_tukang:t.nama_tukang},e={kode_tukang:t.kode_tukang,nama_tukang:t.nama_tukang};this.state.isEdit?Object(h.g)("tukang/edit/by-kode-tukang/"+t.kode_tukang,a).then(()=>{this.props.dispatch(Object(d.vb)())}).then(()=>{Object(u.e)("success","Data Berhasil Diedit")}).then(()=>{this.props.dispatch(Object(d.ob)())}).then(()=>{this.setState({isLoading:!1})}).then(()=>{this.props.dispatch(Object(m.d)("ModalTukang"))}).catch(t=>this.ErrorHandling(t)):Object(h.e)("tukang/add",e).then(()=>{this.props.dispatch(Object(d.vb)())}).then(()=>{Object(u.e)("success","Data Berhasil Simpan")}).then(()=>{this.props.dispatch(Object(d.ob)())}).then(()=>{this.props.dispatch(Object(m.d)("ModalTukang"))}).then(()=>{this.setState({isLoading:!1})}).catch(a=>Object(k.a)(a,"tukang/reactive/by-kode-tukang/",t.kode_tukang,e,this.props.dispatch,Object(d.ob)(),Object(d.vb)(),"ModalTukang").then(()=>{this.setState({isLoading:!1})}))}formEditTukang(t){this.props.dispatch(Object(d.wb)()),this.props.dispatch(Object(d.eb)(t)),this.setState({isEdit:!0})}ShowModalTukang(){this.props.dispatch(Object(d.wb)()),this.props.dispatch(Object(d.eb)(!1)),this.setState({isEdit:!1})}render(){return s.a.createElement("div",null,s.a.createElement("ol",{className:"breadcrumb float-xl-right"},s.a.createElement("li",{className:"breadcrumb-item"},s.a.createElement(i.b,{to:"#"},"Data Master")),s.a.createElement("li",{className:"breadcrumb-item active"},"Master Tukang")),s.a.createElement("h1",{className:"page-header"},"Master Tukang "),s.a.createElement(o.a,null,s.a.createElement(o.c,null,"Master Tukang"),s.a.createElement("br",null),s.a.createElement("div",{className:"container"},s.a.createElement(p.a,{keyField:"kode_tukang",tambahData:!0,handleClick:()=>this.ShowModalTukang(),exportCsv:!0,data:this.props.DataTukang,columns:this.state.columns,empty:this.props.DataTukang,textEmpty:"Data Tukang Kosong"})),s.a.createElement("br",null),s.a.createElement(O.a,{size:"P",title:this.state.isEdit?"Edit Data Tukang":"Tambah Data Tukang",content:s.a.createElement(f,{isLoading:this.state.isLoading,isEdit:this.state.isEdit,onSubmit:t=>this.handleSubmit(t)})})))}})}}]);
//# sourceMappingURL=37.0b6b0344.chunk.js.map