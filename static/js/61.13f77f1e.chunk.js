(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{1093:function(a,e,t){"use strict";t.r(e);var n=t(0),r=t.n(n),s=t(9),o=t(15),l=t(26),i=t.n(l),m=t(58),c=t(11),p=t(793),d=t.n(p),b=t(289),g=t(290),h=t(292),_=t(32),u=t(7),E=t(4),k=t(3),S=t(5),N=t(6);var f=a=>{const e={};return a.kode_dept||(e.kode_dept="Kode Jenis Harus Dipilih"),a.nama_barang||(e.nama_barang="Nama Barang Tidak Boleh Kosong"),a.berat||(e.berat="Berat Tidak Boleh Kosong"),a.harga||(e.harga="Harga Tidak Boleh Kosong"),a.harga_rata||(e.harga_rata="Harga Rata Tidak Boleh Kosong"),a.kondisi||(e.kondisi="Kondisi Harus Dipilih"),e};const B=Object(_.createNumberMask)({prefix:"Rp. ",locale:"id-ID"});class O extends n.Component{constructor(a){super(a),this.state={isLoading:!1,harga_jual:!0,hargapergram:!0,ongkos:!0,total:!0}}componentDidMount(){this.props.dispatch(Object(u.nb)()),this.props.dispatch(Object(u.kb)()),this.props.dispatch(Object(u.pb)()),setTimeout(()=>{document.getElementById("kode_barcode").focus()},100)}getBarcode(a){let e=JSON.parse(localStorage.getItem("data_barang_pembelian_tmp"))||[];document.getElementById("kode_barcode").focus(),-1===e.findIndex(e=>e.kode_barcode===a)?Object(N.c)("pembelian/get/jual/"+a).then(a=>{0===a.data.length?(Object(S.e)("info","Data Yang Dicari Tidak Ada"),this.props.change("nama_barang",""),this.props.change("nama_atribut",""),this.props.change("berat_atribut",""),this.props.change("harga_atribut",""),this.props.change("berat",""),this.props.change("berat_nota",""),this.props.change("kode_dept",""),this.props.change("harga","")):a.data.forEach((a,e)=>{let t=Object(k.e)("data_customer_pembelian_tmp");if(null===t||0===t.length){let e={kode_sales:a.kode_sales,jenis_pelanggan:"NONMEMBER"===a.kode_member?"NONMEMBER":"MEMBER",kode_customer:a.kode_member,nama_customer:a.nama_customer,alamat_customer:a.alamat_customer,no_hp:a.no_hp};document.getElementById("berat").focus(),localStorage.setItem("data_customer_pembelian_tmp",JSON.stringify(e)),this.props.change("nama_barang",a.nama_barang),this.props.change("nama_atribut",a.nama_atribut),this.props.change("berat_atribut",a.berat_atribut),this.props.change("harga_atribut",a.harga_atribut),this.props.change("berat_nota",a.berat),this.props.change("berat",a.berat),this.props.change("kode_dept",a.kode_dept),this.props.change("harga_nota",a.harga_jual),this.setState({harga_jual:!1,hargapergram:!1,ongkos:!1})}else{if(a.kode_member!==t.kode_customer)return Object(S.e)("info","Data Customer Berbeda"),!1;{let e={kode_sales:a.kode_sales,jenis_pelanggan:"NONMEMBER"===a.kode_member?"NONMEMBER":"MEMBER",kode_customer:a.kode_member,nama_customer:a.nama_customer,alamat_customer:a.alamat_customer,no_hp:a.no_hp};document.getElementById("berat").focus(),localStorage.setItem("data_customer_pembelian_tmp",JSON.stringify(e)),this.props.change("nama_barang",a.nama_barang),this.props.change("nama_atribut",a.nama_atribut),this.props.change("berat_atribut",a.berat_atribut),this.props.change("harga_atribut",a.harga_atribut),this.props.change("berat_nota",a.berat),this.props.change("berat",a.berat),this.props.change("kode_dept",a.kode_dept),this.props.change("harga_nota",a.harga_jual),this.setState({harga_jual:!1,hargapergram:!1,ongkos:!1})}}})}).catch(a=>{console.log(a),this.props.change("nama_barang",""),this.props.change("nama_atribut",""),this.props.change("berat_atribut",""),this.props.change("harga_atribut",""),this.props.change("berat",""),this.props.change("kode_dept",""),this.props.change("harga",""),Object(S.e)("info","Data Yang Dicari Tidak Ada")}):(this.props.change("nama_barang",""),this.props.change("nama_atribut",""),this.props.change("berat_atribut",""),this.props.change("harga_atribut",""),this.props.change("berat",""),this.props.change("kode_dept",""),this.props.change("harga",""),Object(S.e)("info","Kode Barcode Sudah Ada Dalam Table"))}hitungTotal(){this.props.change("harga_rata",this.props.harga_rata)}setValue(a){console.log(a),""===a&&this.change("berat_nota",1)}render(){return r.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:a=>{"Enter"===a.key&&a.preventDefault()},autoComplete:"off"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-3"},r.a.createElement(b.a,{onChange:a=>this.getBarcode(a.target.value),id:"kode_barcode",name:"kode_barcode",label:"Kode Barcode",type:"text",normalize:a=>a.replace(/[^\d]/g,""),placeholder:"Masukan Kode Barcode",component:E.e})),r.a.createElement("div",{className:"col-12 col-md-3"},r.a.createElement(b.a,{label:"Kode Jenis",name:"kode_dept",options:this.props.datajenis.filter(a=>void 0!==a.kode_dept).map(a=>{return{value:a.kode_dept,name:a.kode_dept+" - "+a.nama_dept}||[]}),placeholder:"Silahkan Pilih Kode Jenis",component:E.f})),r.a.createElement("div",{className:"col-12 col-md-3"},r.a.createElement(b.a,{name:"nama_barang",label:"Nama Barang",type:"text",placeholder:"Masukan Nama Barang",component:E.e})),r.a.createElement("div",{className:"col-12 col-md-3"},r.a.createElement(b.a,{name:"berat_nota",label:"Berat Nota",type:"number",placeholder:"Masukan Berat Nota",component:E.e})),r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement(b.a,{id:"berat",name:"berat",label:"Berat",type:"number",onChange:this.hitungTotal(),placeholder:"Masukan Berat",component:E.e})),r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement(b.a,Object.assign({name:"harga_nota",label:"Harga Nota",type:"telp"},B,{placeholder:"Masukan Harga Nota",component:E.e}))),r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement(b.a,Object.assign({name:"harga",label:"Harga Beli",type:"telp",onChange:this.hitungTotal()},B,{placeholder:"Masukan Harga Beli",component:E.e}))),r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement(b.a,Object.assign({name:"harga_rata",label:"Harga Rata",type:"telp",readOnly:!0},B,{placeholder:"Masukan Harga Rata",component:E.e}))),r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement(b.a,{name:"kondisi",label:"Kondisi",options:this.props.datakondisi.filter(a=>void 0!==a.kondisi_barang).map(a=>{return{value:a.kondisi_barang,name:a.kondisi_barang}||[]}),placeholder:"Masukan Kondisi",component:E.f})),r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("label",null,"\xa0"),r.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.props.isLoadingSimpanBarang,type:"submit"},this.props.isLoadingSimpanBarang?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Barang"))))}}O=Object(g.a)({form:"ModalTambahBarang",enableReinitialize:!0,validate:f})(O);const j=Object(h.a)("ModalTambahBarang");var y=Object(s.b)(a=>{const e=j(a,"harga","berat"),t=e.harga,n=e.berat;return{setBarangPembelian:a.penjualan.setBarangPembelian,harga_rata:parseFloat(t||0)/parseFloat(n||0)||0,DataSales:a.datamaster.getDataSales,datajenis:a.datamaster.getDataJenis,datakondisi:a.datamaster.getKondisiPembelian}})(O),v=t(14),I=t(91);const M=[{value:"MEMBER",name:"MEMBER"},{value:"NONMEMBER",name:"NON MEMBER"}];class x extends n.Component{constructor(a){super(a),this.state={showMember:!0}}componentDidMount(){this.props.dispatch(Object(u.nb)());let a=null===localStorage.getItem("data_customer_pembelian_tmp")?[]:JSON.parse(localStorage.getItem("data_customer_pembelian_tmp")||[]);a&&"MEMBER"===a.jenis_pelanggan?this.setState({showMember:!1}):this.setState({showMember:!0})}changemember(a){"MEMBER"===a?this.setState({showMember:!1}):(this.props.change("kode_customer",""),this.props.change("nama_customer",""),this.props.change("no_hp",""),this.props.change("alamat_customer",""),this.setState({showMember:!0}))}getMember(a){Object(N.c)("member/get/by-kode-member/"+a).then(a=>{0===a.data.length?Object(S.e)("info","Member Yang Anda Masukan Tidak Ada !!!"):a.data.forEach((a,e)=>{this.props.change("nama_customer",a.nama_customer),this.props.change("no_hp",a.no_hp),this.props.change("alamat_customer",a.alamat_customer)})}).catch(a=>{Object(S.e)("info","Terjadi Kesalahan SIlahkan Ulangi Kembali !!!")})}render(){return r.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:a=>{"Enter"===a.key&&a.preventDefault()},autoComplete:"off"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement(b.a,{tabIndex:"1",name:"kode_sales",label:"Pilih Kode Sales",placeholder:"Masukan Kode Sales",options:this.props.DataSales.filter(a=>void 0!==a.kode_sales).map(a=>{return{value:a.kode_sales,name:a.kode_sales}}),component:E.f})),r.a.createElement("div",{className:"col-4"},r.a.createElement(b.a,{tabIndex:"2",name:"jenis_pelanggan",label:"Pilih Pelanggan",onChange:a=>this.changemember(a),placeholder:"Silahkan Pilih Pelanggan",options:M,component:E.f})),r.a.createElement("div",{className:"col-4"},r.a.createElement(b.a,{tabIndex:"3",name:"kode_customer",onChange:a=>this.getMember(a.target.value),component:E.e,type:"text",readOnly:this.state.showMember,label:"Kode Customer",placeholder:"Masukan Kode Customer"})),r.a.createElement("div",{className:"col-4"},r.a.createElement(b.a,{tabIndex:"4",name:"nama_customer",component:E.e,type:"text",label:"Nama Customer",placeholder:"Masukan Nama Customer"})),r.a.createElement("div",{className:"col-4"},r.a.createElement(b.a,{tabIndex:"5",name:"no_hp",component:E.e,type:"number",label:"No Hp",placeholder:"Masukan No Hp"})),r.a.createElement("div",{className:"col-4"},r.a.createElement(b.a,{tabIndex:"6",name:"alamat_customer",component:E.e,type:"textarea",label:"Alamat Customer",placeholder:"Masukan Alamat Customer"}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6 text-left"},r.a.createElement("button",{onClick:()=>this.props.back(),className:"btn btn-secondary",type:"button"},"Kembali")),r.a.createElement("div",{className:"col-6 text-right"},r.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:this.props.isLoading},this.props.isLoading?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Selesai Pembelian"):"Selesai Pembelian"))))}}x=Object(g.a)({form:"ModalDataCustomer",enableReinitialize:!0,validate:I.a})(x);var D=Object(s.b)(a=>{let e=null===localStorage.getItem("data_customer_pembelian_tmp")?[]:JSON.parse(localStorage.getItem("data_customer_pembelian_tmp")||[]);return{initialValues:{kode_sales:e.kode_sales||"",jenis_pelanggan:e.jenis_pelanggan||"",kode_customer:e.kode_customer||"",nama_customer:e.nama_customer||"",no_hp:e.no_hp||"",alamat_customer:e.alamat_customer||""},DataSales:a.datamaster.getDataSales}},null)(x),L=t(43),C=t(59);const P=Object(_.createNumberMask)({prefix:"Rp. ",locale:"id-ID"}),J=[{value:"CASH",name:"CASH"}];class T extends n.Component{constructor(...a){super(...a),this.state={}}componentDidMount(){this.props.dispatch(Object(u.nb)());let a=JSON.parse(localStorage.getItem("data_barang_pembelian_tmp")),e=0;a.forEach((a,t)=>{e+=a.harga,this.props.change("grand_total_pembayaran",e)}),this.props.change("jenis","CASH"),setTimeout(()=>{document.getElementById("cash_trx_pembelian").focus()},100)}hitungTotal(){this.props.change("kembali",this.props.kembali)}render(){return r.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:a=>{"Enter"===a.key&&a.preventDefault()},autoComplete:"off"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement(b.a,Object.assign({name:"grand_total_pembayaran",component:E.e,type:"text",onChange:this.hitungTotal(),readOnly:!0},P,{label:"Grand Total Pembayaran",placeholder:"Masukan Grand Total"}))),r.a.createElement("div",{className:"col-6"},r.a.createElement(b.a,{name:"jenis",label:"Pilih Jenis Bayar",placeholder:"Pilih Jenis Pembayaran",options:J,component:E.f})),r.a.createElement("div",{className:"col-6"},r.a.createElement(b.a,Object.assign({tabIndex:"1",name:"cash",id:"cash_trx_pembelian",component:E.e,type:"text",label:"Cash",onChange:this.hitungTotal()},P,{normalize:L.b,placeholder:"Masukan Total Pembayaran"}))),r.a.createElement("div",{className:"col-6"},r.a.createElement(b.a,Object.assign({name:"kembali",component:E.e,type:"text",readOnly:!0,label:"Kembali"},P,{normalize:L.b,placeholder:"Kembalian"})))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6 text-left"},r.a.createElement("button",{onClick:()=>this.props.back(),className:"btn btn-secondary",type:"button"},"Kembali")),r.a.createElement("div",{className:"col-6 text-right"},r.a.createElement("button",{tabIndex:"2",className:"btn btn-primary ",disabled:this.props.isLoading,type:"submit"},this.props.isLoading?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Diproses"):"Bayar Sekarang"))))}}T=Object(g.a)({form:"ModalPembayaran",enableReinitialize:!0,validate:C.a})(T);const K=Object(h.a)("ModalPembayaran");var F=Object(s.b)(a=>{const e=K(a,"grand_total_pembayaran","cash"),t=e.grand_total_pembayaran,n=e.cash;return{kembali:parseFloat(t||0)-parseFloat(n||0)}})(T),w=t(18);class R extends n.Component{constructor(a){super(a),this.state={isLoading:!1,harga_jual:!0,hargapergram:!0,ongkos:!0,total:!0}}componentDidMount(){this.props.dispatch(Object(u.nb)()),this.props.dispatch(Object(u.kb)()),this.props.dispatch(Object(u.pb)())}render(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement(w.a,{keyField:"nama_barang",exportCsv:!1,data:0===this.props.setBarangPembelian.length?JSON.parse(localStorage.getItem("data_barang_pembelian_tmp")):this.props.setBarangPembelian,columns:this.props.columns,empty:!0,textEmpty:"Data Barang Kosong"})))}}R=Object(g.a)({form:"LihatDataBarang",enableReinitialize:!0,validate:f})(R);const H=Object(h.a)("LihatDataBarang");var A=Object(s.b)(a=>{const e=H(a,"harga","berat"),t=e.harga,n=e.berat;return{setBarangPembelian:a.penjualan.setBarangPembelian,harga_rata:parseFloat(t||0)/parseFloat(n||0)||0,DataSales:a.datamaster.getDataSales,datajenis:a.datamaster.getDataJenis,datakondisi:a.datamaster.getKondisiPembelian}})(R);e.default=Object(s.b)(a=>({setBarangPembelian:a.penjualan.setBarangPembelian}),null)(class extends r.a.Component{constructor(a){super(a),this.state={isLoading:!1,step:0,isLoadingBatal:!1,isLoadingSimanBeli:!1,isLoadingDataCustomer:!1,isLoadingSimpanBarang:!1,columns:[{dataField:"kode_barcode",text:"Kode Barcode",footerAttrs:{colSpan:"3"},footer:"Total"},{dataField:"nama_barang",text:"Nama Barang"},{dataField:"kode_dept",text:"Jenis"},{dataField:"harga_nota",text:"Harga Nota",formatter:a=>r.a.createElement("span",null,parseInt(a).toLocaleString("ID-id")),footer:a=>parseInt(a.reduce((a,e)=>a+e,0)).toLocaleString("id-ID")},{dataField:"berat_nota",text:"Berat Nota",formatter:a=>r.a.createElement("span",null,parseFloat(a).toFixed(3)),footer:a=>parseFloat(a.reduce((a,e)=>a+e,0)).toFixed(3)},{dataField:"berat",text:"Berat",formatter:a=>r.a.createElement("span",null,parseFloat(a).toFixed(3)),footer:a=>parseFloat(a.reduce((a,e)=>a+e,0)).toFixed(3)},{dataField:"harga",text:"Harga Beli",formatter:a=>r.a.createElement("span",null,parseInt(a).toLocaleString("ID-id")),footer:a=>parseInt(a.reduce((a,e)=>a+e,0)).toLocaleString("id-ID")},{dataField:"kondisi",text:"Kondisi",footer:""},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(a,e,t)=>r.a.createElement("div",{className:"row text-center"},r.a.createElement("div",{className:"col-12"},r.a.createElement("button",{type:"button",onClick:()=>this.hapusdata(t),className:"btn btn-danger mr-3"},r.a.createElement("i",{className:"fa fa-trash"})))),footer:""}]}}hapusdata(a){i.a.fire({title:"Anda Yakin !!",text:"Ingin Menghapus Data Ini ?",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(e=>{if(e.isConfirmed){let e=JSON.parse(localStorage.getItem("data_barang_pembelian_tmp"));e.splice(a,1),localStorage.setItem("data_barang_pembelian_tmp",JSON.stringify(e)),0===e.length&&this.setState({step:0}),this.props.dispatch(Object(m.j)(e))}})}simpanBarang(a){this.setState({isLoadingSimpanBarang:!0});let e={kode_barcode:void 0===a.kode_barcode?"-":a.kode_barcode,nama_barang:a.nama_barang,kondisi:a.kondisi,kode_dept:a.kode_dept,harga_rata:parseInt(a.harga_rata),harga_nota:parseInt(a.harga_nota)||0,harga:parseInt(a.harga),berat_nota:parseFloat(a.berat_nota)||0,berat:parseFloat(a.berat)};if(void 0===a.kondisi)return!1;let t=JSON.parse(localStorage.getItem("data_barang_pembelian_tmp"))||[];document.getElementById("kode_barcode").focus(),-1===t.findIndex(e=>e.kode_barcode===a.kode_barcode)?(t.push(e),Object(S.e)("success","Barang Berhasil Ditambahkan"),localStorage.setItem("data_barang_pembelian_tmp",JSON.stringify(t)),this.props.dispatch(Object(m.j)(t)),this.props.dispatch(Object(v.d)("ModalTambahBarang")),setTimeout(()=>{this.setState({isLoadingSimpanBarang:!1})},200)):(setTimeout(()=>{this.setState({isLoadingSimpanBarang:!1})},200),document.getElementById("kode_barcode").focus(),Object(S.e)("info","Barang Sudah Ada Di Tabel"))}handleSubmit(a){this.setState({isLoading:!0}),localStorage.setItem("data_customer_pembelian_tmp",JSON.stringify(a)),setTimeout(()=>{let a=JSON.parse(localStorage.getItem("data_barang_pembelian_tmp")),e=0;a.forEach((a,t)=>{e+=a.harga});let t={jenis:"CASH",jumlah_rp:e},n=JSON.parse(localStorage.getItem("data_customer_pembelian_tmp")),r=JSON.parse(localStorage.getItem("data_barang_pembelian_tmp")),s=[];r.forEach((a,e)=>{let t={kode_dept:a.kode_dept,nama_barang:a.nama_barang,berat_nota:a.berat_nota,harga:a.harga,berat:a.berat,harga_nota:a.harga_nota,kondisi:a.kondisi,kode_barcode:a.kode_barcode};s.push(t)});let o={kode_sales:n.kode_sales,nama_customer:n.nama_customer,kode_member:"NONMEMBER"===n.jenis_pelanggan?n.jenis_pelanggan:n.kode_customer,alamat_customer:n.alamat_customer,no_hp:n.no_hp,detail_barang:s,pembayaran:[t]};Object(N.e)("pembelian/simpan",o).then(a=>{Object(S.e)("success",a.data.message)}).then(()=>{this.setState({isLoading:!1})}).then(()=>{this.props.dispatch(Object(v.d)("ModalPembayaran"))}).then(()=>{localStorage.setItem("data_customer_pembelian_tmp",JSON.stringify([])),localStorage.setItem("data_barang_pembelian_tmp",JSON.stringify([]))}).then(()=>{this.props.dispatch(Object(m.j)([])),this.setState({step:0})}).catch(a=>this.errorhandling(a))},500)}back(a){this.setState({step:a})}simpanPembayaran(a){if("CASH"!==a.jenis&&a.kembali.replace(/[^0-9]/g,"")-a.cash<0)return Object(S.e)("info","Pembayaran tidak boleh lebih dari sisa"),!1;this.setState({isLoading:!0});let e=JSON.parse(localStorage.getItem("data_barang_pembelian_tmp")),t=0;e.forEach((a,e)=>{t+=a.harga});let n=0;n=a.cash>a.grand_total_pembayaran?a.grand_total_pembayaran:a.cash;let r={jenis:a.jenis,jumlah_rp:n};if(parseInt(a.cash)<parseInt(a.grand_total_pembayaran)){let e=parseInt(a.grand_total_pembayaran)-parseInt(a.cash);return Object(S.e)("info","Pembayaran Masih Kurang Rp."+parseInt(e).toLocaleString("ID-id")),this.setState({isLoading:!1}),!1}let s=JSON.parse(localStorage.getItem("data_customer_pembelian_tmp")),o=JSON.parse(localStorage.getItem("data_barang_pembelian_tmp")),l=[];o.forEach((a,e)=>{let t={kode_dept:a.kode_dept,nama_barang:a.nama_barang,berat_nota:a.berat_nota,harga:a.harga,berat:a.berat,harga_nota:a.harga_nota,kondisi:a.kondisi,kode_barcode:a.kode_barcode};l.push(t)});let i={kode_sales:s.kode_sales,nama_customer:s.nama_customer,kode_member:"NONMEMBER"===s.jenis_pelanggan?s.jenis_pelanggan:s.kode_customer,alamat_customer:s.alamat_customer,no_hp:s.no_hp,detail_barang:l,pembayaran:[r]};Object(N.e)("pembelian/simpan",i).then(a=>{Object(S.e)("success",a.data.message)}).then(()=>{this.setState({isLoading:!1})}).then(()=>{this.props.dispatch(Object(v.d)("ModalPembayaran"))}).then(()=>{localStorage.setItem("data_customer_pembelian_tmp",JSON.stringify([])),localStorage.setItem("data_barang_pembelian_tmp",JSON.stringify([]))}).then(()=>{this.props.dispatch(Object(m.j)([])),this.setState({step:0})}).catch(a=>this.errorhandling(a))}componentWillUnmount(){localStorage.setItem("data_customer_pembelian_tmp",JSON.stringify([])),localStorage.setItem("data_barang_pembelian_tmp",JSON.stringify([]))}errorhandling(a){this.setState({isLoading:!1}),Object(S.e)("info","Transaksi Gagal Disimpan")}nextLihatDataBarang(){if(null==localStorage.getItem("data_barang_pembelian_tmp")||0===JSON.parse(localStorage.getItem("data_barang_pembelian_tmp")).length)return Object(S.e)("info","Data Barang Tidak Boleh Kosong"),!1;this.setState({step:1})}btlPembelian(){this.setState({isLoadingBatal:!0}),setTimeout(()=>{localStorage.setItem("data_customer_pembelian_tmp",JSON.stringify([])),this.props.dispatch(Object(m.j)([])),localStorage.setItem("data_barang_pembelian_tmp",JSON.stringify([])),this.setState({isLoadingBatal:!1})},500)}render(){return r.a.createElement("div",null,r.a.createElement("ol",{className:"breadcrumb float-xl-right"},r.a.createElement("li",{className:"breadcrumb-item"},r.a.createElement(o.b,{to:"#"},"Pembelian")),r.a.createElement("li",{className:"breadcrumb-item active"},"Transaksi Pembelian")),r.a.createElement("h1",{className:"page-header"},"Transaksi Pembelian "),r.a.createElement(c.a,null,r.a.createElement(c.c,null,"Transaksi Pembelian"),r.a.createElement("br",null),r.a.createElement(d.a,{steps:[{title:"Input Barang"},{title:"Lihat Data Barang"},{title:"Data Customer"}],activeStep:this.state.step}),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},0===this.state.step?r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"container"},r.a.createElement(y,{isLoadingSimpanBarang:this.state.isLoadingSimpanBarang,columns:this.state.columns,onSubmit:a=>this.simpanBarang(a)}),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6 text-left"},r.a.createElement("button",{onClick:()=>this.btlPembelian(),className:"btn btn-warning",disabled:this.state.isLoadingBatal,type:"button"},this.state.isLoadingBatal?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Reset Data"):"Reset Data")),r.a.createElement("div",{className:"col-6 text-right"},r.a.createElement("button",{className:"btn btn-primary",onClick:()=>this.nextLihatDataBarang()}," ","Next"," "))))):1===this.state.step?r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"container"},r.a.createElement(A,{isLoadingSimpanBarang:this.state.isLoadingSimpanBarang,columns:this.state.columns,onSubmit:a=>this.simpanBarang(a)}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6 text-left"},r.a.createElement("button",{onClick:()=>this.back(0),className:"btn btn-secondary",type:"button"},"Kembali")),r.a.createElement("div",{className:"col-6 text-right"},r.a.createElement("button",{className:"btn btn-primary",onClick:()=>this.setState({step:2})}," ","Next"," "))))):2===this.state.step?r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(D,{isLoading:this.state.isLoading,back:()=>this.back(1),isLoadingDataCustomer:this.state.isLoadingDataCustomer,onSubmit:a=>this.handleSubmit(a)}))):r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"container"},r.a.createElement(F,{isLoading:this.state.isLoading,onSubmit:a=>this.simpanPembayaran(a),back:()=>this.back(2)})))),r.a.createElement("br",null)))}})}}]);
//# sourceMappingURL=61.13f77f1e.chunk.js.map