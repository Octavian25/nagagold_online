(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{1100:function(e,a,t){"use strict";t.r(a);var r=t(0),s=t.n(r),i=t(15),o=t(12),n=t(97),d=t.n(n),l=t(73),c=t.n(l),m=t(149),u=t.n(m),p=t(8),h=t(10),g=t(5),b=t(287),k=t(288),E=t(4);var N=(e,a)=>{const t={};return e.kode_kategori||(t.kode_kategori="Kode Kategori Tidak Boleh Kosong"),e.kadar||(t.kadar="Kadar Tidak Boleh Kosong"),e.rugi||(t.rugi="Rugi Tidak Boleh Kosong"),e.rusak||(t.rusak="Rusak Tidak Boleh Kosong"),t};class R extends r.Component{constructor(...e){super(...e),this.state={aktif:!1}}componentDidMount(){this.props.dispatch(Object(p.t)()),setTimeout(()=>{this.props.isEdit?document.getElementById("kadar").focus():document.getElementById("kode_group").focus()},100)}render(){return s.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off",onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()}},s.a.createElement("div",{className:"form-group"},s.a.createElement(b.a,{id:"kode_group",label:"Kode Kategori",name:"kode_group",options:this.props.datagroup.filter(e=>void 0!==e.kode_group).map(e=>{return{value:e.kode_group,name:e.kode_group+" - "+e.nama_group}}),value:this.props.kode_group,disabled:this.props.isEdit,placeholder:"Silahkan Pilih Kode Kategori",component:E.f})),s.a.createElement(b.a,{id:"kadar",name:"kadar",component:E.e,type:"number",label:"Kadar",placeholder:"Masukan Kadar"}),s.a.createElement(b.a,{name:"rugi",component:E.e,type:"number",label:"Rugi",placeholder:"Masukan Rugi"}),s.a.createElement(b.a,{name:"rusak",component:E.e,type:"number",label:"Rusak",onBlur:()=>this.setState({aktif:!0}),placeholder:"Masukan Rusak"}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 text-right"},s.a.createElement("button",{className:this.state.aktif?"btn btn-primary":"btn btn-white",disabled:this.props.isLoading,type:"submit"},this.props.isLoading?s.a.createElement(s.a.Fragment,null,s.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"),"\xa0",s.a.createElement("button",{className:"btn btn-white",onClick:()=>this.props.dispatch(Object(p.vb)()),type:"button"},"Batal"),"\xa0")))}}R=Object(k.a)({form:"ModalParameterRugiNota",enableReinitialize:!0,validate:N})(R);var S=Object(h.b)(e=>{if(null!==e.datamaster.ShowModalParameterRugiNota)return{datagroup:e.datamaster.GetDataGroup,initialValues:{kode_group:e.datamaster.ShowModalParameterRugiNota.kode_group,kadar:e.datamaster.ShowModalParameterRugiNota.kadar,rugi:e.datamaster.ShowModalParameterRugiNota.rugi,rusak:e.datamaster.ShowModalParameterRugiNota.rusak}}},null)(R),f=t(14),v=t(6),j=t(3),P=t(36);const O=l.Search.SearchBar,M=l.CSVExport.ExportCSVButton;a.default=Object(h.b)(e=>({dataRugiNota:e.datamaster.getParameterRugiNota,hideModal:e.datamaster.modalDialog}),null)(class extends s.a.Component{constructor(e){super(e),this.state={isEdit:!1,isLoading:!1,modalDialog:!1,columns:[{dataField:"kode_group",text:"Kode Kategori",sort:!0},{dataField:"kadar",text:"kadar"},{dataField:"rugi",text:"Rugi"},{dataField:"rusak",text:"Rusak"},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(e,a)=>{let t={kode_group:a.kode_group,kadar:a.kadar,rugi:a.rugi,rusak:a.rusak};return s.a.createElement("div",{className:"row text-center"},s.a.createElement("div",{className:"col-12"},s.a.createElement("button",{onClick:()=>this.formEditParameterRugiNota(t),className:"btn btn-primary mr-3"},s.a.createElement("i",{className:"fa fa-edit"}))))}}]},this.handleSubmit=this.handleSubmit.bind(this)}componentDidMount(){this.props.dispatch(Object(p.tb)())}handleSubmit(e){this.setState({isLoading:!0});let a={kode_group:e.kode_group,kadar:e.kadar,rugi:e.rugi,rusak:e.rusak},t={kadar:e.kadar,rugi:e.rugi,rusak:e.rusak};this.state.isEdit?Object(v.f)("ruginota/edit/by-kode-group/"+e.kode_group,t).then(()=>{this.props.dispatch(Object(p.vb)())}).then(()=>{Object(g.e)("success","Data Berhasil Diedit")}).then(()=>{this.props.dispatch(Object(p.tb)())}).then(()=>{this.setState({isLoading:!1})}).then(()=>{this.props.dispatch(Object(f.d)("ModalParameterRugiNota"))}).catch(e=>{Object(g.e)("info"," Data Gagal Diedit")}):Object(v.d)("ruginota/add",a).then(()=>{this.props.dispatch(Object(p.vb)())}).then(()=>{Object(g.e)("success","Data Berhasil Simpan")}).then(()=>{this.props.dispatch(Object(p.tb)())}).then(()=>{this.setState({isLoading:!1})}).then(()=>{this.props.dispatch(Object(f.d)("ModalParameterRugiNota"))}).catch(t=>{Object(j.a)(t,"jenis/reactive/by-kode-jenis/",e.kode_group,a,this.props.dispatch,Object(p.tb)(),Object(p.vb)(),"ModalParameterRugiNota").then(()=>{this.setState({isLoading:!1})})})}formEditParameterRugiNota(e){this.props.dispatch(Object(p.wb)()),this.props.dispatch(Object(p.cb)(e)),this.setState({isEdit:!0})}ShowModalParameterRugiNota(){this.props.dispatch(Object(p.wb)()),this.props.dispatch(Object(p.cb)(!1)),this.setState({isEdit:!1})}render(){return s.a.createElement("div",null,s.a.createElement("ol",{className:"breadcrumb float-xl-right"},s.a.createElement("li",{className:"breadcrumb-item"},s.a.createElement(i.b,{to:"#"},"Data Master")),s.a.createElement("li",{className:"breadcrumb-item active"},"Master Parameter Rugi Nota")),s.a.createElement("h1",{className:"page-header"},"Master Parameter Rugi Nota "),s.a.createElement(o.a,null,s.a.createElement(o.c,null,"Master Parameter Rugi Nota"),s.a.createElement("br",null),s.a.createElement("div",{className:"container"},s.a.createElement(c.a,{keyField:"kode_group",data:this.props.dataRugiNota||[],columns:this.state.columns,search:!0,exportCSV:{fileName:"Export Master Parameter Rugi Nota.csv"}},e=>s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{onClick:()=>this.ShowModalParameterRugiNota(),className:"btn btn-primary"}," ",s.a.createElement("i",{className:"fa fa-plus"})," ")),s.a.createElement("div",{className:"col-6"},s.a.createElement("div",{className:"text-right"},s.a.createElement(O,e.searchProps))),s.a.createElement("hr",null),s.a.createElement("div",{className:"col-12"},s.a.createElement(d.a,Object.assign({pagination:u()()},e.baseProps)),s.a.createElement("br",null),s.a.createElement(M,e.csvProps,"Export CSV!!"))))),s.a.createElement("br",null),s.a.createElement(P.a,{title:this.state.isEdit?"Edit Data Parameter Rugi Nota":"Tambah Data Parameter Rugi Nota",size:"P",content:s.a.createElement(S,{isEdit:this.state.isEdit,isLoading:this.state.isLoading,onSubmit:e=>this.handleSubmit(e)})})))}})}}]);
//# sourceMappingURL=39.832d2e92.chunk.js.map