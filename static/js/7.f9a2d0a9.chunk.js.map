{"version":3,"sources":["pages/Barang/PindahBarang/HeadPindahBarang.jsx","pages/Barang/PindahBarang/FormPindahBarang.jsx","Validasi/Barang/PindahBarang/ValidasiPindahBarang.jsx"],"names":["HeadPindahBarang","Component","constructor","props","super","this","state","date","Date","isLoadingBatal","isLoadingBaki","componentWillUnmount","componentDidMount","dispatch","getDataGudang","getDataBaki","setTimeout","setState","kode_gudang","change","getKodeBarcode","e","getData","then","res","data","length","ToastNotification","JSON","parse","localStorage","getItem","findIndex","hasil","kode_barcode","push","setItem","stringify","setBarangPindah","catch","err","batalHancur","render","react_default","a","createElement","onSubmit","handleSubmit","autoComplete","onKeyPress","key","preventDefault","className","Field","id","label","name","onChange","options","datagudang","filter","list","undefined","map","value","nama_gudang","placeholder","component","ReanderSelect","databaki","kode_baki","nama_baki","field","target","ReanderField","type","tabel","keyField","exportCsv","pagination","columns","empty","textEmpty","disabled","submitting","isLoading","Fragment","onClick","reduxForm","form","enableReinitialize","validate","ValidasiPindahBarang","connect","datamaster","databarang","React","isEdit","modalDialog","dataField","text","footerAttrs","colSpan","footer","cell","row","num","index","formatter","toFixed","columnData","reduce","acc","item","csvExport","headerClasses","rowcontent","hapusdata","bind","Swal","fire","title","icon","position","cancelButtonText","showCancelButton","confirmButtonText","showConfirmButton","result","isConfirmed","splice","barang_tmp","kode_toko","detail_barang","postData","error","errorhandling","NotifError","response","react_router_dom","to","panel","PindahBarang_HeadPindahBarang","errors","statusAktif"],"mappings":"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","file":"static/js/7.f9a2d0a9.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { setBarangPindah } from \"../../../actions/databarang_action\";\r\nimport { getDataBaki, getDataGudang } from \"../../../actions/datamaster_action\";\r\nimport {\r\n  ReanderSelect,\r\n  SkeletonLoading,\r\n  ReanderField,\r\n} from \"../../../components/helpers/field\";\r\nimport { ToastNotification } from \"../../../components/helpers/notification\";\r\nimport Tabel from \"../../../components/helpers/tabel\";\r\nimport { getData } from \"../../../config/axios\";\r\nimport ValidasiPindahBarang from \"../../../Validasi/Barang/PindahBarang/ValidasiPindahBarang\";\r\nconst maptostate = (state) => {\r\n  return {\r\n    datagudang: state.datamaster.getDataGudang,\r\n    databaki: state.datamaster.getDataBaki,\r\n    setBarangPindah: state.databarang.setBarangPindah,\r\n  };\r\n};\r\nclass HeadPindahBarang extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      date: new Date(),\r\n      isLoadingBatal:false,\r\n      isLoadingBaki: false,\r\n    };\r\n  }\r\n  componentWillUnmount() {}\r\n  componentDidMount() {\r\n    this.props.dispatch(getDataGudang());\r\n    this.props.dispatch(getDataBaki());\r\n    setTimeout(() => {\r\n      // document.getElementById('kode_gudang').p\r\n      this.setState({ kode_gudang: 'TOKO' });\r\n      this.props.change('kode_gudang','TOKO')\r\n    }, 100);\r\n  }\r\n  getKodeBarcode(e) {\r\n    getData(\"barang/get/by-kode-barcode/\" + e)\r\n      .then((res) => {\r\n        if (res.data.length === 0) {\r\n          ToastNotification(\"info\", \"Data Yang Dicari Tidak Ada\");\r\n          // return false\r\n        } else {\r\n          let data = JSON.parse(localStorage.getItem(\"data_barang_tmp\")) || [];\r\n          let index = data.findIndex((hasil) => hasil.kode_barcode === e);\r\n          if (index === -1) {\r\n            data.push(res.data[0]);\r\n            localStorage.setItem(\"data_barang_tmp\", JSON.stringify(data));\r\n            this.props.dispatch(setBarangPindah(data));\r\n            this.props.change(\"kode_barcode\", \"\");\r\n          }\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        ToastNotification(\"info\", \"Data Yang Dicari Tidak Ada\");\r\n      });\r\n  }\r\n  batalHancur() {\r\n    this.setState({ isLoadingBatal: true })\r\n    setTimeout(() => {\r\n      this.props.dispatch(setBarangPindah([]));\r\n      localStorage.setItem('data_barang_tmp', JSON.stringify([]))\r\n      this.setState({ isLoadingBatal: false })\r\n    }, 500);\r\n  }\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.props.handleSubmit} autoComplete=\"off\"\r\n      onKeyPress={(e) => {\r\n        e.key === \"Enter\" && e.preventDefault();\r\n      }}\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-4\">\r\n            <Field\r\n              id=\"kode_gudang\"\r\n              label=\"Kode Gudang\"\r\n              name=\"kode_gudang\"\r\n              onChange={(e) => {\r\n                this.setState({ kode_gudang: e });\r\n                this.props.change(\"kode_baki\", \"\");\r\n              }}\r\n              options={this.props.datagudang\r\n                .filter((list) => list.kode_gudang !== undefined)\r\n                .map((list) => {\r\n                  let data = {\r\n                    value: list.kode_gudang,\r\n                    name: list.kode_gudang + \" - \" + list.nama_gudang,\r\n                  };\r\n                  return data;\r\n                })}\r\n              placeholder={\"Silahkan Pilih Kode Gudang\"}\r\n              component={ReanderSelect}\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-4\">\r\n            {this.state.isLoadingBaki === false ? (\r\n              <Field\r\n                label=\"Baki Tujuan\"\r\n                name=\"kode_baki\"\r\n                options={this.props.databaki\r\n                  .filter((list) => list.kode_gudang === this.state.kode_gudang)\r\n                  .map((databaki) => {\r\n                    let data = {\r\n                      value: databaki.kode_baki,\r\n                      name: databaki.kode_baki + \" - \" + databaki.nama_baki,\r\n                    };\r\n                    return data || [];\r\n                  })}\r\n                placeholder={\"Silahkan Pilih Baki Tujuan\"}\r\n                component={ReanderSelect}\r\n              />\r\n            ) : (\r\n              <SkeletonLoading label=\"Baki Tujuan\" />\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"col-lg-4\">\r\n            <Field\r\n              onChange={(e) => this.getKodeBarcode(e.target.value)}\r\n              name=\"kode_barcode\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Kode Barcode\"\r\n              placeholder=\"Masukan Kode Barcode\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <Tabel\r\n          keyField=\"kode_barcode\"\r\n          exportCsv={false}\r\n          pagination=\"off\"\r\n          data={\r\n            this.props.setBarangPindah.length === 0\r\n              ? JSON.parse(localStorage.getItem(\"data_barang_tmp\"))\r\n              : this.props.setBarangPindah\r\n          }\r\n          columns={this.props.columns}\r\n          empty={true}\r\n          textEmpty=\"Data Barang Kosong\"\r\n        />\r\n        <div className=\"row\">\r\n          <div className=\"col-10\">\r\n            <button\r\n              className=\"btn btn-primary\"\r\n              disabled={this.props.submitting}\r\n              type=\"submit\"\r\n            >\r\n              {this.props.isLoading ? (\r\n                <>\r\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\r\n                  Menyimpan\r\n                </>\r\n              ) : (\r\n                \"Simpan Data\"\r\n              )}\r\n            </button>\r\n            &nbsp;\r\n            <button\r\n              className=\"btn btn-warning\"\r\n              type=\"button\"\r\n              onClick={()=>this.batalHancur()}\r\n              disabled={this.props.isLoadingBatal}\r\n            >\r\n              {this.state.isLoadingBatal ? (\r\n                <>\r\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\r\n                  Membatal\r\n                </>\r\n              ) : (\r\n                \"Batal\"\r\n              )}\r\n            </button>\r\n          </div>\r\n          {/* <div className=\"2\">\r\n            {JSON.parse(localStorage.getItem(\"data_barang_tmp\")) ===\r\n            null ? null : (\r\n              <>\r\n                Total Barang :{\" \"}\r\n                {this.props.setBarangPindah.length === 0\r\n                  ? JSON.parse(localStorage.getItem(\"data_barang_tmp\"))\r\n                      .length || 0\r\n                  : this.props.setBarangPindah.length || 0}\r\n                <br />\r\n                Total Berat :\r\n                {this.props.setBarangPindah.length === 0\r\n                  ? JSON.parse(localStorage.getItem(\"data_barang_tmp\"))\r\n                      .map((column, key) => column.berat)\r\n                      .reduce((a, b) => a + b, 0)\r\n                      .toFixed(1)\r\n                  : this.props.setBarangPindah\r\n                      .map((column, key) => column.berat)\r\n                      .reduce((a, b) => a + b, 0)\r\n                      .toFixed(1)}\r\n              </>\r\n            )}\r\n          </div> */}\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nHeadPindahBarang = reduxForm({\r\n  form: \"HeadPindahBarang\",\r\n  enableReinitialize: true,\r\n  validate: ValidasiPindahBarang,\r\n})(HeadPindahBarang);\r\nexport default connect(maptostate, null)(HeadPindahBarang);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Panel, PanelHeader } from \"../../../components/panel/panel.jsx\";\r\nimport { connect } from \"react-redux\";\r\nimport HeadPindahBarang from \"./HeadPindahBarang.jsx\";\r\nimport Swal from \"sweetalert2\";\r\nimport { setBarangPindah } from \"../../../actions/databarang_action.jsx\";\r\nimport { postData } from \"../../../config/axios.jsx\";\r\nimport { NotifError, ToastNotification } from \"../../../components/helpers/notification.jsx\";\r\nconst maptostate = (state) => {\r\n  return {\r\n    setBarangPindah: state.databarang.setBarangPindah,\r\n  };\r\n};\r\n\r\nclass FormPindahBarang extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isEdit: false,\r\n      modalDialog: false,\r\n      isLoading: false,\r\n      columns: [\r\n        {\r\n          dataField: \"kode_barcode\",\r\n          text: \"Kode Barcode\",\r\n          footerAttrs: {\r\n            colSpan: \"5\",\r\n          },\r\n          footer: (cell, row, num, index) => {\r\n            return (\r\n              <div>Total Barang : {this.props.setBarangPindah.length === 0\r\n                ?  JSON.parse(localStorage.getItem(\"data_barang_tmp\")) === null  ? 0 :  JSON.parse(localStorage.getItem(\"data_barang_tmp\"))\r\n                    .length || 0\r\n                : this.props.setBarangPindah.length || 0} </div>\r\n            );\r\n          },\r\n        },\r\n        {\r\n          dataField: \"kode_group\",\r\n          text: \"Gudang Asal\",\r\n        },\r\n        {\r\n          dataField: \"kode_dept\",\r\n          text: \"Baki Asal\",\r\n        },\r\n        {\r\n          dataField: \"nama_barang\",\r\n          text: \"Nama Barang\",\r\n        },\r\n        {\r\n          dataField: \"nama_atribut\",\r\n          text: \"Nama Atribut\",\r\n        },\r\n        {\r\n          dataField: \"berat\",\r\n          text: \"Berat\",\r\n          formatter: (cell) => {\r\n            return cell.toFixed(3);\r\n          },\r\n          footer: (columnData) =>\r\n            columnData.reduce((acc, item) => acc + item, 0).toFixed(3),\r\n        },\r\n\r\n        {\r\n          dataField: \"action\",\r\n          text: \"Action\",\r\n          csvExport: false,\r\n          headerClasses: \"text-center\",\r\n          formatter: (rowcontent, row,index) => {\r\n            return (\r\n              <div className=\"row text-center\">\r\n                <div className=\"col-12\">\r\n                  <button type=\"button\" onClick={()=>this.hapusdata(index)} className=\"btn btn-danger mr-3\">\r\n                    <i className=\"fa fa-trash\"></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            );\r\n          },\r\n          footer : \"\"\r\n        },\r\n      ],\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  hapusdata(id) {\r\n    Swal.fire({\r\n      title: \"Anda Yakin !!\",\r\n      text: \"Ingin Menghapus Data Ini ?\",\r\n      icon: \"warning\",\r\n      position: \"top-center\",\r\n      cancelButtonText: \"Tidak\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"OK\",\r\n      showConfirmButton: true,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        let data = JSON.parse(localStorage.getItem('data_barang_tmp'));\r\n        data.splice(id, 1)\r\n        localStorage.setItem('data_barang_tmp', JSON.stringify(data));\r\n        this.props.dispatch(setBarangPindah(data));\r\n        // deleteLocalItemBarcode(\"data_barang_tmp\", id);\r\n        // this.props.dispatch(getListReturnSupplier());\r\n      }\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    // this.props.dispatch(getDataBaki());\r\n    // localStorageencryp('data_barang',[])\r\n    // localStorage.setItem('data_barang_tmp','sa')\r\n    // console.log(JSON.parse(localStorage.getItem('data_barang_tmp')));\r\n  }\r\n  handleSubmit(data) {\r\n    this.setState({ isLoading: true });\r\n    let barang_tmp = this.props.setBarangPindah.length === 0 ? JSON.parse(localStorage.getItem('data_barang_tmp')) : this.props.setBarangPindah \r\n    let hasil = {\r\n      kode_gudang: data.kode_gudang,\r\n      kode_toko: data.kode_baki,\r\n      detail_barang: barang_tmp\r\n    }\r\n    postData('pindahbarang/addsatuan', hasil)\r\n    .then(() => {\r\n      this.setState({ isLoading: false });\r\n    }).then(() => {\r\n      localStorage.setItem('data_barang_tmp', JSON.stringify([]));\r\n    })\r\n    .then(() => {\r\n      this.props.dispatch(setBarangPindah([]));\r\n    })\r\n    .then(() => {\r\n      ToastNotification(\"success\", \"Data Berhasil Disimpan\");\r\n    }).catch((error) => this.errorhandling(error))\r\n  }\r\n  errorhandling(error) {\r\n    NotifError(error.response.data)\r\n    this.setState({ isLoading: false });\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <ol className=\"breadcrumb float-xl-right\">\r\n          <li className=\"breadcrumb-item\">\r\n            <Link to=\"#\">Barang</Link>\r\n          </li>\r\n          <li className=\"breadcrumb-item active\">Pindah Barang</li>\r\n        </ol>\r\n        <h1 className=\"page-header\">Pindah Barang </h1>\r\n        <Panel>\r\n          <PanelHeader>Pindah Barang</PanelHeader>\r\n          <br />\r\n\r\n          {/* Pindah Barang */}\r\n          <div className=\"container\">\r\n            <HeadPindahBarang\r\n              isLoading={this.state.isLoading}\r\n              onSubmit={(data) => this.handleSubmit(data)}\r\n              data={this.props.setBarangPindah}\r\n              columns={this.state.columns}\r\n            />\r\n          </div>\r\n          <br />\r\n          {/* End Pindah Barang */}\r\n\r\n          {/* End Tambah Pindah Barang  */}\r\n        </Panel>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(maptostate, null)(FormPindahBarang);\r\n","const ValidasiPindahBarang = (value) => {\r\n    const errors = {};\r\n    if (!value.kode_gudang) {\r\n        errors.kode_gudang = \"Kode Gudang Tidak Boleh Kosong\";\r\n    }\r\n    if (!value.kode_baki) {\r\n        errors.kode_baki = \"Nama Baki Tidak Boleh Kosong\";\r\n    }\r\n\r\n    if (!value.statusAktif) {\r\n        errors.statusAktif = \"Status Tidak Boleh Kosong\";\r\n    }\r\n\r\n    return errors;\r\n}\r\nexport default ValidasiPindahBarang;\r\n\r\n\r\n"],"sourceRoot":""}