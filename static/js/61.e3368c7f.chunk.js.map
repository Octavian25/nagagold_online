{"version":3,"sources":["Validasi/Titipan/ValidasiTitipan.jsx","pages/Penjualan/TransaksiPenjualan/AmbilTitipan/FilterTitipan.jsx","pages/Penjualan/TransaksiPenjualan/AmbilTitipan/index.jsx","pages/Penjualan/TransaksiPenjualan/ModalDataCustomer.jsx","pages/Penjualan/TransaksiPenjualan/HeadInputPembayaran.jsx","pages/Penjualan/TransaksiPenjualan/ModalPembayaran.jsx","pages/Penjualan/TransaksiPenjualan/ModalTambahBarang.jsx","pages/Penjualan/TransaksiPenjualan/HeadTransaksiPenjualan.jsx","pages/Penjualan/TransaksiPenjualan/FormTransaksiPenjualan.jsx"],"names":["ValidasiTitipan","value","errors","filter","pencarian","filterPencarian","name","FilterTitipan","Component","constructor","props","super","this","state","type_pembayaran","render","react_default","a","createElement","Fragment","onSubmit","handleSubmit","onKeyPress","e","key","preventDefault","autoComplete","className","Field","label","placeholder","options","component","ReanderSelect","ReanderField","disabled","isLoading","type","reduxForm","form","enableReinitialize","validate","connect","data","getItem","initialValues","AmbilTitipan","databarang","columns","dataField","text","footerAttrs","colSpan","footer","formatter","cell","parseInt","toLocaleString","columnData","reduce","acc","item","csvExport","headerClasses","rowcontent","row","index","onClick","pilihdata","customer","length","no_hp","ToastNotification","cek","localStoragedecryp","JSON","parse","findIndex","hasil","kode_barcode","no_titip_group","total_dp","nama_barang","nama_atribut","berat_jual","parseFloat","berat","berat_atribut","harga_atribut","harga_jual","harga_pergram","ongkos","total","harga_total","status_premi","premi","pembayaran","push","localStorageencryp","stringify","dispatch","setBarangPenjualan","data_customer","alamat_customer","jenis_pelanggan","kode_customer","kode_sales","nama_customer","cek_pembayaran","forEach","element","jenis","keterangan","nominal","jumlah_rp","setItem","data_pembayaran","map","element2","tot_dp","hideModal","setState","getData2","then","res","data_filter","data_barang","catch","err","response","AmbilTitipan_FilterTitipan","tabel","keyField","exportCsv","empty","textEmpty","ModalDataCustomer","showMember","componentDidMount","getDataSales","changemember","document","getElementById","focus","change","getMember","getData","library","DataSales","list","undefined","id","onChange","target","readOnly","normalize","NumberOnly","isLoadingDataCustomer","ValidasiFormDataMemberPenjualan","datamaster","currencyMask","createNumberMask","prefix","locale","jenis_pembayaran","HeadInputPembayaran","data_barang_penjualan","setTimeout","hitungTotal","kembali","pilihPembyaran","Object","assign","style","display","tabIndex","ValidasiPembayaran","selector","formValueSelector","_selector","harus_bayar_rp","cash","localStorage","toString","replace","nominal_cash","ModalPembayaran","kembalian","hapusdata","Swal","fire","title","icon","position","cancelButtonText","showCancelButton","confirmButtonText","showConfirmButton","result","isConfirmed","splice","status","simpanPembayaran","no_card","nama_bank","masuk","TransaksiPenjualan_HeadInputPembayaran","pagination","isLoadingPembayranTitipan","bayarTitipan","isLoadingPembayran","ModalTambahBarang","_this","getValue","_ref","asyncToGenerator","regenerator_default","mark","_callee","event","file","base64","wrap","_context","prev","next","files","convertBase64","sent","setCamera","gambar","stop","_x","apply","arguments","ModalWebCam","hargapergram","otorisasi","showModalWebcam","showModal","handleTakePhoto","url","getBarcode","dataimage","loadcamera","onTakePhoto","dataUri","aktifotoriasi","split","harga_jual_tmp","cekOtorisasi","user_id","password","postData","resposn","HiidenFiled","Gramasi","onBlur","ReanderCheckBox","alt","src","imgfound","height","aktifOtoriasi","htmlFor","ValidasiFormPenjualanDataBarang","HeadTransaksiPenjualan","isLoadingBatal","FormModal","hideModa","simpanBarang","saveImage","foto","error","reset","total_pembayarn","detail_barang","datapenjualan","postData2","errorhandling","harus_bayar3","replaceAll","sisa","kode_member","console","log","message","ShowModalBarang","ShowModalCustomer","showModalTitipan","showModalPembayaran","barang","batalPenjualan","btnOptional2","btnTextOptional2","handleClickOptional2","tambahData","btnText","btnOptional","namaCustomer","jenisCustomer","btnTextOptional","handleClick","handleClickOptional","size","TitleModal","content","TransaksiPenjualan_ModalDataCustomer","TransaksiPenjualan_ModalTambahBarang","isLoadingTopBar","TransaksiPenjualan_AmbilTitipan","TransaksiPenjualan_ModalPembayaran","ValidasiDataUsers","penjualan","modalDialog","React","toFixed","data2","componentWillUnmount","to","TransaksiPenjualan_HeadTransaksiPenjualan"],"mappings":"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","file":"static/js/61.e3368c7f.chunk.js","sourcesContent":["const ValidasiTitipan = (value) => {\r\n    const errors = {};\r\n    if (!value.filter) {\r\n        errors.filter = \"Filter Pencarian Tidak Boleh Kosong\";\r\n    }\r\n    if (!value.pencarian) {\r\n        errors.pencarian = \"Filter Pencarian Tidak Boleh Kosong\";\r\n    }\r\n    return errors;\r\n}\r\n\r\nexport default ValidasiTitipan;\r\n\r\n\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport {\r\n  ReanderField,\r\n  ReanderSelect,\r\n} from \"../../../../components/helpers/field\";\r\nimport { getItem } from \"../../../../components/helpers/function\";\r\nimport ValidasiTitipan from \"../../../../Validasi/Titipan/ValidasiTitipan\";\r\n\r\n// filter_titipan\r\nconst maptostate = (state) => {\r\n  let data = getItem('filter_titipan') || []\r\n  return {\r\n    initialValues: {\r\n      filter: data.filter,\r\n      pencarian: data.pencarian,\r\n    }\r\n  }\r\n}\r\nconst filterPencarian = [\r\n  {\r\n    value: \"NO_HP\",\r\n    name: \"NO HP\",\r\n  },\r\n  {\r\n    value: \"NAMA_CUSTOMER\",\r\n    name: \"NAMA CUSTOMER\",\r\n  },\r\n  {\r\n    value: \"NO_TITIP\",\r\n    name: \"NO TITIPAN\",\r\n  },\r\n \r\n];\r\nclass FilterTitipan extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      type_pembayaran: \"CASH\",\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <form\r\n          onSubmit={this.props.handleSubmit}\r\n          onKeyPress={(e) => {\r\n            e.key === \"Enter\" && e.preventDefault();\r\n          }}\r\n          autoComplete=\"off\"\r\n        >\r\n          <div className=\"row\">\r\n            <div className=\"col-4\">\r\n              <Field\r\n                name=\"filter\"\r\n                label=\"Filter\"\r\n                placeholder=\"Pilih Filter\"\r\n                options={filterPencarian}\r\n                component={ReanderSelect}\r\n              />\r\n            </div>\r\n            <div className=\"col-4\">\r\n              <Field\r\n                name=\"pencarian\"\r\n                label=\"Pencarian\"\r\n                placeholder=\"Masukan Pencarian\"\r\n                component={ReanderField}\r\n              />\r\n            </div>\r\n            <div className=\"col-4\">\r\n              <label>&nbsp;</label>\r\n              <button\r\n                className=\"btn btn-primary btn-block\"\r\n                disabled={this.props.isLoading}\r\n                type=\"submit\"\r\n              >\r\n                {this.props.isLoading ? (\r\n                  <>\r\n                    <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\r\n                    Mencari\r\n                  </>\r\n                ) : (\r\n                  \"Cari\"\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nFilterTitipan = reduxForm({\r\n  form: \"FilterTitipan\",\r\n  enableReinitialize: true,\r\n  validate:ValidasiTitipan\r\n})(FilterTitipan);\r\n\r\nexport default connect(maptostate)(FilterTitipan);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { reduxForm } from \"redux-form\";\r\nimport { hideModal } from \"../../../../actions/datamaster_action\";\r\nimport { setBarangPenjualan } from \"../../../../actions/penjualan_action\";\r\nimport {\r\n  localStorageencryp,\r\n  localStoragedecryp,\r\n  setItem,\r\n  getItem,\r\n} from \"../../../../components/helpers/function\";\r\nimport { ToastNotification } from \"../../../../components/helpers/notification\";\r\nimport Tabel from \"../../../../components/helpers/tabel\";\r\nimport { getData2 } from \"../../../../config/axios\";\r\nimport FilterTitipan from \"./FilterTitipan\";\r\n\r\nclass AmbilTitipan extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      type_pembayaran: \"CASH\",\r\n      databarang: [],\r\n      columns: [\r\n        {\r\n          dataField: \"no_titip_group\",\r\n          text: \"No Titip\",\r\n          footerAttrs: {\r\n            colSpan: \"7\",\r\n          },\r\n          footer: \"Total\",\r\n        },\r\n        {\r\n          dataField: \"kode_group\",\r\n          text: \"Kategori\",\r\n        },\r\n        {\r\n          dataField: \"kode_dept\",\r\n          text: \"Jenis\",\r\n        },\r\n\r\n        {\r\n          dataField: \"kode_barcode\",\r\n          text: \"Barcode\",\r\n        },\r\n        {\r\n          dataField: \"kode_barang\",\r\n          text: \"Kode Barang\",\r\n        },\r\n        {\r\n          dataField: \"nama_barang\",\r\n          text: \"Nama Barang\",\r\n        },\r\n        {\r\n          dataField: \"no_hp\",\r\n          text: \"No Hp\",\r\n        },\r\n        {\r\n          dataField: \"total_dp\",\r\n          text: \"Total Dp\",\r\n          formatter: (cell) => {\r\n            return <span>{parseInt(cell).toLocaleString(\"ID-id\")}</span>;\r\n          },\r\n          footer: (columnData) =>\r\n            parseInt(\r\n              columnData.reduce((acc, item) => acc + item, 0)\r\n            ).toLocaleString(\"id-ID\"),\r\n        },\r\n        {\r\n          dataField: \"action\",\r\n          text: \"Action\",\r\n          csvExport: false,\r\n          headerClasses: \"text-center\",\r\n          formatter: (rowcontent, row, index) => {\r\n            return (\r\n              <div className=\"row text-center\">\r\n                <div className=\"col-12\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => this.pilihdata(row)}\r\n                    className=\"btn btn-danger mr-3\"\r\n                  >\r\n                    Pilih Barang\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            );\r\n          },\r\n          footer: \"\",\r\n        },\r\n      ],\r\n    };\r\n  }\r\n\r\n  pilihdata(data) {\r\n    // console.log(data);\r\n    let customer = getItem(\"data_customer_tmp\");\r\n    if (customer.length !== 0) {\r\n      if (customer.no_hp !== data.no_hp) {\r\n        ToastNotification(\"info\", \"Customer Tidak Boleh Berbeda\");\r\n        return false;\r\n      }\r\n    }\r\n    let cek =\r\n      localStoragedecryp(\"data_barang_penjualan_tmp\").length === 0\r\n        ? []\r\n        : JSON.parse(localStoragedecryp(\"data_barang_penjualan_tmp\"));\r\n    let hasil_cek = cek.findIndex(\r\n      (hasil) => hasil.kode_barcode === data.kode_barcode\r\n    );\r\n    if (hasil_cek === -1) {\r\n      let row = {\r\n        no_titip_group: data.no_titip_group || \"-\",\r\n        total_dp: data.total_dp || 0,\r\n        kode_barcode: data.kode_barcode || 0,\r\n        nama_barang: data.nama_barang || \"-\",\r\n        nama_atribut: data.nama_atribut || \"-\",\r\n        berat_jual: parseFloat(data.berat) || 0,\r\n        berat_atribut: parseFloat(data.berat_atribut) || 0,\r\n        harga_atribut: parseInt(data.harga_atribut) || 0,\r\n        harga_jual: parseInt(data.harga_jual) || 0,\r\n        harga_pergram: parseInt(data.harga_pergram) || 0,\r\n        ongkos: parseInt(data.ongkos) || 0,\r\n        total: parseInt(data.harga_total) || 0,\r\n        status_premi: data.premi ? \"PREMI\" : \"NONPREMI\",\r\n        pembayaran: data.pembayaran,\r\n      };\r\n      cek.push(row);\r\n      localStorageencryp(\"data_barang_penjualan_tmp\", JSON.stringify(cek));\r\n      this.props.dispatch(setBarangPenjualan(cek));\r\n    } else {\r\n      ToastNotification(\"info\", \"Barang Sudah Ada Di Tabel\");\r\n    }\r\n\r\n    let data_customer = {\r\n      alamat_customer: data.alamat_customer,\r\n      jenis_pelanggan:\r\n        data.kode_customer === \"NONMEMBER\" ? \"NONMEMBER\" : data.kode_customer,\r\n      kode_customer: data.kode_customer,\r\n      kode_sales: data.kode_sales,\r\n      nama_customer: data.nama_customer,\r\n      no_hp: data.no_hp,\r\n    };\r\n    localStorageencryp(\"data_customer_tmp\", JSON.stringify(data_customer));\r\n\r\n    let cek_pembayaran =\r\n      localStoragedecryp(\"trx_pemabayran_penjualan\").length === 0\r\n        ? []\r\n        : JSON.parse(localStoragedecryp(\"trx_pemabayran_penjualan\"));\r\n    // let total_dp = 0;\r\n    data.pembayaran.forEach((element) => {\r\n      let hasil_cek_pembaran = cek_pembayaran.findIndex(\r\n        (hasil) => hasil.jenis === element.jenis\r\n      );\r\n      if (hasil_cek_pembaran === -1) {\r\n        let row = {\r\n          jenis: element.jenis,\r\n          keterangan: \"TITIPAN\",\r\n          nominal: element.jumlah_rp,\r\n        };\r\n        cek_pembayaran.push(row);\r\n        setItem(\"trx_pemabayran_penjualan\", cek_pembayaran);\r\n      } else {\r\n        let data_pembayaran = getItem(\"trx_pemabayran_penjualan\");\r\n        data_pembayaran = data_pembayaran.map((element2) => {\r\n          if (element2.jenis === element.jenis) {\r\n            element2.nominal += element.jumlah_rp;\r\n          }\r\n          return element2;\r\n        });\r\n        // console.log(data_pembayaran);\r\n        setItem(\"trx_pemabayran_penjualan\", data_pembayaran);\r\n      }\r\n    });\r\n\r\n    // let data_pembayaran = [];\r\n    // let total_dp = 0;\r\n    // data.pembayaran.forEach((element) => {\r\n    //   let row = {\r\n    //     jenis: element.jenis,\r\n    //     keterangan: \"TITIPAN\",\r\n    //     nominal: element.jumlah_rp,\r\n    //   };\r\n    //   total_dp = total_dp + element.jumlah_rp;\r\n    //   data_pembayaran.push(row);\r\n    // });\r\n    let tot_dp = getItem(\"trx_pemabayran_penjualan\");\r\n    let total_dp = 0;\r\n    tot_dp.forEach((element) => {\r\n      total_dp = total_dp + element.nominal;\r\n    });\r\n    setItem(\"total_dp\", total_dp);\r\n    this.props.dispatch(hideModal());\r\n  }\r\n  filterPencarian(data) {\r\n    this.setState({\r\n      isLoading: true,\r\n    });\r\n    getData2(\"titip/valid/\" + data.filter + \"/\" + data.pencarian)\r\n      .then((res) => {\r\n        if (res.data.length === 0) {\r\n          ToastNotification(\"info\", \"Data Yang Anda Cari Tidak Ada\");\r\n        }\r\n        this.setState({\r\n          databarang: res.data,\r\n          isLoading: false,\r\n        });\r\n\r\n        let data_filter = {\r\n          filter: data.filter,\r\n          pencarian: data.pencarian,\r\n          data_barang: res.data,\r\n        };\r\n        setItem(\"filter_titipan\", data_filter);\r\n      })\r\n      .catch((err) => {\r\n        this.setState({\r\n          isLoading: false,\r\n        });\r\n        ToastNotification(\r\n          \"info\",\r\n          err.response.data || \"Terjadi Kesalahan Saat Request Data\"\r\n        );\r\n      });\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <FilterTitipan\r\n          isLoading={this.state.isLoading}\r\n          onSubmit={(data) => this.filterPencarian(data)}\r\n        />\r\n        <Tabel\r\n          // handleClick={() => this.simpanpembbayaran()}\r\n          keyField=\"kode_barcode\"\r\n          // tambahData={true}\r\n          // btnText=\"Tambah Pembyaran\"\r\n          exportCsv={false}\r\n          data={\r\n            this.state.databarang.length === 0\r\n              ? getItem(\"filter_titipan\").data_barang || []\r\n              : this.state.databarang\r\n          }\r\n          columns={this.state.columns}\r\n          empty={true}\r\n          textEmpty=\"Data Barang Kosong\"\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nAmbilTitipan = reduxForm({\r\n  form: \"AmbilTitipan\",\r\n  enableReinitialize: true,\r\n})(AmbilTitipan);\r\n\r\nexport default connect()(AmbilTitipan);\r\n","\r\n\r\nimport {\r\n  React,\r\n  reduxForm, Field,\r\n  ReanderField, ReanderSelect,\r\n  Component,\r\n  connect,\r\n  getData,\r\n  ToastNotification,\r\n  localStoragedecryp,\r\n  NumberOnly,\r\n} from \"../../../components/helpers/library\";\r\n\r\nimport ValidasiFormDataMemberPenjualan from \"../../../Validasi/Penjualan/ValidasiFormDataMemberPenjualan\";\r\nimport { getDataSales } from \"../../../actions/datamaster_action\";\r\n\r\nconst maptostate = (state) => {\r\n  let data_customer = localStoragedecryp(\"data_customer_tmp\").length  === 0 ? [] :  JSON.parse(localStoragedecryp(\"data_customer_tmp\") || []);\r\n  return {\r\n    initialValues:{\r\n      kode_sales :   data_customer.kode_sales || \"\",\r\n      jenis_pelanggan : data_customer.jenis_pelanggan || \"\",\r\n      kode_customer : data_customer.kode_customer || \"\",\r\n      nama_customer : data_customer.nama_customer || \"\",\r\n      no_hp : data_customer.no_hp || \"\",\r\n      alamat_customer : data_customer.alamat_customer || \"\",\r\n    },\r\n    DataSales: state.datamaster.getDataSales,\r\n  };\r\n};\r\n\r\nconst jenis_pelanggan = [\r\n  {\r\n    value: \"MEMBER\",\r\n    name: \"MEMBER\",\r\n  },\r\n  {\r\n    value: \"NONMEMBER\",\r\n    name: \"NON MEMBER\",\r\n  },\r\n];\r\nclass ModalDataCustomer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showMember: true,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.props.dispatch(getDataSales());\r\n    let data_customer = localStoragedecryp(\"data_customer_tmp\").length  === 0 ? [] :  JSON.parse(localStoragedecryp(\"data_customer_tmp\") || []);\r\n    if (data_customer && data_customer.jenis_pelanggan === \"MEMBER\") {\r\n      this.setState({\r\n        showMember: false,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        showMember: true,\r\n      });\r\n    }\r\n    \r\n    // setTimeout(() => {\r\n    //   this.props.change(\"jenis_pelanggan\", \"MEMBER\");\r\n    //   this.setState({\r\n    //     showMember: false,\r\n    //   });\r\n    // }, 100);\r\n  }\r\n  changemember(e) {\r\n    // console.log(e);\r\n\r\n    if (e === \"MEMBER\") {\r\n      this.setState({\r\n        showMember: false,\r\n      });\r\n      document.getElementById('kode_member').focus()\r\n    } else {\r\n      document.getElementById('nama_customer').focus()\r\n      this.props.change(\"kode_customer\", \"\");\r\n      this.props.change(\"nama_customer\", \"\");\r\n      this.props.change(\"no_hp\", \"\");\r\n      this.props.change(\"alamat_customer\", \"\");\r\n      this.setState({\r\n        showMember: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  getMember(e) {\r\n    // console.log(e);\r\n    getData(\"member/get/by-kode-member/\" + e).then((res) => {\r\n      // console.log(res.data);\r\n      if (res.data.length === 0) {\r\n        ToastNotification(\"info\", \"Member Yang Anda Masukan Tidak Ada !!!\");\r\n      } else {\r\n        res.data.forEach((item, index) => {\r\n          this.props.change(\"nama_customer\", item.nama_customer);\r\n          this.props.change(\"no_hp\", item.no_hp);\r\n          this.props.change(\"alamat_customer\", item.alamat_customer);\r\n        })\r\n      }\r\n    }).catch((err) => {\r\n      ToastNotification(\"info\", \"Terjadi Kesalahan SIlahkan Ulangi Kembali !!!\");\r\n    })\r\n  }\r\n  render() {\r\n    return (\r\n      <form\r\n        onSubmit={this.props.handleSubmit}\r\n        onKeyPress={(e) => {\r\n          e.key === \"Enter\" && e.preventDefault();\r\n        }}\r\n        autoComplete=\"off\"\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"col-4\">\r\n            <Field\r\n              name=\"kode_sales\"\r\n              label=\"Pilih Kode Sales\"\r\n              placeholder=\"Masukan Kode Sales\"\r\n              options={this.props.DataSales.filter(\r\n                (list) => list.kode_sales !== undefined\r\n              ).map((list) => {\r\n                let data = {\r\n                  value: list.kode_sales,\r\n                  name: list.kode_sales ,\r\n                };\r\n                return data;\r\n              })}\r\n              component={ReanderSelect}\r\n            />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <Field\r\n              id=\"jenis_pelanggan\"\r\n              name=\"jenis_pelanggan\"\r\n              label=\"Pilih Pelanggan\"\r\n              onChange={(e) => this.changemember(e)}\r\n              placeholder=\"Silahkan Pilih Pelanggan\"\r\n              options={jenis_pelanggan}\r\n              component={ReanderSelect}\r\n            />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <Field\r\n              id=\"kode_member\"\r\n              name=\"kode_customer\"\r\n              onChange={(e) => this.getMember(e.target.value)}\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              readOnly={this.state.showMember}\r\n              label=\"Kode Customer\"\r\n              placeholder=\"Masukan Kode Customer\"\r\n            />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <Field\r\n              id=\"nama_customer\"\r\n              name=\"nama_customer\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Nama Customer\"\r\n              placeholder=\"Masukan Nama Customer\"\r\n            />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <Field\r\n              name=\"no_hp\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              normalize={NumberOnly}\r\n              label=\"No Hp\"\r\n              placeholder=\"Masukan No Hp\"\r\n            />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <Field\r\n              name=\"alamat_customer\"\r\n              component={ReanderField}\r\n              type=\"textarea\"\r\n              label=\"Alamat Customer\"\r\n              placeholder=\"Masukan Alamat Customer\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-8\"></div>\r\n          <div className=\"col-4\">\r\n            <button\r\n              className=\"btn btn-primary btn-block\"\r\n              disabled={this.props.isLoadingDataCustomer}\r\n              type=\"submit\"\r\n            >\r\n              {this.props.isLoadingDataCustomer ? (\r\n                <>\r\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\r\n                  Menyimpan\r\n                </>\r\n              ) : (\r\n                \"Simpan Data\"\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nModalDataCustomer = reduxForm({\r\n  form: \"ModalDataCustomer\",\r\n  enableReinitialize: true,\r\n  validate: ValidasiFormDataMemberPenjualan,\r\n})(ModalDataCustomer);\r\nexport default connect(maptostate)(ModalDataCustomer);\r\n","import {\r\n  React,\r\n  Component,\r\n  connect,\r\n  Field,\r\n  createNumberMask,\r\n  formValueSelector,\r\n  reduxForm,\r\n  NumberOnly,\r\n  localStoragedecryp,\r\n  ReanderField,\r\n  ReanderSelect,\r\n  getItem,\r\n} from \"../../../components/helpers/library\";\r\nimport { getDataSales } from \"../../../actions/datamaster_action\";\r\nimport ValidasiPembayaran from \"../../../Validasi/Penjualan/ValidasiPembayaran\";\r\n\r\nconst currencyMask = createNumberMask({\r\n  prefix: \"Rp. \",\r\n  locale: \"id-ID\",\r\n});\r\nconst jenis_pembayaran = [\r\n  {\r\n    value: \"CASH\",\r\n    name: \"CASH\",\r\n  },\r\n  {\r\n    value: \"DEBET\",\r\n    name: \"DEBET\",\r\n  },\r\n  {\r\n    value: \"TRANSFER\",\r\n    name: \"TRANSFER\",\r\n  },\r\n];\r\nclass HeadInputPembayaran extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      type_pembayaran: \"CASH\",\r\n      columns: [\r\n        // {\r\n        //   dataField: \"nama_bank\",\r\n        //   text: \"Nama Bank\",\r\n        //   footerAttrs: {\r\n        //     colSpan: \"2\",\r\n        //   },\r\n        //   footer: \"Grand Total\",\r\n        // },\r\n        {\r\n          dataField: \"type\",\r\n          text: \"Type\",\r\n          footerAttrs: {\r\n            colSpan: \"1\",\r\n          },\r\n          footer: \"Grand Total\",\r\n        },\r\n        {\r\n          dataField: \"Total\",\r\n          text: \"Total\",\r\n          footer: \"\",\r\n        },\r\n      ],\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.props.dispatch(getDataSales());\r\n    let data_barang_penjualan = JSON.parse(\r\n      localStoragedecryp(\"data_barang_penjualan_tmp\")\r\n    );\r\n\r\n    let total_dp = getItem(\"total_dp\");\r\n    this.props.change(\"total_dp\", total_dp);\r\n    let total = 0;\r\n    data_barang_penjualan.forEach((item, index) => {\r\n      // console.log(item.total);\r\n      total = total + item.total;\r\n      this.props.change(\"grand_total_pembayaran\", total);\r\n      this.props.change(\"harus_bayar_rp\", total);\r\n    });\r\n    this.props.change(\"jenis\", \"CASH\");\r\n    setTimeout(() => {\r\n      document.getElementById(\"cash_trx_penjualan\").focus();\r\n    }, 100);\r\n  }\r\n  hitungTotal() {\r\n    this.props.change(\"kembali\", this.props.kembali);\r\n  }\r\n\r\n  pilihPembyaran(e) {\r\n    if (e === \"CASH\") {\r\n      this.setState({\r\n        type_pembayaran: \"CASH\",\r\n      });\r\n    } else if (e === \"TRANSFER\") {\r\n      this.setState({\r\n        type_pembayaran: \"TRANSFER\",\r\n      });\r\n    } else {\r\n      this.setState({\r\n        type_pembayaran: \"DEBET\",\r\n      });\r\n    }\r\n    this.props.change(\"cash\", \"\");\r\n\r\n    // document.getElementById('cash_trx_penjualan').focus()\r\n  }\r\n  render() {\r\n    return (\r\n      <form\r\n        onSubmit={this.props.handleSubmit}\r\n        onKeyPress={(e) => {\r\n          e.key === \"Enter\" && e.preventDefault();\r\n        }}\r\n        autoComplete=\"off\"\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"col-4\">\r\n            <Field\r\n              name=\"grand_total_pembayaran\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              onChange={this.hitungTotal()}\r\n              readOnly={true}\r\n              {...currencyMask}\r\n              label=\"Total Harga Jual\"\r\n              placeholder=\"Total Harga Jual\"\r\n            />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <Field\r\n              name=\"total_dp\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              onChange={this.hitungTotal()}\r\n              readOnly={true}\r\n              {...currencyMask}\r\n              label=\"Total Dp\"\r\n              placeholder=\"Total Dp\"\r\n            />\r\n          </div>\r\n          <div className=\"col-4\">\r\n            <Field\r\n              id=\"harus_bayar_rp\"\r\n              name=\"harus_bayar_rp\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              onChange={this.hitungTotal()}\r\n              readOnly={true}\r\n              {...currencyMask}\r\n              label=\"Harus Bayar Rp\"\r\n              placeholder=\"Harus Bayar Rp\"\r\n            />\r\n          </div>\r\n          <div className=\"col-6\">\r\n            <Field\r\n              name=\"jenis\"\r\n              label=\"Pilih Jenis Bayar\"\r\n              placeholder=\"Pilih Jenis Pembayaran\"\r\n              options={jenis_pembayaran}\r\n              onChange={(e) => this.pilihPembyaran(e)}\r\n              component={ReanderSelect}\r\n            />\r\n          </div>\r\n\r\n          <div\r\n            className=\"col-6\"\r\n            style={{\r\n              display:\r\n                this.state.type_pembayaran === \"CASH\"\r\n                  ? \"none\"\r\n                  : this.state.type_pembayaran === \"DEBET\"\r\n                  ? \"block\"\r\n                  : \"block\",\r\n            }}\r\n          >\r\n            <Field\r\n              tabIndex=\"1\"\r\n              name=\"nama_bank\"\r\n              id=\"nama_bank\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Bank\"\r\n              placeholder=\"Masukan Nama Bank\"\r\n            />\r\n          </div>\r\n          <div\r\n            className=\"col-6\"\r\n            style={{\r\n              display:\r\n                this.state.type_pembayaran === \"CASH\"\r\n                  ? \"none\"\r\n                  : this.state.type_pembayaran === \"DEBET\"\r\n                  ? \"none\"\r\n                  : \"block\",\r\n            }}\r\n          >\r\n            <Field\r\n              tabIndex=\"1\"\r\n              name=\"no_card\"\r\n              id=\"no_card\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Card No\"\r\n              placeholder=\"Masukan Card No\"\r\n            />\r\n          </div>\r\n          <div className=\"col-6\">\r\n            <Field\r\n              tabIndex=\"1\"\r\n              name=\"cash\"\r\n              id=\"cash_trx_penjualan\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              label=\"Nominal\"\r\n              onChange={this.hitungTotal()}\r\n              {...currencyMask}\r\n              normalize={NumberOnly}\r\n              placeholder=\"Masukan Nominal\"\r\n            />\r\n          </div>\r\n          <div className=\"col-6\">\r\n            <Field\r\n              name=\"kembali\"\r\n              id=\"sisa_bayar\"\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              readOnly={true}\r\n              label=\"Sisa\"\r\n              //   {...currencyMask}\r\n              normalize={NumberOnly}\r\n              placeholder=\"Sisa Pembayaran\"\r\n            />\r\n          </div>\r\n          <div\r\n            className={\r\n              this.state.type_pembayaran === \"CASH\"\r\n                ? \"col-6 text-right\"\r\n                : this.state.type_pembayaran === \"TRANSFER\"\r\n                ? \"col-6 text-right\"\r\n                : \"col-12 text-right\"\r\n            }\r\n          >\r\n            <br />\r\n            <label>&nbsp;</label>\r\n            <button tabIndex=\"2\" className=\"btn btn-primary\">\r\n              {\" \"}\r\n              <i className=\"fa fa-plus\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nHeadInputPembayaran = reduxForm({\r\n  form: \"HeadInputPembayaran\",\r\n  enableReinitialize: true,\r\n  validate: ValidasiPembayaran,\r\n})(HeadInputPembayaran);\r\n\r\nconst selector = formValueSelector(\"HeadInputPembayaran\"); // <-- same as form name\r\n\r\nexport default connect((state) => {\r\n  const { harus_bayar_rp, cash } = selector(\r\n    state,\r\n    \"grand_total_pembayaran\",\r\n    \"harus_bayar_rp\",\r\n    \"cash\"\r\n  );\r\n  let data = JSON.parse(localStorage.getItem(\"trx_pemabayran_penjualan\")) || [];\r\n  let total = 0;\r\n  data.forEach((element) => {\r\n    total = element.nominal + total;\r\n  });\r\n  let hasil = parseFloat(total || 0) - parseFloat(harus_bayar_rp || 0);\r\n  return {\r\n    kembali: hasil.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"),\r\n    nominal_cash: cash,\r\n  };\r\n})(HeadInputPembayaran);\r\n","import {\r\n  React,\r\n  reduxForm,\r\n  Component,\r\n  connect,\r\n  getItem,\r\n  setItem,\r\n  Tabel,\r\n  Swal,\r\n  ToastNotification,\r\n} from \"../../../components/helpers/library\";\r\n\r\nimport ValidasiPembayaran from \"../../../Validasi/Penjualan/ValidasiPembayaran\";\r\nimport HeadInputPembayaran from \"./HeadInputPembayaran\";\r\n\r\n// data_barang_penjualan_tmp\r\n\r\nconst maptostate = (state) => {\r\n  let data_barang = getItem(\"data_barang_penjualan_tmp\") || [];\r\n  let status = \"PENJUALAN\";\r\n  data_barang.forEach((element) => {\r\n    if (element.no_titip_group === \"-\") {\r\n      status = \"PENJUALAN\";\r\n    } else {\r\n      status = \"TITIPAN\";\r\n    }\r\n  });\r\n  return {\r\n    status: status,\r\n  };\r\n};\r\nclass ModalPembayaran extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      type_pembayaran: \"CASH\",\r\n      kembalian: \"\",\r\n      columns: [\r\n        {\r\n          dataField: \"jenis\",\r\n          text: \"Jenis\",\r\n          footerAttrs: {\r\n            colSpan: \"2\",\r\n          },\r\n          footer: \"Grand Total\",\r\n        },\r\n        {\r\n          dataField: \"keterangan\",\r\n          text: \"Keterangan\",\r\n        },\r\n        {\r\n          dataField: \"nominal\",\r\n          text: \"Total\",\r\n          formatter: (cell) => {\r\n            return <span>{parseInt(cell).toLocaleString(\"ID-id\")}</span>;\r\n          },\r\n          footer: (columnData) =>\r\n            parseInt(\r\n              columnData.reduce((acc, item) => acc + item, 0)\r\n            ).toLocaleString(\"id-ID\"),\r\n        },\r\n        {\r\n          dataField: \"action\",\r\n          text: \"Action\",\r\n          csvExport: false,\r\n          headerClasses: \"text-center\",\r\n          formatter: (rowcontent, row, index) => {\r\n            return (\r\n              <div className=\"row text-center\">\r\n                <div className=\"col-12\">\r\n                  <button\r\n                    type=\"button\"\r\n                    disabled={row.keterangan === \"TITIPAN\" ? true : false}\r\n                    onClick={() => this.hapusdata(index)}\r\n                    className=\"btn btn-danger mr-3\"\r\n                  >\r\n                    <i className=\"fa fa-trash\"></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            );\r\n          },\r\n          footer: \"\",\r\n        },\r\n      ],\r\n    };\r\n  }\r\n  hapusdata(id) {\r\n    Swal.fire({\r\n      title: \"Anda Yakin !!\",\r\n      text: \"Ingin Menghapus Data Ini ?\",\r\n      icon: \"warning\",\r\n      position: \"top-center\",\r\n      cancelButtonText: \"Tidak\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"OK\",\r\n      showConfirmButton: true,\r\n    }).then((result) => {\r\n      // console.log(id);\r\n      if (result.isConfirmed) {\r\n        let data = getItem(\"trx_pemabayran_penjualan\");\r\n        data.splice(id, 1);\r\n        setItem(\"trx_pemabayran_penjualan\", data);\r\n        this.setState({\r\n          status: \"berhasil\",\r\n        });\r\n        // deleteLocalItemBarcode(\"data_barang_hancur_tmp\", id);\r\n        // this.props.dispatch(getListReturnSupplier());\r\n      }\r\n    });\r\n  }\r\n  simpanPembayaran(row) {\r\n    if (row.jenis !== \"CASH\") {\r\n      if (row.kembali.replace(/[^0-9]/g, \"\") - row.cash < 0) {\r\n        ToastNotification(\"info\", \"Pembayaran tidak boleh lebih dari sisa\");\r\n        return false;\r\n      }\r\n    }\r\n    // console.log(data);\r\n    let data =\r\n      JSON.parse(localStorage.getItem(\"trx_pemabayran_penjualan\")) || [];\r\n    let index = data.findIndex((hasil) => hasil.jenis === row.jenis);\r\n    if (index === -1) {\r\n      let keterangan = \"\";\r\n      if (row.jenis === \"CASH\") {\r\n        keterangan = \"CASH\";\r\n      } else if (row.jenis === \"TRANSFER\") {\r\n        keterangan = row.no_card + \" - \" + row.nama_bank;\r\n      } else {\r\n        keterangan = row.nama_bank;\r\n      }\r\n      let hasil = {\r\n        jenis: row.jenis,\r\n        nominal: parseInt(row.cash),\r\n        nama_bank: row.nama_bank,\r\n        no_card: row.no_card,\r\n        keterangan: keterangan,\r\n      };\r\n      data.push(hasil);\r\n      this.setState({\r\n        masuk: true,\r\n        kembalian: row.kembali,\r\n      });\r\n      setItem(\"trx_pemabayran_penjualan\", data);\r\n    } else {\r\n      let data_pembayaran = getItem(\"trx_pemabayran_penjualan\");\r\n      data_pembayaran = data_pembayaran.map((element2) => {\r\n        if (element2.jenis === row.jenis) {\r\n          element2.nominal += parseInt(row.cash);\r\n        }\r\n        return element2;\r\n      });\r\n      setItem(\"trx_pemabayran_penjualan\", data_pembayaran);\r\n      this.setState({\r\n        status: true,\r\n        kembalian: row.kembalian,\r\n      });\r\n      // ToastNotification(\r\n      //   \"info\",\r\n      //   \"Pembayaran dengan \" + row.jenis + \" sudah ada\"\r\n      // );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <HeadInputPembayaran onSubmit={(data) => this.simpanPembayaran(data)} />\r\n        <hr />\r\n        <form\r\n          onSubmit={this.props.handleSubmit}\r\n          onKeyPress={(e) => {\r\n            e.key === \"Enter\" && e.preventDefault();\r\n          }}\r\n          autoComplete=\"off\"\r\n        >\r\n          <Tabel\r\n            // handleClick={() => this.simpanpembbayaran()}\r\n            keyField=\"jenis\"\r\n            // tambahData={true}\r\n            // btnText=\"Tambah Pembyaran\"\r\n            exportCsv={false}\r\n            data={getItem(\"trx_pemabayran_penjualan\") || []}\r\n            columns={this.state.columns}\r\n            empty={true}\r\n            pagination=\"off\"\r\n            textEmpty=\"Data Pembayaran Kosong\"\r\n          />\r\n          <div className=\"row\">\r\n            <div className=\"col-6\">\r\n              <button\r\n                className=\"btn btn-primary\"\r\n                disabled={\r\n                  this.props.isLoadingPembayranTitipan ||\r\n                  this.props.status === \"TITIPAN\"\r\n                    ? true\r\n                    : false\r\n                }\r\n                onClick={() => this.props.bayarTitipan()}\r\n                type=\"button\"\r\n              >\r\n                {this.props.isLoadingPembayranTitipan ? (\r\n                  <>\r\n                    <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\r\n                    Diproses\r\n                  </>\r\n                ) : (\r\n                  \"Bayar DP\"\r\n                )}\r\n              </button>\r\n            </div>\r\n            <div className=\"col-6 text-right\">\r\n              <button\r\n                className=\"btn btn-primary\"\r\n                disabled={this.props.isLoadingPembayran}\r\n                onClick={() => this.props.simpanPembayaran()}\r\n                type=\"button\"\r\n              >\r\n                {this.props.isLoadingPembayran ? (\r\n                  <>\r\n                    <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\r\n                    Diproses\r\n                  </>\r\n                ) : (\r\n                  \"Bayar Sekarang\"\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nModalPembayaran = reduxForm({\r\n  form: \"ModalPembayaran\",\r\n  enableReinitialize: true,\r\n  validate: ValidasiPembayaran,\r\n})(ModalPembayaran);\r\n\r\nexport default connect(maptostate)(ModalPembayaran);\r\n","import {\r\n  React,\r\n  createNumberMask,\r\n  Component,\r\n  showModal,\r\n  connect,\r\n  HiidenFiled,\r\n  ReanderField,\r\n  ReanderCheckBox,\r\n  Field,\r\n  formValueSelector,\r\n  reduxForm,\r\n  ToastNotification,\r\n  getData,\r\n  postData,\r\n  Camera,\r\n  imgfound,\r\n  convertBase64,\r\n  Gramasi,\r\n} from \"../../../components/helpers/library\";\r\n\r\nimport { getDataSales } from \"../../../actions/datamaster_action\";\r\nimport ValidasiFormPenjualanDataBarang from \"../../../Validasi/Penjualan/ValidasiFormPenjualanDataBarang\";\r\nimport { setCamera } from \"../../../actions/databarang_action\";\r\nconst currencyMask = createNumberMask({\r\n  prefix: \"Rp. \",\r\n  locale: \"id-ID\",\r\n});\r\n\r\nclass ModalTambahBarang extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      ModalWebCam: false,\r\n      isLoading: false,\r\n      harga_jual: true,\r\n      berat_jual: true,\r\n      hargapergram: true,\r\n      otorisasi: false,\r\n      ongkos: true,\r\n      total: true,\r\n      gambar: false,\r\n    };\r\n  }\r\n  showModalWebcam() {\r\n    this.props.dispatch(setCamera(false));\r\n    this.props.dispatch(showModal());\r\n    this.setState({ ModalWebCam: true });\r\n  }\r\n  handleTakePhoto(url) {\r\n    this.props.dispatch(setCamera(url));\r\n    this.props.change(\"foto\", url);\r\n    this.setState({\r\n      ModalWebCam: false,\r\n    });\r\n  }\r\n\r\n  getValue = async (event) => {\r\n    const file = event.target.files[0];\r\n    const base64 = await convertBase64(file);\r\n    this.props.change(\"foto\", base64);\r\n    this.props.dispatch(setCamera(base64));\r\n    this.setState({\r\n      gambar: base64,\r\n    });\r\n  };\r\n\r\n  getBarcode(e) {\r\n    let cek =\r\n      JSON.parse(localStorage.getItem(\"data_barang_penjualan_tmp\")) || [];\r\n    let hasil_cek = cek.findIndex((hasil) => hasil.kode_barcode === e);\r\n    if (hasil_cek === -1) {\r\n      getData(\"barang/get/by-kode-barcode/\" + e)\r\n        .then((res) => {\r\n          if (res.data.length === 0) {\r\n            ToastNotification(\"info\", \"Kode Barcode Tidak Ada\");\r\n            this.props.change(\"nama_barang\", \"\");\r\n            this.props.change(\"nama_atribut\", \"\");\r\n            this.props.change(\"berat_atribut\", \"\");\r\n            this.props.change(\"harga_atribut\", \"\");\r\n            this.props.change(\"harga_jual\", \"\");\r\n            this.props.change(\"harga_jual_tmp\", \"\");\r\n            this.props.change(\"berat\", \"\");\r\n            this.props.dispatch(setCamera(false));\r\n            this.props.change(\"foto\", \"\");\r\n          } else {\r\n            // console.log(res.data);\r\n            getData(\"imagebarang/get/by-kode-barcode/\" + e)\r\n              .then((hasil) => {\r\n                if (hasil.data === \"\") {\r\n                  res.data.forEach((list, index) => {\r\n                    this.props.change(\"nama_barang\", list.nama_barang);\r\n                    this.props.change(\"nama_atribut\", list.nama_atribut);\r\n                    this.props.change(\"berat_atribut\", list.berat_atribut);\r\n                    this.props.change(\"harga_atribut\", list.harga_atribut);\r\n                    this.props.change(\"harga_jual\", list.harga_jual);\r\n                    this.props.change(\"harga_jual_tmp\", list.harga_jual);\r\n                    this.props.change(\"berat\", list.berat);\r\n                    this.props.dispatch(setCamera(false));\r\n                    this.props.change(\"foto\", \"\");\r\n                    this.setState({\r\n                      harga_jual: false,\r\n                      berat_jual: false,\r\n                      hargapergram: false,\r\n                      ongkos: false,\r\n                    });\r\n                  });\r\n                } else {\r\n                  this.props.dispatch(setCamera(hasil.data.dataimage));\r\n                  this.props.change(\"foto\", hasil.data.dataimage);\r\n                  res.data.forEach((list, index) => {\r\n                    this.props.change(\"nama_barang\", list.nama_barang);\r\n                    this.props.change(\"nama_atribut\", list.nama_atribut);\r\n                    this.props.change(\"berat_atribut\", list.berat_atribut);\r\n                    this.props.change(\"harga_atribut\", list.harga_atribut);\r\n                    this.props.change(\"harga_jual_tmp\", list.harga_jual);\r\n                    this.props.change(\"harga_jual\", list.harga_jual);\r\n                    this.props.change(\"berat\", list.berat);\r\n                    this.setState({\r\n                      harga_jual: false,\r\n                      berat_jual: false,\r\n                      hargapergram: false,\r\n                      ongkos: false,\r\n                    });\r\n                  });\r\n                }\r\n              })\r\n              .catch((err) => {\r\n                this.props.change(\"foto\", \"\");\r\n                this.props.dispatch(setCamera(false));\r\n                res.data.forEach((list, index) => {\r\n                  this.props.change(\"nama_barang\", list.nama_barang);\r\n                  this.props.change(\"nama_atribut\", list.nama_atribut);\r\n                  this.props.change(\"berat_atribut\", list.berat_atribut);\r\n                  this.props.change(\"harga_atribut\", list.harga_atribut);\r\n                  this.props.change(\"harga_jual_tmp\", list.harga_jual);\r\n                  this.props.change(\"berat\", list.berat);\r\n                  this.setState({\r\n                    harga_jual: false,\r\n                    berat_jual: false,\r\n                    hargapergram: false,\r\n                    ongkos: false,\r\n                  });\r\n                });\r\n              });\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          // console.log();\r\n          if (err.response.status !== 404) {\r\n            ToastNotification(\"info\", err.response.data);\r\n          }\r\n        });\r\n    } else {\r\n      ToastNotification(\"info\", \"Barang Sudah Ada Di Tabel\");\r\n    }\r\n  }\r\n  hitungTotal() {\r\n    this.props.change(\"total\", this.props.total);\r\n    this.props.change(\"harga_pergram\", this.props.harga_pergram);\r\n  }\r\n  loadcamera() {\r\n    return (\r\n      <Camera\r\n        onTakePhoto={(dataUri) => {\r\n          this.handleTakePhoto(dataUri);\r\n        }}\r\n      />\r\n    );\r\n  }\r\n  aktifotoriasi(e) {\r\n    this.props.change(\"username\", \"\");\r\n    this.props.change(\"password\", \"\");\r\n\r\n    let hasil = e.target.value.split(\" \");\r\n    let harga_total = hasil[1].replace(/[^0-9]+/g, \"\");\r\n    let harga_jual = this.props.harga_jual_tmp;\r\n    if (parseInt(harga_total) < parseInt(harga_jual)) {\r\n      localStorage.setItem(\"otorisasi\", \"true\");\r\n    } else {\r\n      localStorage.setItem(\"otorisasi\", \"false\");\r\n    }\r\n  }\r\n\r\n  cekOtorisasi(e) {\r\n    let hasil = {\r\n      user_id: e.target.value,\r\n      password: document.getElementById(\"otorisasi_penjualan_username\").value,\r\n    };\r\n\r\n    postData(\"users/login\", hasil)\r\n      .then((resposn) => {\r\n        ToastNotification(\"success\", \"Otorisasi Berhasil\");\r\n        localStorage.setItem(\"otorisasi\", \"false\");\r\n        this.setState({\r\n          otorisasi: true,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        this.setState({\r\n          otorisasi: false,\r\n        });\r\n      });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.dispatch(setCamera(false));\r\n    this.props.change(\"foto\", \"\");\r\n    this.props.dispatch(getDataSales());\r\n    setTimeout(() => {\r\n      document.getElementById(\"kode_barcode\").focus();\r\n    }, 100);\r\n  }\r\n  render() {\r\n    return (\r\n      <form\r\n        onSubmit={this.props.handleSubmit}\r\n        onKeyPress={(e) => {\r\n          e.key === \"Enter\" && e.preventDefault();\r\n        }}\r\n        autoComplete=\"off\"\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"col-12 col-md-8\">\r\n            <div className=\"row\">\r\n              <div className=\"col-12 col-md-4\">\r\n                <Field\r\n                  onChange={(e) => this.getBarcode(e.target.value)}\r\n                  name=\"kode_barcode\"\r\n                  label=\"Kode Barcode\"\r\n                  type=\"text\"\r\n                  tabIndex=\"1\"\r\n                  normalize={(value) => value.replace(/[^\\d]/g, \"\")}\r\n                  id=\"kode_barcode\"\r\n                  placeholder=\"Masukan Kode Barcode\"\r\n                  component={ReanderField}\r\n                />\r\n              </div>\r\n              <div className=\"col-12 col-md-4\">\r\n                <Field\r\n                  name=\"foto\"\r\n                  type=\"hidden\"\r\n                  readOnly={true}\r\n                  component={HiidenFiled}\r\n                />\r\n                <Field\r\n                  name=\"nama_barang\"\r\n                  label=\"Nama Barang\"\r\n                  type=\"text\"\r\n                  readOnly={true}\r\n                  placeholder=\"Masukan Nama Barang\"\r\n                  component={ReanderField}\r\n                />\r\n              </div>\r\n              <div className=\"col-12 col-md-4\">\r\n                <Field\r\n                  name=\"nama_atribut\"\r\n                  label=\"Nama Atribut\"\r\n                  type=\"text\"\r\n                  readOnly={true}\r\n                  placeholder=\"Masukan Nama Atribut\"\r\n                  component={ReanderField}\r\n                />\r\n              </div>\r\n              <div className=\"col-12 col-md-4\">\r\n                <Field\r\n                  name=\"harga_atribut\"\r\n                  label=\"Harga Atribut\"\r\n                  type=\"text\"\r\n                  {...currencyMask}\r\n                  onChange={this.hitungTotal}\r\n                  readOnly={true}\r\n                  placeholder=\"Masukan Harga Atribut\"\r\n                  component={ReanderField}\r\n                />\r\n              </div>\r\n              <div className=\"col-12 col-md-4\">\r\n                <Field\r\n                  name=\"berat_atribut\"\r\n                  label=\"Berat Atribut\"\r\n                  type=\"number\"\r\n                  readOnly={true}\r\n                  placeholder=\"Masukan Berat Atribut\"\r\n                  component={ReanderField}\r\n                />\r\n              </div>\r\n              <div className=\"col-12 col-md-4\">\r\n                <Field\r\n                  tabIndex=\"2\"\r\n                  name=\"berat\"\r\n                  label=\"Berat Jual\"\r\n                  type=\"text\"\r\n                  normalize={Gramasi}\r\n                  readOnly={this.state.berat_jual}\r\n                  placeholder=\"Masukan Berat Jual\"\r\n                  component={ReanderField}\r\n                />\r\n              </div>\r\n              <div className=\"col-12 col-md-6\">\r\n                <Field\r\n                  name=\"harga_jual_tmp\"\r\n                  type=\"hidden\"\r\n                  readOnly={true}\r\n                  component={HiidenFiled}\r\n                />\r\n                <Field\r\n                  tabIndex=\"3\"\r\n                  name=\"harga_jual\"\r\n                  label=\"Harga Jual\"\r\n                  type=\"telp\"\r\n                  {...currencyMask}\r\n                  onChange={this.hitungTotal()}\r\n                  onBlur={(e) => this.aktifotoriasi(e)}\r\n                  readOnly={this.state.harga_jual}\r\n                  placeholder=\"Masukan Harga Jual\"\r\n                  component={ReanderField}\r\n                />\r\n              </div>\r\n              <div className=\"col-12 col-md-4\">\r\n                <Field\r\n                  name=\"harga_pergram\"\r\n                  label=\"Harga/Gram\"\r\n                  type=\"telp\"\r\n                  readOnly={true}\r\n                  {...currencyMask}\r\n                  placeholder=\"Masukan Harga/Gram\"\r\n                  component={ReanderField}\r\n                />\r\n              </div>\r\n              <div className=\"col-12 col-md-2\">\r\n                <Field\r\n                  tabIndex=\"4\"\r\n                  name=\"premi\"\r\n                  label=\"Premi\"\r\n                  type=\"checkbox\"\r\n                  id=\"switcher_checkbox_1\"\r\n                  component={ReanderCheckBox}\r\n                />\r\n              </div>\r\n              <div className=\"col-12 col-md-6\">\r\n                <Field\r\n                  name=\"ongkos\"\r\n                  label=\"Ongkos\"\r\n                  type=\"telp\"\r\n                  tabIndex=\"5\"\r\n                  onChange={this.hitungTotal}\r\n                  readOnly={this.state.ongkos}\r\n                  placeholder=\"Masukan Ongkos\"\r\n                  component={ReanderField}\r\n                  {...currencyMask}\r\n                />\r\n              </div>\r\n              <div className=\"col-12 col-md-6\">\r\n                <Field\r\n                  name=\"total\"\r\n                  label=\"Total\"\r\n                  type=\"telp\"\r\n                  readOnly={this.state.total}\r\n                  placeholder=\"Masukan Total\"\r\n                  component={ReanderField}\r\n                  {...currencyMask}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-12 col-md-4\">\r\n            <label>Photo</label>\r\n            {/* {console.log(this.props.setCamera === false ? 'benar' : this.props.setCamera === undefined ? 'undefined' : 'salah')} */}\r\n            <div className=\"card image-upload\">\r\n              {this.state.ModalWebCam === true ? (\r\n                <div className=\"container\">{this.loadcamera()}</div>\r\n              ) : (\r\n                <img\r\n                  alt=\"img\"\r\n                  name=\"foto\"\r\n                  src={\r\n                    this.props.setCamera === false || undefined\r\n                      ? imgfound\r\n                      : this.props.setCamera === undefined\r\n                      ? imgfound\r\n                      : this.props.setCamera\r\n                  }\r\n                  height=\"260px\"\r\n                />\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          {/* {console.log(this.props.aktifOtoriasi)} */}\r\n          {this.props.aktifOtoriasi === \"false\" || undefined ? null : (\r\n            <>\r\n              <div className=\"col-2\">\r\n                <Field\r\n                  id=\"otorisasi_penjualan_username\"\r\n                  name=\"username\"\r\n                  label=\"Username\"\r\n                  type=\"text\"\r\n                  placeholder=\"Masukan Username\"\r\n                  component={ReanderField}\r\n                />\r\n              </div>\r\n              <div className=\"col-2\">\r\n                <Field\r\n                  id=\"otorisasi_penjualan_password\"\r\n                  onChange={(e) => this.cekOtorisasi(e)}\r\n                  name=\"password\"\r\n                  label=\"Password\"\r\n                  type=\"password\"\r\n                  placeholder=\"Masukan Pssword\"\r\n                  component={ReanderField}\r\n                />\r\n              </div>\r\n            </>\r\n          )}\r\n          <div\r\n            className={\r\n              this.props.aktifOtoriasi === \"false\" || undefined\r\n                ? \"col-4\"\r\n                : \"col-2\"\r\n            }\r\n          >\r\n            <label> &nbsp;</label>\r\n            <button\r\n              tabIndex=\"5\"\r\n              className=\"btn btn-primary btn-block\"\r\n              disabled={\r\n                this.props.isLoading || this.props.aktifOtoriasi === \"false\"\r\n                  ? false\r\n                  : true\r\n              }\r\n              type=\"submit\"\r\n            >\r\n              {this.props.isLoading ? (\r\n                <>\r\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\r\n                  Menyimpan\r\n                </>\r\n              ) : (\r\n                \"Simpan Data\"\r\n              )}\r\n            </button>\r\n          </div>\r\n\r\n          <div\r\n            className={\r\n              this.props.aktifOtoriasi === \"false\" || undefined\r\n                ? \"col-4\"\r\n                : \"col-2\"\r\n            }\r\n          >\r\n            <label> &nbsp;</label>\r\n            <button\r\n              // tabIndex=\"5\"\r\n              onClick={this.props.hideModal}\r\n              className=\"btn btn-outline-secondary btn-block\"\r\n              disabled={\r\n                this.props.isLoading || this.props.aktifOtoriasi === \"false\"\r\n                  ? false\r\n                  : true\r\n              }\r\n              type=\"button\"\r\n            >\r\n              {this.props.isLoading ? (\r\n                <>\r\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Tutup\r\n                </>\r\n              ) : (\r\n                \"Tutup\"\r\n              )}\r\n            </button>\r\n          </div>\r\n          <div className=\"col-2\">\r\n            <label> &nbsp;</label>\r\n            <div className=\"input-group\">\r\n              <div className=\"custom-file\">\r\n                <input\r\n                  type=\"file\"\r\n                  name=\"photo\"\r\n                  autoComplete=\"off\"\r\n                  className=\"custom-file-input\"\r\n                  id=\"exampleInputFile\"\r\n                  onChange={(e) => this.getValue(e)}\r\n                />\r\n                <label className=\"custom-file-label\" htmlFor=\"exampleInputFile\">\r\n                  Pilih gambar\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-2\">\r\n            <label> &nbsp;</label>\r\n            <button\r\n              className=\"btn btn-block btn-primary\"\r\n              type=\"button\"\r\n              onClick={() => this.showModalWebcam()}\r\n            >\r\n              {\" \"}\r\n              WebCam{\" \"}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\n// ModalTambahBarang = reduxForm({\r\n//   form: \"ModalTambahBarang\",\r\n//   enableReinitialize: true,\r\n//   validate: ValidasiMasterDataHadiah,\r\n// })(ModalTambahBarang);\r\n// export default connect(maptostate, null)(ModalTambahBarang);\r\n\r\nModalTambahBarang = reduxForm({\r\n  form: \"ModalTambahBarang\",\r\n  enableReinitialize: true,\r\n  validate: ValidasiFormPenjualanDataBarang,\r\n})(ModalTambahBarang);\r\n\r\nexport default connect((state) => {\r\n  const selector = formValueSelector(\"ModalTambahBarang\"); // <-- same as form name\r\n  const { harga_jual, ongkos, berat, harga_jual_tmp, harga_atribut } = selector(\r\n    state,\r\n    \"harga_jual\",\r\n    \"ongkos\",\r\n    \"berat\",\r\n    \"harga_jual_tmp\",\r\n    \"harga_atribut\"\r\n  );\r\n\r\n  return {\r\n    harga_jual_tmp: harga_jual_tmp,\r\n    harga_jual: harga_jual,\r\n    aktifOtoriasi: localStorage.getItem(\"otorisasi\"),\r\n    total:\r\n      parseFloat(harga_jual || 0) +\r\n        parseFloat(ongkos || 0) +\r\n        parseFloat(harga_atribut || 0) || 0,\r\n    harga_pergram: parseFloat(harga_jual || 0) / parseFloat(berat || 0) || 0,\r\n    DataSales: state.datamaster.getDataSales,\r\n    setCamera: state.databarang.setCamera,\r\n  };\r\n})(ModalTambahBarang);\r\n","import {\r\n  React,\r\n  reduxForm,\r\n  reset,\r\n  Tabel,\r\n  ModalGlobal,\r\n  hideModal,\r\n  showModal,\r\n  Component,\r\n  connect,\r\n  postData,\r\n  ToastNotification,\r\n  localStoragedecryp,\r\n  localStorageencryp,\r\n  Panel,\r\n  getItem,\r\n  setItem,\r\n} from \"../../../components/helpers/library\";\r\nimport { setCamera } from \"../../../actions/databarang_action\";\r\nimport { getDataSales } from \"../../../actions/datamaster_action\";\r\nimport { setBarangPenjualan } from \"../../../actions/penjualan_action\";\r\nimport ValidasiDataUsers from \"../../../Validasi/ManageUsers/ValidasiDataUsers\";\r\nimport AmbilTitipan from \"./AmbilTitipan\";\r\nimport ModalDataCustomer from \"./ModalDataCustomer\";\r\nimport ModalPembayaran from \"./ModalPembayaran\";\r\nimport ModalTambahBarang from \"./ModalTambahBarang\";\r\nimport { postData2 } from \"../../../config/axios\";\r\n\r\nconst maptostate = (state) => {\r\n  return {\r\n    setBarangPenjualan: state.penjualan.setBarangPenjualan,\r\n    DataSales: state.datamaster.getDataSales,\r\n    hideModal: state.datamaster.modalDialog,\r\n  };\r\n};\r\n\r\nclass HeadTransaksiPenjualan extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      isLoadingBatal: false,\r\n      isLoadingPembayran: false,\r\n      isLoadingPembayranTitipan: false,\r\n      isLoadingDataCustomer: false,\r\n      FormModal: \"\",\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.props.dispatch(getDataSales());\r\n  }\r\n  // getBarcode(e) {\r\n  //   getData(\"barang/get/by-kode-barcode/\" + e)\r\n  //     .then((res) => {\r\n  //       if (res.data.length === 0) {\r\n  //         ToastNotification(\"info\", \"Data Yang Dicari Tidak Ada\");\r\n  //         this.props.change(\"nama_barang\", \"\");\r\n  //         this.props.change(\"nama_atribut\", \"\");\r\n  //         this.props.change(\"berat_atribut\", \"\");\r\n  //         this.props.change(\"harga_atribut\", \"\");\r\n  //       } else {\r\n  //         // console.log(res.data);\r\n  //         res.data.forEach((list, index) => {\r\n  //           this.props.change(\"nama_barang\", list.nama_barang);\r\n  //           this.props.change(\"nama_atribut\", list.nama_atribut);\r\n  //           this.props.change(\"berat_atribut\", list.berat_atribut);\r\n  //           this.props.change(\"harga_atribut\", list.harga_atribut);\r\n  //         });\r\n  //       }\r\n  //     })\r\n  //     .catch((err) => {\r\n  //       ToastNotification(\"info\", \"Data Yang Dicari Tidak Ada\");\r\n  //     });\r\n  // }\r\n\r\n  hideModa() {\r\n    this.props.dispatch(hideModal());\r\n  }\r\n  handleSubmit(data) {\r\n    localStorageencryp(\"data_customer_tmp\", JSON.stringify(data));\r\n    this.setState({\r\n      isLoadingDataCustomer: true,\r\n    });\r\n\r\n    setTimeout(() => {\r\n      this.setState({\r\n        isLoadingDataCustomer: false,\r\n      });\r\n      this.props.dispatch(hideModal());\r\n    }, 500);\r\n  }\r\n  simpanBarang(data) {\r\n    let saveImage = {\r\n      kode_barcode: data.kode_barcode,\r\n      dataimage: data.foto,\r\n    };\r\n    data = {\r\n      no_titip_group: \"-\",\r\n      kode_barcode: data.kode_barcode || 0,\r\n      nama_barang: data.nama_barang || \"-\",\r\n      nama_atribut: data.nama_atribut || \"-\",\r\n      berat_jual: parseFloat(data.berat) || 0,\r\n      berat_atribut: parseFloat(data.berat_atribut) || 0,\r\n      harga_atribut: parseInt(data.harga_atribut) || 0,\r\n      harga_jual: parseInt(data.harga_jual) || 0,\r\n      harga_pergram: parseInt(data.harga_pergram) || 0,\r\n      ongkos: parseInt(data.ongkos) || 0,\r\n      total: parseInt(data.total) || 0,\r\n      status_premi: data.premi ? \"PREMI\" : \"NONPREMI\",\r\n    };\r\n\r\n    if (data.harga_jual === 0) {\r\n      ToastNotification(\"info\", \"Harga Jual Tidak Boleh 0\");\r\n      return false;\r\n    } else {\r\n      if (data.foto !== null) {\r\n        postData(\"imagebarang/add\", saveImage)\r\n          .then((res) => {\r\n            // console.log(res.data);\r\n            this.props.dispatch(setCamera(false));\r\n            this.props.change(\"foto\", \"\");\r\n          })\r\n          .catch((error) => {\r\n            // console.log(error);\r\n          });\r\n      }\r\n    }\r\n\r\n    let cek =\r\n      localStoragedecryp(\"data_barang_penjualan_tmp\").length === 0\r\n        ? []\r\n        : JSON.parse(localStoragedecryp(\"data_barang_penjualan_tmp\"));\r\n    let hasil_cek = cek.findIndex(\r\n      (hasil) => hasil.kode_barcode === data.kode_barcode\r\n    );\r\n    if (hasil_cek === -1) {\r\n      // this.props.dispatch(hideModal());\r\n      // this.props.change('kode_barcode','INI')\r\n      this.props.dispatch(reset(\"ModalTambahBarang\"));\r\n      document.getElementById(\"kode_barcode\").focus();\r\n      cek.push(data);\r\n      localStorageencryp(\"data_barang_penjualan_tmp\", JSON.stringify(cek));\r\n      this.props.dispatch(setBarangPenjualan(cek));\r\n      this.props.change(\"kode_barcode\", \"\");\r\n    } else {\r\n      document.getElementById(\"kode_barcode\").focus();\r\n      ToastNotification(\"info\", \"Barang Sudah Ada Di Tabel\");\r\n      // this.props.dispatch(reset('ModalTambahBarang'))\r\n      // document.getElementById('kode_barcode').value = data.kode_barcode\r\n    }\r\n  }\r\n\r\n  bayarTitipan() {\r\n    this.setState({\r\n      isLoadingPembayranTitipan: true,\r\n    });\r\n\r\n    // let cash = 0;\r\n    // if (data.cash > data.grand_total_pembayaran) {\r\n    //   cash = data.grand_total_pembayaran\r\n    // } else {\r\n    //   cash = data.cash\r\n    // }\r\n    // let harus_bayar = document.getElementById(\"harus_bayar_rp\").value;\r\n    // let harus_bayar2 = harus_bayar.replace(\"Rp.\", \"\");\r\n    // let harus_bayar3 = harus_bayar2.replaceAll(\".\", \"\");\r\n\r\n    // console.log();\r\n    let pembayaran = getItem(\"trx_pemabayran_penjualan\");\r\n    let data_pembayaran = [];\r\n    let total_pembayarn = 0;\r\n    pembayaran.forEach((element) => {\r\n      let row = {\r\n        jenis: element.jenis,\r\n        keterangan: element.keterangan,\r\n        jumlah_rp: element.nominal,\r\n      };\r\n      total_pembayarn = element.nominal + total_pembayarn;\r\n      data_pembayaran.push(row);\r\n    });\r\n    // let sisa = parseInt(harus_bayar3) - parseInt(total_pembayarn);\r\n\r\n    // if (parseInt(sisa) > 0) {\r\n    //   ToastNotification(\r\n    //     \"info\",\r\n    //     \"Pembayaran Masih Kurang Rp.\" + parseInt(sisa).toLocaleString(\"ID-id\")\r\n    //   );\r\n    //   this.setState({\r\n    //     isLoadingPembayran: false,\r\n    //   });\r\n    //   return false;\r\n    // }\r\n\r\n    let data_customer = JSON.parse(localStoragedecryp(\"data_customer_tmp\"));\r\n    let data_barang_penjualan = JSON.parse(\r\n      localStoragedecryp(\"data_barang_penjualan_tmp\")\r\n    );\r\n\r\n    let detail_barang = [];\r\n    data_barang_penjualan.forEach((item, index) => {\r\n      let row = {\r\n        kode_barcode: item.kode_barcode,\r\n        berat: item.berat_jual,\r\n        berat_atribut: item.berat_atribut,\r\n        ongkos: item.ongkos,\r\n        harga_jual: item.harga_jual,\r\n        harga_atribut: item.harga_atribut,\r\n      };\r\n      detail_barang.push(row);\r\n    });\r\n    let datapenjualan = {\r\n      status: \"TITIPAN\",\r\n      kode_sales: data_customer.kode_sales,\r\n      kode_customer:\r\n        data_customer.jenis_pelanggan === \"NONMEMBER\"\r\n          ? data_customer.jenis_pelanggan\r\n          : data_customer.kode_customer,\r\n      nama_customer: data_customer.nama_customer,\r\n      alamat_customer: data_customer.alamat_customer,\r\n      no_hp: data_customer.no_hp,\r\n      detail_barang: detail_barang,\r\n      pembayaran: data_pembayaran,\r\n    };\r\n\r\n    // console.log(datapenjualan);\r\n\r\n    postData2(\"titip/create\", datapenjualan)\r\n      .then((res) => {\r\n        // console.log(res.data);\r\n        localStorageencryp(\"data_barang_penjualan_tmp\", JSON.stringify([]));\r\n        ToastNotification(\"success\", res.data);\r\n      })\r\n      .then(() => {\r\n        this.props.dispatch(hideModal());\r\n        this.props.dispatch(setCamera(false));\r\n      })\r\n      .then(() => {\r\n        this.props.dispatch(reset(\"ModalPembayaran\"));\r\n      })\r\n      .then(() => {\r\n        localStorageencryp(\"data_customer_tmp\", JSON.stringify([]));\r\n        localStorageencryp(\"total_dp\", JSON.stringify([]));\r\n        localStorageencryp(\"trx_pemabayran_penjualan\", JSON.stringify([]));\r\n        localStorageencryp(\"filter_titipan\", JSON.stringify([]));\r\n      })\r\n      .then(() => {\r\n        this.setState({\r\n          isLoadingPembayranTitipan: false,\r\n        });\r\n        this.props.dispatch(setBarangPenjualan([]));\r\n      })\r\n      .catch((err) => this.errorhandling(err));\r\n  }\r\n  simpanPembayaran(data) {\r\n    this.setState({\r\n      isLoadingPembayran: true,\r\n    });\r\n    // let cash = 0;\r\n    // if (data.cash > data.grand_total_pembayaran) {\r\n    //   cash = data.grand_total_pembayaran\r\n    // } else {\r\n    //   cash = data.cash\r\n    // }\r\n    let harus_bayar = document.getElementById(\"harus_bayar_rp\").value;\r\n    let harus_bayar2 = harus_bayar.replace(\"Rp.\", \"\");\r\n    let harus_bayar3 = harus_bayar2.replaceAll(\".\", \"\");\r\n\r\n    // console.log();\r\n    let pembayaran = getItem(\"trx_pemabayran_penjualan\");\r\n    let data_pembayaran = [];\r\n    let total_pembayarn = 0;\r\n    pembayaran.forEach((element) => {\r\n      let row = {\r\n        jenis: element.jenis,\r\n        keterangan: element.keterangan,\r\n        jumlah_rp: element.nominal,\r\n      };\r\n      total_pembayarn = element.nominal + total_pembayarn;\r\n      data_pembayaran.push(row);\r\n    });\r\n    let sisa = parseInt(harus_bayar3) - parseInt(total_pembayarn);\r\n\r\n    if (parseInt(sisa) > 0) {\r\n      ToastNotification(\r\n        \"info\",\r\n        \"Pembayaran Masih Kurang Rp.\" + parseInt(sisa).toLocaleString(\"ID-id\")\r\n      );\r\n      this.setState({\r\n        isLoadingPembayran: false,\r\n      });\r\n      return false;\r\n    }\r\n\r\n    let data_customer = JSON.parse(localStoragedecryp(\"data_customer_tmp\"));\r\n    let data_barang_penjualan = JSON.parse(\r\n      localStoragedecryp(\"data_barang_penjualan_tmp\")\r\n    );\r\n\r\n    let detail_barang = [];\r\n    data_barang_penjualan.forEach((item, index) => {\r\n      let row = {\r\n        no_titip_group: item.no_titip_group,\r\n        kode_barcode: item.kode_barcode,\r\n        berat: item.berat_jual,\r\n        berat_atribut: item.berat_atribut,\r\n        ongkos: item.ongkos,\r\n        harga_jual: item.harga_jual,\r\n        harga_atribut: item.harga_atribut,\r\n      };\r\n      detail_barang.push(row);\r\n    });\r\n    let datapenjualan = {\r\n      status: \"PENJUALAN\",\r\n      kode_sales: data_customer.kode_sales,\r\n      kode_member:\r\n        data_customer.jenis_pelanggan === \"NONMEMBER\"\r\n          ? data_customer.jenis_pelanggan\r\n          : data_customer.kode_customer,\r\n      nama_customer: data_customer.nama_customer,\r\n      alamat_customer: data_customer.alamat_customer,\r\n      no_hp: data_customer.no_hp,\r\n      detail_barang: detail_barang,\r\n      pembayaran: data_pembayaran,\r\n    };\r\n\r\n    // console.log(datapenjualan);\r\n    // if (parseInt(data.cash) < parseInt(data.grand_total_pembayaran)) {\r\n    //   let cash_bayar =\r\n    //     parseInt(data.grand_total_pembayaran) - parseInt(data.cash);\r\n    //   ToastNotification(\r\n    //     \"info\",\r\n    //     \"Pembayaran Masih Kurang Rp.\" +\r\n    //       parseInt(cash_bayar).toLocaleString(\"ID-id\")\r\n    //   );\r\n    //   this.setState({\r\n    //     isLoadingPembayran : false\r\n    //   })\r\n    //   return false;\r\n    // }\r\n    // localStorage.setItem(\"hasil\", JSON.stringify(datapenjualan));\r\n    postData(\"penjualan/simpan\", datapenjualan)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        localStorageencryp(\"data_barang_penjualan_tmp\", JSON.stringify([]));\r\n        ToastNotification(\"success\", res.data.message);\r\n      })\r\n      .then(() => {\r\n        this.props.dispatch(hideModal());\r\n        this.props.dispatch(setCamera(false));\r\n      })\r\n      .then(() => {\r\n        this.props.dispatch(reset(\"ModalPembayaran\"));\r\n      })\r\n      .then(() => {\r\n        localStorageencryp(\"data_customer_tmp\", JSON.stringify([]));\r\n        localStorageencryp(\"total_dp\", JSON.stringify([]));\r\n        localStorageencryp(\"trx_pemabayran_penjualan\", JSON.stringify([]));\r\n        localStorageencryp(\"filter_titipan\", JSON.stringify([]));\r\n      })\r\n      .then(() => {\r\n        this.setState({\r\n          isLoadingPembayran: false,\r\n        });\r\n        this.props.dispatch(setBarangPenjualan([]));\r\n      })\r\n      .catch((err) =>\r\n        this.errorhandling(err.response.data || \"Koneksi Bermasalah\")\r\n      );\r\n    // localStorage.setItem(\"tmp_pembayaran_transaksi_penjualan\",JSON.stringify(hasil));\r\n  }\r\n\r\n  errorhandling(error) {\r\n    this.setState({\r\n      isLoadingPembayran: false,\r\n      isLoadingPembayranTitipan: false,\r\n    });\r\n    ToastNotification(\"info\", error || \"Terjadi Kesalahan Saat Mengirim Data\");\r\n  }\r\n  ShowModalBarang() {\r\n    this.props.dispatch(showModal());\r\n    this.props.dispatch(reset(\"ModalTambahBarang\"));\r\n    this.setState({ FormModal: \"ShowModalBarang\" });\r\n  }\r\n  ShowModalCustomer() {\r\n    this.setState({ FormModal: \"ShowModalCustomer\" });\r\n    this.props.dispatch(showModal());\r\n  }\r\n  showModalTitipan() {\r\n    this.setState({ FormModal: \"AmbilTitipan\" });\r\n    this.props.dispatch(showModal());\r\n  }\r\n  showModalPembayaran() {\r\n    // document.getElementById('jenis_pembayaran').focus();\r\n    let customer =\r\n      localStoragedecryp(\"data_customer_tmp\").length === 0\r\n        ? []\r\n        : JSON.parse(localStoragedecryp(\"data_customer_tmp\"));\r\n    let barang =\r\n      localStoragedecryp(\"data_barang_penjualan_tmp\").length === 0\r\n        ? []\r\n        : JSON.parse(localStoragedecryp(\"data_barang_penjualan_tmp\"));\r\n    if (customer.length === 0 || barang.length === 0) {\r\n      ToastNotification(\r\n        \"info\",\r\n        \"Data Customer Atau Data Barang Belum Diisi !!!\"\r\n      );\r\n    } else {\r\n      this.setState({ FormModal: \"ShowModalPembayaran\" });\r\n      this.props.dispatch(showModal());\r\n    }\r\n  }\r\n  batalPenjualan() {\r\n    this.setState({\r\n      isLoadingBatal: true,\r\n    });\r\n    setTimeout(() => {\r\n      setItem(\"total_dp\", 0);\r\n      localStorageencryp(\"trx_pemabayran_penjualan\", JSON.stringify([]));\r\n      localStorageencryp(\"data_customer_tmp\", JSON.stringify([]));\r\n      this.props.dispatch(setBarangPenjualan([]));\r\n      localStorageencryp(\"data_barang_penjualan_tmp\", JSON.stringify([]));\r\n      this.setState({\r\n        isLoadingBatal: false,\r\n      });\r\n    }, 500);\r\n  }\r\n  render() {\r\n    return (\r\n      <Panel>\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <br />\r\n            <Tabel\r\n              keyField=\"kode_barcode\"\r\n              exportCsv={false}\r\n              data={\r\n                this.props.setBarangPenjualan.length === 0\r\n                  ? localStoragedecryp(\"data_barang_penjualan_tmp\").length === 0\r\n                    ? []\r\n                    : JSON.parse(\r\n                        localStoragedecryp(\"data_barang_penjualan_tmp\")\r\n                      )\r\n                  : this.props.setBarangPenjualan || []\r\n              }\r\n              btnOptional2={true}\r\n              btnTextOptional2=\"Ambil Titipan\"\r\n              handleClickOptional2={() => this.showModalTitipan()}\r\n              tambahData={true}\r\n              btnText=\"Data Customer\"\r\n              columns={this.props.columns}\r\n              btnOptional={true}\r\n              namaCustomer={true}\r\n              jenisCustomer={true}\r\n              form=\"Penjualan\"\r\n              btnTextOptional=\"Data Barang\"\r\n              handleClick={() => this.ShowModalCustomer()}\r\n              handleClickOptional={() => this.ShowModalBarang()}\r\n              empty={true}\r\n              textEmpty=\"Data Barang Kosong\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <ModalGlobal\r\n          size={\r\n            this.state.FormModal === \"ShowModalCustomer\"\r\n              ? \"xl\"\r\n              : this.state.FormModal === \"ShowModalBarang\"\r\n              ? \"xl\"\r\n              : this.state.FormModal === \"AmbilTitipan\"\r\n              ? \"xl\"\r\n              : \"l\"\r\n          }\r\n          title={<TitleModal state={this.state.FormModal} />}\r\n          content={\r\n            this.state.FormModal === \"ShowModalCustomer\" ? (\r\n              <ModalDataCustomer\r\n                isLoadingDataCustomer={this.state.isLoadingDataCustomer}\r\n                onSubmit={(data) => this.handleSubmit(data)}\r\n              />\r\n            ) : this.state.FormModal === \"ShowModalBarang\" ? (\r\n              <ModalTambahBarang\r\n                isLoadingTopBar={this.props.isLoadingTopBar}\r\n                hideModal={() => this.hideModa()}\r\n                onSubmit={(data) => this.simpanBarang(data)}\r\n              />\r\n            ) : this.state.FormModal === \"AmbilTitipan\" ? (\r\n              <AmbilTitipan />\r\n            ) : (\r\n              <ModalPembayaran\r\n                isLoadingPembayranTitipan={this.state.isLoadingPembayranTitipan}\r\n                isLoadingPembayran={this.state.isLoadingPembayran}\r\n                bayarTitipan={(data) => this.bayarTitipan(data)}\r\n                simpanPembayaran={(data) => this.simpanPembayaran(data)}\r\n              />\r\n            )\r\n          }\r\n        />\r\n        <div className=\"row\">\r\n          <div className=\"col-9\">\r\n            <button\r\n              onClick={() => this.showModalPembayaran()}\r\n              className=\"btn btn-primary\"\r\n              disabled={this.props.isLoading}\r\n              type=\"submit\"\r\n            >\r\n              {this.props.isLoading ? (\r\n                <>\r\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\r\n                  Menyimpan\r\n                </>\r\n              ) : (\r\n                \"Simpan Data Penjualan\"\r\n              )}\r\n            </button>\r\n            &nbsp;\r\n            <button\r\n              onClick={() => this.batalPenjualan()}\r\n              className=\"btn btn-warning\"\r\n              disabled={this.state.isLoadingBatal}\r\n              type=\"button\"\r\n            >\r\n              {this.state.isLoadingBatal ? (\r\n                <>\r\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Reset\r\n                </>\r\n              ) : (\r\n                \"Reset\"\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </Panel>\r\n    );\r\n  }\r\n}\r\n\r\nfunction TitleModal(data, onSubmit) {\r\n  // console.log(state.state);\r\n  if (data.state === \"ShowModalCustomer\") {\r\n    return \"Form Data Customer\";\r\n  } else if (data.state === \"ShowModalBarang\") {\r\n    return \"Form Data Barang\";\r\n  } else if (data.state === \"AmbilTitipan\") {\r\n    return \"Form Data Ambil Titipan\";\r\n  } else {\r\n    return \"Form Pembayaran\";\r\n  }\r\n}\r\n\r\nHeadTransaksiPenjualan = reduxForm({\r\n  form: \"HeadTransaksiPenjualan\",\r\n  enableReinitialize: true,\r\n  validate: ValidasiDataUsers,\r\n})(HeadTransaksiPenjualan);\r\nexport default connect(maptostate)(HeadTransaksiPenjualan);\r\n","import {\r\n  React,\r\n  connect,\r\n  Link,\r\n  ToastNotification,\r\n  localStoragedecryp,\r\n  localStorageencryp,\r\n  Panel, PanelHeader,\r\n  Swal,\r\n  setItem\r\n} from \"../../../components/helpers/library\";\r\nimport HeadTransaksiPenjualan from \"./HeadTransaksiPenjualan.jsx\";\r\nimport { setBarangPenjualan } from \"../../../actions/penjualan_action.jsx\";\r\n\r\nclass FormTransaksiPenjualan extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      columns: [\r\n     \r\n        {\r\n          dataField: \"kode_barcode\",\r\n          text: \"Kode Barcode\",\r\n          footerAttrs: {\r\n            'colSpan': '3'\r\n          },\r\n          footer:\"Total\"\r\n        },\r\n        \r\n        {\r\n          dataField: \"nama_barang\",\r\n          text: \"Nama Barang\",\r\n        },\r\n      \r\n        {\r\n          dataField: \"nama_atribut\",\r\n          text: \"Nama Atribut\",\r\n        },\r\n        {\r\n          dataField: \"status_premi\",\r\n            text: \"Premi\",\r\n            footer:\"\"\r\n        },\r\n        {\r\n          dataField: \"berat_jual\",\r\n          text: \"Berat Jual\",\r\n          formatter: (cell) => {\r\n            return <span>{cell.toFixed(3)}</span>;\r\n          },\r\n          footer: columnData => columnData.reduce((acc, item) => acc + item, 0).toFixed(3)\r\n        },\r\n        {\r\n          dataField: \"berat_atribut\",\r\n          text: \"Berat Atribut\",\r\n          formatter: (cell) => {\r\n            return <span>{cell.toFixed(3)}</span>;\r\n          },\r\n          footer: columnData => columnData.reduce((acc, item) => acc + item, 0).toFixed(3)\r\n        },\r\n      \r\n        {\r\n          dataField: \"harga_atribut\",\r\n          text: \"Harga Atribut\",\r\n          formatter: (cell) => {\r\n            return <span>{parseInt(cell).toLocaleString(\"ID-id\")}</span>;\r\n          },\r\n          footer: columnData => parseInt(columnData.reduce((acc, item) => acc + item, 0)).toLocaleString(\"id-ID\")\r\n\r\n        },\r\n        {\r\n          dataField: \"harga_pergram\",\r\n          text: \"Harga\",\r\n          formatter: (cell) => {\r\n            return <span>{parseInt(cell).toLocaleString(\"ID-id\")}</span>;\r\n          },\r\n          footer: columnData => parseInt(columnData.reduce((acc, item) => acc + item, 0)).toLocaleString(\"id-ID\")\r\n\r\n        },\r\n        {\r\n          dataField: \"ongkos\",\r\n          text: \"Ongkos\",\r\n          formatter: (cell) => {\r\n            return <span>{parseInt(cell).toLocaleString(\"ID-id\")}</span>;\r\n          },\r\n          footer: columnData => parseInt(columnData.reduce((acc, item) => acc + item, 0)).toLocaleString(\"id-ID\")\r\n        },\r\n       \r\n        {\r\n          dataField: \"harga_jual\",\r\n          text: \"Harga Jual\",\r\n          formatter: (cell) => {\r\n            return <span>{parseInt(cell).toLocaleString(\"ID-id\")}</span>;\r\n          },\r\n          footer: columnData => parseInt(columnData.reduce((acc, item) => acc + item, 0)).toLocaleString(\"id-ID\")\r\n        },\r\n        {\r\n          dataField: \"total\",\r\n          text: \"Total Harga\",\r\n          formatter: (cell) => {\r\n            return <span>{parseInt(cell).toLocaleString(\"ID-id\")}</span>;\r\n          },\r\n          footer: columnData => parseInt(columnData.reduce((acc, item) => acc + item, 0)).toLocaleString(\"id-ID\")\r\n        },\r\n       \r\n        {\r\n          dataField: \"action\",\r\n          text: \"Action\",\r\n          csvExport: false,\r\n          headerClasses: \"text-center\",\r\n          formatter: (rowcontent, row,index) => {\r\n             \r\n            return (\r\n              <div className=\"row text-center\">\r\n                <div className=\"col-12\">\r\n                <button type=\"button\" onClick={()=>this.hapusdata(index,row)} className=\"btn btn-danger mr-3\">\r\n                    <i className=\"fa fa-trash\"></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            );\r\n          },\r\n          footer:\"\"\r\n        },\r\n      ],\r\n    };\r\n\r\n  }\r\n\r\n  hapusdata(id,row) {\r\n    Swal.fire({\r\n      title: \"Anda Yakin !!\",\r\n      text: \"Ingin Menghapus Data Ini ?\",\r\n      icon: \"warning\",\r\n      position: \"top-center\",\r\n      cancelButtonText: \"Tidak\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"OK\",\r\n      showConfirmButton: true,\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        let data = JSON.parse(localStoragedecryp('data_barang_penjualan_tmp'));\r\n        data.splice(id, 1)\r\n        localStorageencryp('data_barang_penjualan_tmp', JSON.stringify(data));\r\n        this.props.dispatch(setBarangPenjualan(data));\r\n\r\n        let data2 = JSON.parse(localStoragedecryp('data_barang_penjualan_tmp'));\r\n\r\n        // let cek_pembayaran = localStoragedecryp(\"trx_pemabayran_penjualan\").length === 0 ? [] : JSON.parse(localStoragedecryp(\"trx_pemabayran_penjualan\"));\r\n        // let total_dp = 0;\r\n        setItem('trx_pemabayran_penjualan', [])\r\n        let cek_pembayaran = [];\r\n        let total_dp = 0;\r\n        data2.forEach((row) => {\r\n          row.pembayaran.forEach((element) => {\r\n          total_dp = total_dp + element.jumlah_rp;\r\n            let row = {\r\n                jenis: element.jenis,\r\n                keterangan: \"TITIPAN\",\r\n                nominal: element.jumlah_rp,\r\n            };\r\n            cek_pembayaran.push(row);\r\n            setItem('trx_pemabayran_penjualan',cek_pembayaran)\r\n          })\r\n        })\r\n        setItem('total_dp',total_dp)\r\n        this.setState({\r\n          status : \"berhasil\"\r\n        })\r\n      }\r\n    });\r\n  }\r\n \r\n  // cetak() {\r\n  //   let data = JSON.parse(localStorage.getItem(\"list_component\"));\r\n  //   cetakFakturPenjualan(data)\r\n  // }\r\n  componentWillUnmount() {\r\n    localStorage.setItem(\"data_customer_tmp\", JSON.stringify([]));\r\n    localStorage.setItem(\"data_barang_penjualan_tmp\", JSON.stringify([]));\r\n  }\r\n\r\n  errorhandling(error) {\r\n    ToastNotification(\"info\", 'Transaksi Gagal Disimpan');\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <ol className=\"breadcrumb float-xl-right\">\r\n          <li className=\"breadcrumb-item\">\r\n            <Link to=\"#\">Penjualan</Link>\r\n          </li>\r\n          <li className=\"breadcrumb-item active\">Transaksi Penjualan</li>\r\n        </ol>\r\n        <h1 className=\"page-header\">Transaksi Penjualan </h1>\r\n        <Panel>\r\n          <PanelHeader>Transaksi Penjualan</PanelHeader>\r\n          <br />\r\n          {/* Transaksi Penjualan */}\r\n          <div className=\"container\">\r\n            {/* <button onClick={()=>this.cetak()}> Cetak  </button> */}\r\n            {/* {console.log(this.props.simpanBarangTransaksiPenjualan)} */}\r\n            <HeadTransaksiPenjualan\r\n              isLoading= {this.state.isLoading}\r\n              columns={this.state.columns} />\r\n          </div>\r\n          <br />\r\n          {/* End Tambah Transaksi Penjualan  */}\r\n        </Panel>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(null)(FormTransaksiPenjualan);\r\n"],"sourceRoot":""}