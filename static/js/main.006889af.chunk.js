(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(e,a,t){"use strict";var n=t(0),l=t.n(n);t.d(a,"m",function(){return l.a}),t.d(a,"b",function(){return n.Component});var r=t(16);t.d(a,"g",function(){return r.b});var o=t(11);t.d(a,"l",function(){return o.c}),t.d(a,"k",function(){return o.a});var s=t(7);t.d(a,"L",function(){return s.xb}),t.d(a,"C",function(){return s.wb});var i=t(14);t.d(a,"w",function(){return i.b}),t.d(a,"c",function(){return i.a}),t.d(a,"I",function(){return i.c});var c=t(9);t.d(a,"t",function(){return c.b});var m=t(27),d=t.n(m);t.d(a,"q",function(){return d.a});var g=t(4);t.d(a,"s",function(){return g.e}),t.d(a,"J",function(){return i.d});var p=t(6);t.d(a,"y",function(){return p.c}),t.d(a,"H",function(){return p.e});var h=t(18);t.d(a,"r",function(){return h.a});var u=t(39);t.d(a,"i",function(){return u.a});var b=t(5);t.d(a,"n",function(){return b.d}),t.d(a,"f",function(){return b.c}),t.d(a,"e",function(){return b.b}),t.d(a,"o",function(){return b.e}),t.d(a,"p",function(){return b.f});var E=t(2);t.d(a,"B",function(){return E.i}),t.d(a,"F",function(){return E.m}),t.d(a,"A",function(){return E.h}),t.d(a,"E",function(){return E.l}),t.d(a,"x",function(){return E.e}),t.d(a,"u",function(){return E.b}),t.d(a,"K",function(){return E.p}),t.d(a,"z",function(){return E.g});var _=t(47);t.d(a,"d",function(){return _.a}),t.d(a,"j",function(){return _.c});t(77);var A=t(205),k=t.n(A);t.d(a,"D",function(){return k.a});t(76);var S=t(206),f=t.n(S);t.d(a,"a",function(){return f.a});var y=t(21);t.d(a,"G",function(){return y});var O=t(41);t.d(a,"v",function(){return O.createNumberMask});t(139);var C=t(15),N=t.n(C);t.d(a,"h",function(){return N.a})},100:function(e,a,t){"use strict";t.d(a,"a",function(){return l}),t.d(a,"c",function(){return r}),t.d(a,"b",function(){return o}),t.d(a,"e",function(){return s}),t.d(a,"d",function(){return i});var n=t(6);const l="GET_DATA_USER",r="SHOW_TAMBAH_DATA_USER",o="SET_NAMA_USER",s=()=>e=>{Object(n.c)("users/get/all").then(a=>{e({type:l,payload:{data:a.data}})}).catch(e=>{console.log(e)})},i=e=>a=>{a({type:r,payload:{data:e}})}},11:function(e,a,t){"use strict";t.d(a,"a",function(){return o}),t.d(a,"c",function(){return s}),t.d(a,"b",function(){return i});var n=t(0),l=t.n(n);const r=l.a.createContext();class o extends l.a.Component{constructor(e){super(e),this.toggleExpand=(()=>{this.setState(e=>({expand:!this.state.expand}))}),this.toggleRemove=(()=>{this.setState(e=>({remove:!this.state.remove}))}),this.toggleCollapse=(()=>{this.setState(e=>({collapse:!this.state.collapse}))}),this.toggleReload=(()=>{!0!==this.state.reload&&(this.setState(e=>({reload:!0})),setTimeout(()=>{this.setState(e=>({reload:!1}))},2e3))}),this.state={expand:!1,collapse:!1,reload:!1,remove:!1,toggleExpand:this.toggleExpand,toggleReload:this.toggleReload,toggleRemove:this.toggleRemove,toggleCollapse:this.toggleCollapse}}render(){return l.a.createElement(r.Provider,{value:this.state},!this.state.remove&&l.a.createElement("div",{className:"panel panel-"+(this.props.theme?this.props.theme:"inverse")+" "+(this.state.expand?"panel-expand ":" ")+(this.state.reload?"panel-loading ":" ")+(this.props.className?this.props.className:"")},this.props.children))}}class s extends l.a.Component{constructor(e){super(e),this.state={}}render(){return l.a.createElement("div",{className:"panel-heading"},l.a.createElement("h4",{className:"panel-title"},this.props.children),!this.props.noButton&&l.a.createElement(r.Consumer,null,({toggleExpand:e,toggleRemove:a,toggleCollapse:t,toggleReload:n})=>l.a.createElement("div",{className:"panel-heading-btn"})))}}class i extends l.a.Component{render(){return l.a.createElement(r.Consumer,null,({collapse:e,reload:a})=>l.a.createElement("div",{className:"panel-body "+(e?"d-none ":" ")+this.props.className},this.props.children,a&&l.a.createElement("div",{className:"panel-loader"},l.a.createElement("span",{className:"spinner-small"}))))}}},18:function(e,a,t){"use strict";var n=t(0),l=t.n(n),r=t(76),o=t.n(r),s=t(77),i=t.n(s),c=t(151),m=t.n(c),d=t(302),g=t.n(d);var p=function(e){return l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("div",{className:"text-center"},l.a.createElement("img",{src:g.a,width:"250",height:"250",alt:"Empty"}),l.a.createElement("h5",null,e.text)))},h=t(91),u=t.n(h),b=t(2);const E=s.Search.SearchBar,_=s.CSVExport.ExportCSVButton;a.a=function(e){let a=e.disable_search,t=e.textEmpty,n=e.handleClick,r=e.tambahData,s=e.expandRow,c=e.selectRow,d=e.exportCsv,g=e.btnText,h=e.iconBtn,A=e.namaCustomer,k=e.jenisCustomer,S=e.form,f=e.margin,y=e.btnOptional,O=e.btnTextOptional,C=e.btnOptional2,N=e.btnTextOptional2,x=e.iconBtnOptional2,j=e.handleClickOptional2,v=e.btnOptional3,L=e.btnTextOptional3,T=e.iconBtnOptional3,I=e.handleClickOptional3,B=e.iconBtnOptional,D=e.handleClickOptional,M=e.pagination;return e.data?l.a.createElement(i.a,{keyField:e.keyField,data:e.data||[],columns:e.columns,search:!0},e=>l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:a?"col-4":"col-6"},l.a.createElement("div",{className:"text-left"},a?null:l.a.createElement(E,e.searchProps),"Penjualan"===S?l.a.createElement(l.a.Fragment,null,A&&l.a.createElement("span",{style:{top:"-2px",position:"absolute",left:f?"190px":"10px"}},l.a.createElement(l.a.Fragment,null," NAMA CUSTOMER : ",null===localStorage.getItem("data_customer_tmp")?null:void 0===JSON.parse(Object(b.l)("data_customer_tmp")).nama_customer?null:JSON.parse(Object(b.l)("data_customer_tmp")).nama_customer.toUpperCase()," ")),k&&l.a.createElement("span",{style:{top:"14px",position:"absolute",left:f?"190px":"10px"}},l.a.createElement(l.a.Fragment,null,"JENIS CUSTOMER: ",null===localStorage.getItem("data_customer_tmp")?null:JSON.parse(Object(b.l)("data_customer_tmp")).jenis_pelanggan," "))):"Service"===S?l.a.createElement(l.a.Fragment,null,A&&l.a.createElement("span",{style:{top:"-2px",position:"absolute",left:"190px"}},l.a.createElement(l.a.Fragment,null," NAMA CUSTOMER : ",null===localStorage.getItem("data_customer_services_tmp")?null:void 0===JSON.parse(Object(b.l)("data_customer_services_tmp")).nama_customer?null:JSON.parse(Object(b.l)("data_customer_services_tmp")).nama_customer.toUpperCase()," ")),k&&l.a.createElement("span",{style:{top:"14px",position:"absolute",left:"190px"}},l.a.createElement(l.a.Fragment,null," JENIS CUSTOMER: ",null===localStorage.getItem("data_customer_services_tmp")?null:JSON.parse(Object(b.l)("data_customer_services_tmp")).jenis_pelanggan," "))):l.a.createElement(l.a.Fragment,null,A&&l.a.createElement("span",{style:{top:"-2px",position:"absolute",left:"190px"}},l.a.createElement(l.a.Fragment,null," NAMA CUSTOMER : ",null===localStorage.getItem("data_customer_hutang_tmp")?null:void 0===JSON.parse(Object(b.l)("data_customer_hutang_tmp")).nama_customer?null:JSON.parse(Object(b.l)("data_customer_hutang_tmp")).nama_customer.toUpperCase()," ")),k&&l.a.createElement("span",{style:{top:"14px",position:"absolute",left:"190px"}},l.a.createElement(l.a.Fragment,null," JENIS CUSTOMER: ",null===localStorage.getItem("data_customer_hutang_tmp")?null:JSON.parse(Object(b.l)("data_customer_hutang_tmp")).jenis_pelanggan," "))))),l.a.createElement("div",{className:a?"col-8":"col-6"},l.a.createElement("div",{className:"text-right"},r&&l.a.createElement("button",{onClick:n,className:"btn btn-primary"},g||"Tambah Data",h||l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fa fa-plus ml-3"}))),"\xa0",y&&l.a.createElement("button",{onClick:D,type:"button",className:"btn btn-success"},O,B||l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fa fa-plus ml-3"}))),"\xa0",C&&l.a.createElement("button",{onClick:j,type:"button",className:"btn btn-warning"},N,x||l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fa fa-plus ml-3"}))),"\xa0",v&&l.a.createElement("button",{onClick:I,type:"button",className:"btn btn-danger"},L,T||l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fa fa-plus ml-3"}))))),l.a.createElement("hr",null),l.a.createElement("div",{className:"col-12"},l.a.createElement(o.a,Object.assign({pagination:"off"===M?null:m()(),selectRow:c,expandRow:s},e.baseProps,{noDataIndication:l.a.createElement(p,{text:t||"Tidak Ada Data"})})),l.a.createElement("br",null),"\xa0",d&&l.a.createElement(_,e.csvProps,"Export CSV!!")))):e.empty?l.a.createElement(i.a,{keyField:e.keyField,data:e.data||[],columns:e.columns,search:!0},e=>l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"text-left"},l.a.createElement(E,e.searchProps))),l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"text-right"},r&&l.a.createElement("button",{onClick:n,className:"btn btn-primary"},"Tambah Data",l.a.createElement("i",{className:"fa fa-plus ml-3"})),"\xa0",y&&l.a.createElement("button",{onClick:D,className:"btn btn-success"},O,B||l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fa fa-plus ml-3"}))))),l.a.createElement("hr",null),l.a.createElement("div",{className:"col-12"},l.a.createElement(o.a,Object.assign({pagination:m()()},e.baseProps,{noDataIndication:l.a.createElement(p,{text:t||"Tidak Ada Data"})})),l.a.createElement("br",null),d&&l.a.createElement(_,e.csvProps,"Export CSV!!")))):l.a.createElement(u.a,{width:"100%",height:250})}},2:function(e,a,t){"use strict";t.d(a,"o",function(){return c}),t.d(a,"c",function(){return m}),t.d(a,"k",function(){return d}),t.d(a,"p",function(){return g}),t.d(a,"g",function(){return p}),t.d(a,"i",function(){return h}),t.d(a,"h",function(){return u}),t.d(a,"b",function(){return b}),t.d(a,"m",function(){return E}),t.d(a,"l",function(){return _}),t.d(a,"j",function(){return A}),t.d(a,"a",function(){return k}),t.d(a,"d",function(){return S}),t.d(a,"e",function(){return x}),t.d(a,"f",function(){return j}),t.d(a,"n",function(){return v});var n=t(14),l=t(4),r=t(0),o=t.n(r),s=t(295),i=t.n(s);Object(r.forwardRef)(({value:e,onClick:a},t)=>o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{type:"text",defaultValue:e,readOnly:!0,className:"form-control",placeholder:"Masukan Tanggal","aria-label":"Masukan Tanggal","aria-describedby":"basic-addon2"}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("span",{className:"input-group-text",id:"basic-addon2"},o.a.createElement("i",{onClick:a,ref:t,className:"fa fa-calendar-alt",style:{cursor:"pointer"}}))))));const c=e=>new Promise((a,t)=>{i.a.imageFileResizer(e,720,1366,"JPEG",50,0,e=>{a(e)},"base64")}),m=(e,a)=>{let t=e.split(","),n=t[0].match(/:(.*?);/)[1],l=atob(t[1]),r=l.length,o=new Uint8Array(r);for(;r--;)o[r]=l.charCodeAt(r);return new File([o],a,{type:n})},d=e=>{let a="";return a=0===Number(e)?"  ":e},g=(e,a)=>{localStorage.setItem(e,JSON.stringify(a))},p=e=>null===localStorage.getItem(e)?"":JSON.parse(localStorage.getItem(e)||""),h=()=>(new Date).getFullYear()+"-"+("0"+((new Date).getMonth()+1)).slice(-2)+"-"+("0"+(new Date).getDate()).slice(-2),u=()=>A().tgl_system,b=e=>new Promise((a,t)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=(()=>{a(n.result)}),n.onerror=(e=>{t(e)})}),E=(e,a)=>{localStorage.setItem(f(e),f(a))},_=e=>y(localStorage.getItem(f(e)))||[],A=()=>JSON.parse(_("userdata"));const k=(e="",a,t,r,o,s,i,c)=>new Promise((m,d)=>{(void 0===e.response?"Koneksi Bermasalah":e.response.data||"-").includes("DELETED")?Object(l.c)(e,a,t,r).then(()=>{o(s)}).then(()=>{o(i)}).then(()=>{o(Object(n.d)(c))}).then(m("berhasil")).catch(d("error")):Object(l.a)(void 0===e.response?"Koneksi Bermasalah":e.response.data).then(m("berhasil")).catch(d("error"))});function S(e){let a=e.className,t=e.text;return o.a.createElement("button",{className:a,type:"button"}," ",o.a.createElement("i",{className:"fas fa-spinner fa-spin"})," ",t)}const f=e=>{let a="L4ng1tB1ru974376",t={};for(let o=0;o<a.length;o++)t[o]=a.substr("".concat(o),1);let n="",l=0,r=e.length;for(let o=0;o<parseInt(r);o++)n+=O(e[o].charCodeAt(0)+t[l].charCodeAt(0)),l===Object.keys(t).length-1&&(l=0),l+=1;return e},y=e=>{if(null!==e){let a="L4ng1tB1ru974376",t={};for(let e=0;e<a.length;e++)t[e]=a.substr("".concat(e),1);let n="",l=0,r=e.length,o=0;for(;o<parseInt(r);)n+=N(C(e.substr(o,2))-t[l].charCodeAt(0)),l===Object.keys(t).length-1&&(l=0),l+=1,o+=2;return e}},O=e=>{return e.toString(16)},C=e=>{return parseInt(e,16)},N=e=>{return String.fromCharCode(e)},x=e=>{var a=new Date(e),t=""+(a.getMonth()+1),n=""+a.getDate(),l=a.getFullYear();return t.length<2&&(t="0"+t),n.length<2&&(n="0"+n),[l,t,n].join("-")},j=(e,a)=>parseFloat(e||0).toFixed(3).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),v=e=>{const a=500,t=e,n=t%Number(a);let l=t;return 0!==n&&(l=l-n+Number(a)),l}},202:function(e,a,t){e.exports=t.p+"static/media/accessDenied.179abc1a.svg"},205:function(e,a){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCADwAUADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD/AD/6KKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//9k="},288:function(e,a,t){"use strict";a.a=((e,a)=>{const t={};return e.nama_hadiah||(t.nama_hadiah="Nama Hadiah Tidak Boleh Kosong"),e.poin||(t.poin="Poin Tidak Boleh Kosong"),t})},302:function(e,a,t){e.exports=t.p+"static/media/empty.02c14787.svg"},305:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAGQCAMAAABF6+6qAAAAM1BMVEXz9Pa5vsrp6+/Q09vBxdDl5+vw8fS+ws66wMvi5enS1t3HzNXa3ePt7vHe4ebLz9jV2N8T7rePAAAEfklEQVR42uzBgQAAAACAoP2pF6kCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGD27m7HTRgIoLCHAHGG3/d/2q7SrSZtTRZs7ZJ4zncLEhcc2WAZAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4R924Xn6ejl0fUK1+bOUsV50C6tS1cqY4B9RolrNpQH3O70pkDajNFOUF3AIqs8graAPq0shr4AG+Mqu8hiGgKoPNRpefZ1ePAVWJ8mkJZ7ABswmoifzRhTP0D9dHRfrjI0ZVYeMTYeEtEBbuCAtvgbBwR1h4C8/D6rvbrZvC3wgLRWE1ayt3rT4eIyyUhDUt8mCZ7AhhIT+sOW5uHyYsZIc1PtnkSVjIDWuUhDH8RljIDKuL8i+79YSF3LBaSWr78IGwkBnWLCYxGRIW8sIann/xQFjICquRBDuHsJAX1ijydC4kLGSFpbLpEnbrVsLyLBHWIpuW/V1FUcJy7FhYw4GuRJSw/PqGEctWWJWw3Dr2jKX7u7pTwvIqEdZc+lZ4i1YiYTmVCGuSTdPOrowSlk+HVt6H3V0ZJSyXUmHdZMO8vyujhOVRIqzNIWs40pVRwnIoGVYTJSE2h7oySlj+JMNKT4bzwa6MEpY76bDCHDO7SlPC8iYRVvKfAm2X0ZVRwnJmK6zQrw+ZxLXP6sooYfnyX1imn5erfLguYx8yuzJKWK4kwzL91EzBHO/KKGF5shWWKezKKGE5UhqWdfU1JSw/CsOyrvZQwnKjLCzrah8lLC+KwrKu9lLCciIjrIyujBKWDxlh5XRllLBcyAgrqyujhOXB7rCasawro4TlwN6wmquMZV0ZJaz6fRWWdSUylnVllLCq94u9e8tNGIaiKBqXFCg4lPmPtjItMlLvV6zm4a41hq2rI/84CCvuqshtXVUXYfUuCivuqshtXVUXYXUuDCvuqshNXVUnYXUuCCvoqsqvXQmLWWHVrqpcuxIWM8OqXVX52ZWwmB1W7arK310Ji1lhxV0VuXQlLGaEVbuKHM5JWMwJq3YVExbzw6pdCYvGsOKuhEVjWHFXwqIxrLgrYdEYVtyVsGgMK+5KWDSGFXclLBrDirsSFo1hxV0Ji8aw4q6ERXtY1/SLsBAWWyAsCmGxD8KiEBb7ICwKYbEPwqIQFvsgLAphsQ/ColgirMO4AGF17jWsP+IX+/9IWDwIi10QFg/CYheExYOw2If0dBvW8PYSNj0Z04/Tx3FY3PuYnqaBnnymbRgHunJL23AZ6MrxlDbBxOpNTltwGOjNNa3vZLr3ZxrT2s4esXo0rX2zRgOrU/dzWtHhONCpY76u1NZ4d646N70tb3KsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOCrPTgkAAAAABD0/7UrbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAvwBQ1zWzb+cicAAAAABJRU5ErkJggg=="},306:function(e,a){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4Qm+aHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyI+IDxkYzpjcmVhdG9yPiA8cmRmOlNlcT4gPHJkZjpsaT5WZWN0b3JTdG9jay5jb20vMTg5NDIzODE8L3JkZjpsaT4gPC9yZGY6U2VxPiA8L2RjOmNyZWF0b3I+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/eHBhY2tldCBlbmQ9InciPz7/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wAARCAD6AO4DAREAAhEBAxEB/8QAHAABAAIDAQEBAAAAAAAAAAAAAAEHBAUGAwIJ/8QAQRAAAgIBAgMDBwkGBAcAAAAAAAECAwQFEQYhMRITQQdRYXGBkaEUFSIjUnKxwdEkMkJDU+EzYqLwFjU2Y3OSsv/EABgBAQEBAQEAAAAAAAAAAAAAAAADAgEE/8QAHBEBAQADAAMBAAAAAAAAAAAAAAECETESQVEh/9oADAMBAAIRAxEAPwD9UwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABG4Hlfl04sO1dbCqPnnJJfEDT5PGuk426+U96/NVFy+PQ141nyjX2+UbCj/AIeNkWLzvsx/M74VzzjHflJq35YE/bav0O+Dnm+oeUmjf6WDavVYmPA82XT5QtNsaVkL6n6YJr4M5413yja4nE2mZrSqzau0/wCGb7L9z2M6rW42UZKSTT3T8UcdfQAAAAAAAAAAAAAAAAAAAAAENgaTWOLsDSXKDs7+9fyqubXrfRGpjazcpHH6lx1qObvGhxw634V85f8As/yNzGMXKtBdbZkTc7rJWzf8U5OT+Jth8AAAAAAa3Ay8HVs3TZJ42TZUvsp7x9z5HLJXZbHT6X5Q5wcYZ9Cmv6tPJ+2P6GLj8bmX12Gn6ri6pT3mNdG2Pik+a9a8DFmm5dsw46AAAAAAAAAAAAAAAAAGHqWqY2k4zuybVXDol4yfmS8Wdk25bpX2u8Z5equVWO3i4z5bRf05L0v8kUmOkrltz2xtkAAZODpmXqUuzi49l3ncVyXrfQ5bp3Vre4/k/wBSuW9tlFHocnJ/Az5RrxrJfk3ykuWbU35uwznm74MLK4D1THTdaqyEv6c9n7nsd8o541o8rEvwbO7yKZ0z8047bm+sPEAAA9cbJuw7o3UWyqtj0lB7MDttA48he40ajtVZ0V6W0X614evp6idx+KTL67KMlJJp7p800TUSAAAAAAAAAAAAAABqOIOI6NBx95/WZE19XSnzfpfmRqTbNulZalqeTq2TK/Jsc5vovCK8yXgVk0lbtinXACUm2klu30SA7bh3gWLhDI1KLcnzjj79PvfoTuXxSY/XZ1UQorjCuEa4R5KMVskTUfewEgRsB45WHTmUuq+qF1b6xmt0Bx2reT2Ur+3p9sIVvrXc39F+h/qUmX1O4/HM6roWbozXyqnswb2VkXvF+39TcsrFljXnXAAB0PDXFt2jSjRe5XYTfTrKv0r0egxcdtzLSyMbJry6YXUzVlU1vGUXyaJKvUAAAAAAAAAAAANVxDr1WhYXeS2ndPlVXv8AvP8ARHZNs26VZmZl2oZM8jIm7LZvdt/gvMi/ErdvEOAADtOA+Ho2bankR357URfxl+SJ5X0pjPbuUtiaiQAAAAAAeGZiVZ2NZRdBTqsW0osOdVDqWDPTM+/Fm95VScd/OvB+7YvLtGzTGOuAADe8L8Sz0PI7u1ueFY/px69h/aX5ozlNtS6WdVbC6uM4SU4SScZJ8miKz7AAAAAAAAAAMfOzKtPxbci6XZqrj2pMdcv4qbWNVu1rPnk28t+UIb8oR8EXk0jbthHXAAB64uNLMyqceH71s1Be1gn6uTFx4YmPXTWuzXXFQivQjzvQ9QAAAAAAAIYFc+UHHVWtV2pf4tKb9abX6FceJZdcwbYAAADr+BeIXj2rTciX1U39TJv92X2fU/x9ZPKe1Mb6d8TUSAAAAAAABAFfce628rLWn1S+qpe9m3jPzez8WVxntLK+nJm2AAAA3HCFas4kwk/CTfuizOXGserVXQiskAAAAAAAABwXlJS+V4L8exP8UUwTzccUTAAACU2mmm01zTXVAWpwrrXz1pcJza+UV/QtXp8/t6+8jZqrS7jcmWgAAAAAAGBrmpx0nTL8l7bwj9BPxk+SXvOybrluoqKc5WzlOcnKcm3JvxfiXQfIAAAAytMz5aXqFGXCKm6pb9lvbfwa+Jyzbsulr6RqC1TTqMpQdatjv2W99uZGzS0u2acdAAAAAAAAK/8AKRLfPwo+auT/ANX9iuCebkTaYAAAAN5wdq3zXrNcZS2pv+rnv0T/AIX7/wATOU3GsbqrRRFZIAAAAAAOE8ououVmNgxfJLvZr09I/mUwntPO+nGFEwAAAAALS4Ll2uG8L0KS/wBTI5dWx43hloAAAAAABD6AV15Qp9rWqY/ZoXxbK48Sy65c2wAAAAA/Q9vSBbnD+o/OmkY2Q3vOUdp/eXJkLNVeXcbI46AAAACGBUnEeZ8v13Mt33j23CPqjyX4F5+RC/ta064AAAAABZvAzf8Aw7QmmtpzXP7zI5dWx46Ey0AAAAAAAhgVpx5C35+nZKuaq7EIxm4vsvl0T9pXHiWXXOm2AAAAAAO68nGY5Y2Xit/uSVkV6HyfxRPNTB2hNQAAAAHhm3/JsS65/wAuEp+5bgUwpOXN9XzZ6HnAAAAAAz9Aphka5g12JOErY7p+PoOXjs6t6PQgukAAAAAAAABr9eoryNGzYWRUo9zKXPwaW6Z2dcvFQroXQAAAAAA6PgLI7nX1X4W1Sj7uf5GMuN49WUuhJVIAAAA1XFFvdcP58lyfdNe/kdnXLxUyLoAAAAAAe+BkfJM/Gv8A6dkZe5nL+uxc0WmuXQgukAAAAAAAABqeKsn5Lw/nT6N1uC9cuX5mses3ip0WRAAAAAA2vC1ndcRYD89nZ96aM5cax6thdCKyQAAABpOMf+nM/wC4v/pGses5cVYiyIAAAAABrdAWxwxqcdT0bGsUt7IRVdi8VJcv7+0hZqrS7jbHGgAAAAAAEAcV5RNUj3VGBCSc3LvbEvBLovz9hTGe08r6cOUTAAAAAA2HD3/PtP8A/PH8Tl47Ordj0ILpAAAAGp4qr7zh7PX/AGm/dzNTrN4qcsiAAAAAAA2/CeTLG4gw9pOMJz7MknsnumluZy41j1ay6EVkgAAAAAAwdazPkGlZd++zhVJr17bL4nZ+1y/kVBKcrJOU5Ocn1lJ7tl0EAAAAAAA2nC9fecRYC81qfuTZy8dnVsroQXSAAAAMbUaPlODkU/1K5R96Z2Cmkmlz6l3nAAAAAAAfdN0se6u2HKdclJetPcC5MLKhnYtWRW94WxU17TzvQ9wAAAAAAcj5Q9RVOn1YcX9O+fakv8sf77e43jPbGV9K/KpAAAAAAAOh4Eod3ENc+qqrlP4bfmYy43j1Zi6ElUgAAACGBUGu4fyDWcyjbZRsbj6nzX4l5+xC9YJ1wAAAAAAB3Xk71OdtV+DPnGr6yD8yb5r38/aTyntTG+naE1AAAAAeWRcseiy2SbjCLk0uuyW4FSa1q9mt6hPKsXYTXZhBP92Pgi8mohbtgnXAAAAAAAHb+TjD2jmZTXVqqL+L/FE81MHbk1AAAAAAK/8AKJp/dZmPmRX0bY93J/5l0+H4FML6SyntyJRgAAAAAAB2Hk3r/bM6fgq4r3t/oTzUwd6TUSAAAAPHMr73Fuh9qEo/AClorZI9DzpAAAAAAAfQC2OF9OemaJjVSW1jj3k/vPn+iIW7q0mo2xxoAAAAADV8SaX876RfQlvZt26/vLp+ntOy6rlm4qXZrk1s11TLoAAAAAAAO/8AJziuvTsm9/zbeyvVFfq2Sy6rhx15hsAAAAEMCm9Sxnh6jlUPl3dso+zfkXnEKxjrgAAAAAG24X0r521mmuS3prfeWepeHteyM5XUaxm6tdEVkgAAAAAAhgVtxxor07UflVcf2fJe/LpGfivb195XG7SymnNm2AAAAAfdVM8i2FVUXOybUYxXiwLd0bTo6VpuPix2fdx2k14y6t+8hburyajOOOgAAAAhgV5x/pUsbUY50Y/VXpRk14TS/NfgVxvpLKe3Km2AAAAAHyAs3gzRHpOmKy2O2TftOe/WK8I/785HK7q2M1HQmWgAAAAAAADD1bTKtWwbca5fRmuUl1i/Bo7Lpyzapc/Bu0zMsxr49myt7ehrwa9DLS7Rs0xzrgAb2A2ukcM5+stSqq7ul/zreUfZ5/YZtkaktd3oHCWLoku93d+Ttt3k1so/dXgTuW1JjpvjLQAAAAAADwzMOnPx50X1q2qa2cWOHXC63wFdjdq3T5PIr69zL99ep+P4lZl9SuPxyc4SqnKE4uE4vZxktmjbCAAADpeCuHvnPLWXfH9lplyTXKc/N6kYyuvxvGbWQiSqQAAAAAAAAADQ8VcNx1zFUq9o5da+rk+XaX2X/vkal0zlNqxtqnRbOuyLhZB9mUZLZplkWdpWg5usy/Zqn3e/O2fKC9vj7DlsjslrudG4HwtO7NmR+2XrnvNfQT9Ef1J3K1SYyOkUUlsuhhtIAAAAAAAAABHUDXarw/hazH9ppTmulseU17Tstjlkri9W4CzMPtTw5LLqX8PSa9nR+wpMvqdx+OZshKqyULIyhOPJxktmvYbYbLh/QbtezO7jvCiHO237K8y9LM26ak2tTExKsHGropgoVVrsxiiK3HsAAAAAAAAAAAAGrz+HMDUcyvKyKFZbBbeiXm7S8djstjlkrY1wjXFRjFRilsopbJHHX2AAAAAAAAAAAAAABDA1+qaHhaxX2cmlTltsrFynH1M7LY5ZK99O06jS8WGPjwUK4+9vzvzsW7JNMo46AAAAAAAAAAAAAAhoBuBIAAAAAAAAAAAAQ3sBHUCUtgJAAAAAAAAAAAAAAAAAIa3AjbYCdwG4EgAAAAAAjcCN2wJ2AkAAAAAAAAAAAAAAAAAAAAACNgGwEbMBzAbgN2A5gTsA2AkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/9k="},32:function(e,a,t){"use strict";t.d(a,"b",function(){return r}),t.d(a,"k",function(){return o}),t.d(a,"g",function(){return s}),t.d(a,"e",function(){return i}),t.d(a,"f",function(){return c}),t.d(a,"h",function(){return m}),t.d(a,"i",function(){return d}),t.d(a,"j",function(){return g}),t.d(a,"c",function(){return p}),t.d(a,"m",function(){return h}),t.d(a,"d",function(){return u}),t.d(a,"a",function(){return b}),t.d(a,"l",function(){return E}),t.d(a,"s",function(){return _}),t.d(a,"u",function(){return A}),t.d(a,"v",function(){return k}),t.d(a,"q",function(){return S}),t.d(a,"t",function(){return f}),t.d(a,"r",function(){return y}),t.d(a,"o",function(){return O}),t.d(a,"p",function(){return C}),t.d(a,"w",function(){return N}),t.d(a,"n",function(){return x});var n=t(2),l=t(6);const r="GET_NO_KIRIM",o="SHOW_MODAL_TERIMA_BARANG",s="SET_CAMERA",i="SET_BARANG_PINDAH",c="SET_BARANG_PINDAH_SATU_BAKI",m="SET_HANCUR_BARANG",d="SHOW_MODAL_EDIT",g="SHOW_MODAL_PESANAN",p="GET_TIMBANG_BARANG",h="UPDATE_TIMBANG_BARANG",u="REPORT_AUTHORIZATION",b="GET_BARANG_BARCODE",E=e=>a=>{a({type:o,payload:{data:e}})},_=e=>a=>{a({type:s,payload:{data:e}})},A=e=>a=>{a({type:d,payload:{data:e}})},k=e=>a=>{a({type:g,payload:{data:e}})},S=e=>a=>{a({type:i,payload:{data:e}})},f=e=>a=>{a({type:m,payload:{data:e}})},y=e=>a=>{a({type:c,payload:{data:e}})},O=e=>e=>{Object(l.c)("kirimbarang/get/nokirim").then(a=>{e({type:r,payload:{data:a.data}})}).catch(e=>{console.log(e)})},C=(e,a,t)=>r=>{Object(l.d)("timbang-baki?tanggal=".concat(t,"&kode_gudang=").concat(e,"&kode_toko=").concat(a)).then(e=>{Object(n.p)("timbang_barang",e.data),r({type:p,payload:{data:e.data}})}).catch(e=>{console.log(e)})},N=e=>a=>{a({type:h,payload:{data:e}})},x=(e,a)=>t=>{Object(l.d)("tambah-barang?kode_gudang=".concat(e||"ALL","&kode_toko=").concat(a||"ALL")).then(e=>{t({type:b,payload:{data:e.data}})}).catch(e=>{console.log(e)})}},339:function(e,a,t){e.exports=t(644)},34:function(e,a,t){"use strict";t.d(a,"a",function(){return l});var n=t(0);const l=t.n(n).a.createContext()},39:function(e,a,t){"use strict";var n=t(0),l=t.n(n),r=t(9),o=t(651),s=t(649),i=t(650),c=t(7);a.a=Object(r.b)(e=>({isOpen:e.datamaster.modalDialog}),null)(class extends n.Component{constructor(e){super(e),this.state={}}hideModal(){this.props.dispatch(Object(c.wb)()),localStorage.setItem("total_rp_services",JSON.stringify([]))}render(){return l.a.createElement(o.a,{backdrop:"static",keyboard:!1,isOpen:this.props.isOpen,toggle:()=>this.props.dispatch(Object(c.wb)()),size:this.props.size||"xl"},l.a.createElement(s.a,{toggle:()=>this.hideModal()},this.props.title),l.a.createElement(i.a,null,this.props.content))}})},4:function(e,a,t){"use strict";t.d(a,"d",function(){return o}),t.d(a,"a",function(){return s}),t.d(a,"c",function(){return i}),t.d(a,"b",function(){return c}),t.d(a,"e",function(){return d});var n=t(27),l=t.n(n),r=t(6);function o(e){return new Promise((a,t)=>{l.a.fire({text:e,icon:"success",position:"top-center",timer:2e3,width:"300px",height:"100px",showConfirmButton:!1}).then(a("berhasil")).catch(t("error"))})}function s(e){return new Promise((a,t)=>{l.a.fire({title:"Oopss!!",text:e,icon:"error",position:"top-center",timer:3e3,showConfirmButton:!1}).then(a("berhasil")).catch(t("error"))})}function i(e,a,t,n){return new Promise((s,i)=>{l.a.fire({title:"Warning !!!",text:e.response.data,icon:"info",position:"top-center",cancelButtonText:"Batal",showCancelButton:!0,confirmButtonText:"Aktifkan",showConfirmButton:!0}).then(e=>{e.isConfirmed&&Object(r.g)(a+t,n).then(()=>s("Berhasil")).then(()=>o("Berhasil")).catch()})})}function c(e){return new Promise((a,t)=>{l.a.fire({title:"Informasi !!!",text:e,icon:"info",position:"top-right",timer:2e3,showConfirmButton:!1}).then(a("berhasil")).catch(t("error"))})}const m=l.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",l.a.stopTimer),e.addEventListener("mouseleave",l.a.resumeTimer)}});function d(e,a){return new Promise((t,n)=>{m.fire({icon:e,title:a}).then(t("berhasil")).catch(n("error"))})}},42:function(e,a,t){"use strict";a.a=(e=>{const a={};return e.jenis||(a.jenis="Jenis Tidak Boleh Kosong"),a})},47:function(e,a,t){"use strict";t.d(a,"a",function(){return n}),t.d(a,"b",function(){return l}),t.d(a,"c",function(){return r});const n=(e,a)=>e?e.replace(/[^0-9.]+/g,""):e,l=(e,a)=>e?e.replace(/[^0-9.K]+/g,""):e,r=(e,a)=>e?e.replace(/[^\d]/g,""):e},5:function(e,a,t){"use strict";t.d(a,"b",function(){return m}),t.d(a,"e",function(){return d}),t.d(a,"d",function(){return g}),t.d(a,"a",function(){return p}),t.d(a,"g",function(){return h}),t.d(a,"f",function(){return u}),t.d(a,"c",function(){return b});var n=t(0),l=t.n(n),r=t(309),o=(t(303),t(287)),s=t.n(o),i=t(91),c=t.n(i);t(152);const m=({input:e,label:a,type:t,readOnly:n,placeholder:r,value:o,id:s,tabIndex:i,meta:{touched:c,error:m,warning:d}})=>l.a.createElement(l.a.Fragment,null,l.a.createElement("input",Object.assign({onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()}},e,{tabIndex:i,autoComplete:"off",type:t,id:s,className:"form-control",readOnly:n,defaultValue:o,placeholder:r}))),d=({input:e,label:a,type:t,readOnly:n,placeholder:r,id:o,tabIndex:s,autoFocus:i,ref:c,customeCss:m,defaultValue:d,meta:{touched:g,error:p,warning:h}})=>l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"",className:"text-black"},a||l.a.createElement(l.a.Fragment,null," \xa0 ")),l.a.createElement("input",Object.assign({onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()}},e,{tabIndex:s,ref:c,autoComplete:"off",type:t,id:o,style:{textTransform:"uppercase"},className:"form-control "+m,readOnly:n,placeholder:r})),g&&(p&&l.a.createElement("ul",{className:"parsley-errors-list filled"},l.a.createElement("li",{className:"parsley-required"}," ",p,"."))||h&&l.a.createElement("p",null,h))),g=({input:e,label:a,type:t,readOnly:n,placeholder:r,id:o,tabIndex:s,autoFocus:i,ref:c,customeCss:m,defaultValue:d,meta:{touched:g,error:p,warning:h}})=>l.a.createElement("div",{className:"form-group"},l.a.createElement("br",null),a||l.a.createElement(l.a.Fragment,null," \xa0 "),l.a.createElement("br",null),l.a.createElement("div",{className:"switcher"},l.a.createElement("input",Object.assign({onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()}},e,{defaultChecked:!0,tabIndex:s,ref:c,autoComplete:"off",type:t,id:o,readOnly:n,placeholder:r}))," ",l.a.createElement("label",{htmlFor:"switcher_checkbox_1"})),g&&(p&&l.a.createElement("ul",{className:"parsley-errors-list filled"},l.a.createElement("li",{className:"parsley-required"}," ",p,"."))||h&&l.a.createElement("p",null,h))),p=({input:e,label:a,type:t,readOnly:n,placeholder:r,id:o,tabIndex:s,defaultValue:i,meta:{touched:c,error:m,warning:d}})=>l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"",className:"text-black"},a),l.a.createElement("input",Object.assign({onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()}},e,{tabIndex:s,autoComplete:"off",type:"number",id:o,className:"form-control",readOnly:n,defaultValue:i,placeholder:r})),c&&(m&&l.a.createElement("ul",{className:"parsley-errors-list filled"},l.a.createElement("li",{className:"parsley-required"}," ",m,"."))||d&&l.a.createElement("p",null,d))),h=({label:e})=>l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null," ",e," "),l.a.createElement(c.a,{className:"form-control"})),u=({input:e,label:a,readOnly:t,placeholder:n,options:o,value:s,id:i,disabled:c,tabIndex:m,meta:{touched:d,error:g,warning:p}})=>l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"",className:"text-black"},a),l.a.createElement(r.a,Object.assign({autoComplete:"off",onInputKeyDown:e=>{"Enter"===e.key&&e.preventDefault()}},e,{id:i,readOnly:t,search:!0,tabIndex:m,disabled:c,placeholder:n,options:o})),d&&(g&&l.a.createElement("ul",{className:"parsley-errors-list filled"},l.a.createElement("li",{className:"parsley-required"}," ",g,"."))||p&&l.a.createElement("p",null,p))),b=({input:e,label:a,readOnly:t,placeholder:n,id:r,selected:o,customInput:i,minDate:c,meta:{touched:m,error:d,warning:g}})=>l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("label",{htmlFor:"",className:"text-black"},a),l.a.createElement("div",{className:"customDatePickerWidth"},l.a.createElement(s.a,Object.assign({id:r,todayButton:"Hari Ini",peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",dateFormat:"yyyy-MM-dd",autoComplete:"off",minDate:c},e,{onKeyDown:e=>(e.preventDefault(),!1),selected:o,disabledKeyboardNavigation:!0,className:"form-control",readOnly:t,placeholder:n,customInput:i})),m&&(d&&l.a.createElement("ul",{className:"parsley-errors-list filled"},l.a.createElement("li",{className:"parsley-required"}," ",d,"."))||g&&l.a.createElement("p",null,g))))},50:function(e,a,t){"use strict";a.a=((e,a)=>{const t={};return e.tgl_awal||(t.tgl_awal="Tanggal Awal Tidak Boleh Kosong"),e.tgl_akhir||(t.tgl_akhir="Tanggal Akhir Tidak Boleh Kosong"),t})},57:function(e,a,t){"use strict";t.d(a,"i",function(){return n}),t.d(a,"j",function(){return l}),t.d(a,"h",function(){return r}),t.d(a,"b",function(){return o}),t.d(a,"a",function(){return s}),t.d(a,"e",function(){return i}),t.d(a,"d",function(){return c}),t.d(a,"f",function(){return m}),t.d(a,"c",function(){return d}),t.d(a,"g",function(){return g}),t.d(a,"p",function(){return p}),t.d(a,"l",function(){return h}),t.d(a,"o",function(){return u}),t.d(a,"n",function(){return b}),t.d(a,"k",function(){return E}),t.d(a,"m",function(){return _});const n="SHOW_MODAL_PENJUALAN_DATA_CUSTOMER",l="SHOW_MODAL_TAMBAH_BARANG",r="SHOW_MODAL_PEMBAYARAN",o="SET_BARANG_PENJUALAN",s="SET_BARANG_PEMBELIAN",i="SET_BATAL_PENJUALAN",c="SET_BATAL_PEMBELIAN",m="SET_NO_FAKTUR_PENJUALAN",d="SET_BARANG_TUKAR",g="SET_OTORISASI",p=e=>a=>{a({type:m,payload:{data:e}})},h=e=>a=>{a({type:o,payload:{data:e}})},u=e=>a=>{a({type:i,payload:{data:e}})},b=e=>a=>{a({type:c,payload:{data:e}})},E=e=>a=>{a({type:s,payload:{data:e}})},_=e=>a=>{a({type:d,payload:{data:e}})}},6:function(e,a,t){"use strict";t.d(a,"c",function(){return _}),t.d(a,"d",function(){return A}),t.d(a,"f",function(){return k}),t.d(a,"h",function(){return S}),t.d(a,"e",function(){return f}),t.d(a,"b",function(){return y}),t.d(a,"g",function(){return O}),t.d(a,"a",function(){return C});var n=t(48),l=t.n(n),r=t(27),o=t.n(r),s=t(2),i=t(4);const c="http://147.139.193.169:3101/api/v1/",m="http://147.139.193.169:3100/";let d="",g="",p="",h="",u="",b="",E="";function _(e){clearTimeout(d);let a={headers:{"x-auth-token":Object(s.l)("token")},timeout:5e3};return new Promise((n,r)=>{d=setTimeout(()=>{o.a.fire({position:"center",imageUrl:t(65),title:"Tidak ada koneksi internet",text:"Silahkan Coba Lagi",confirmButtonText:"Coba Lagi",confirmButtonColor:"#558776",imageWidth:250,imageHeight:250,showConfirmButton:!0,allowOutsideClick:!1}).then(e=>{e.isConfirmed&&window.location.reload()}),r("TIMEOUT")},5e3),l.a.get(c+e,a).then(e=>{clearTimeout(d),n(e)}).catch(e=>{l.a.isCancel(e)?(clearTimeout(d),r(e)):/Invalid Token./i.test(e&&e.response&&e.response.data)?(window.location.reload(),localStorage.clear(),localStorage.setItem("islogin","false")):(clearTimeout(d),r(e))})})}function A(e){clearTimeout(g);let a={headers:{"x-auth-token":Object(s.l)("token")},timeout:5e3};return new Promise((n,r)=>{g=setTimeout(()=>{o.a.fire({position:"center",imageUrl:t(65),title:"Tidak ada koneksi internet",text:"Silahkan Coba Lagi",confirmButtonText:"Coba Lagi",confirmButtonColor:"#558776",imageWidth:250,imageHeight:250,showConfirmButton:!0,allowOutsideClick:!1}).then(e=>{e.isConfirmed&&window.location.reload()}),r("TIMEOUT")},5e3),l.a.get(m+e,a).then(e=>{clearTimeout(g),n(e)}).catch(e=>{l.a.isCancel(e)?(clearTimeout(g),r(e)):/Invalid Token./i.test(e&&e.response&&e.response.data)?(window.location.reload(),localStorage.clear(),localStorage.setItem("islogin","false")):(clearTimeout(g),r(e))})})}function k(e,a){clearTimeout(h);let n={headers:{"x-auth-token":Object(s.l)("token")},timeout:5e3};return new Promise((r,s)=>{h=setTimeout(()=>{o.a.fire({position:"center",imageUrl:t(65),title:"Tidak ada koneksi internet",text:"Silahkan Coba Lagi",confirmButtonText:"Coba Lagi",confirmButtonColor:"#558776",imageWidth:250,imageHeight:250,showConfirmButton:!0,allowOutsideClick:!1}).then(e=>{e.isConfirmed&&window.location.reload()}),s("TIMEOUT")},5e3),l.a.post(m+e,a,n).then(e=>{clearTimeout(h),r(e)}).catch(e=>{l.a.isCancel(e)?(clearTimeout(h),s(e)):/Invalid Token./i.test(e&&e.response&&e.response.data)?(window.location.reload(),localStorage.clear(),localStorage.setItem("islogin","false")):(clearTimeout(h),s(e))})})}function S(e,a){clearTimeout(b),localStorage.setItem("daaa",JSON.stringify(a));let n={headers:{"x-auth-token":Object(s.l)("token")},timeout:5e3};return new Promise((r,s)=>{b=setTimeout(()=>{o.a.fire({position:"center",imageUrl:t(65),title:"Tidak ada koneksi internet",text:"Silahkan Coba Lagi",confirmButtonText:"Coba Lagi",confirmButtonColor:"#558776",imageWidth:250,imageHeight:250,showConfirmButton:!0,allowOutsideClick:!1}).then(e=>{e.isConfirmed&&window.location.reload()}),s("TIMEOUT")},5e3),l.a.put(m+e,a,n).then(e=>{clearTimeout(b),r(e)}).catch(e=>{l.a.isCancel(e)?(clearTimeout(b),s(e)):/Invalid Token./i.test(e&&e.response&&e.response.data)?(window.location.reload(),localStorage.clear(),localStorage.setItem("islogin","false")):(clearTimeout(b),s(e))})})}function f(e,a){clearTimeout(p);let n={headers:{"x-auth-token":Object(s.l)("token")},timeout:5e3};return new Promise((r,s)=>{p=setTimeout(()=>{o.a.fire({position:"center",imageUrl:t(65),title:"Tidak ada koneksi internet",text:"Silahkan Coba Lagi",confirmButtonText:"Coba Lagi",confirmButtonColor:"#558776",imageWidth:250,imageHeight:250,showConfirmButton:!0,allowOutsideClick:!1}).then(e=>{e.isConfirmed&&window.location.reload()}),s("TIMEOUT")},5e3),l.a.post(c+e,a,n).then(e=>{clearTimeout(p),r(e)}).catch(e=>{l.a.isCancel(e)?(clearTimeout(p),s(e)):(console.log(e),/Invalid Token./i.test(e&&e.response&&e.response.data)?(window.location.reload(),localStorage.clear(),localStorage.setItem("islogin","false")):(clearTimeout(p),s(e)))})})}function y(e,a){clearTimeout(E);let n={data:a,headers:{"x-auth-token":Object(s.l)("token")},timeout:5e3};return new Promise((a,r)=>{E=setTimeout(()=>{o.a.fire({position:"center",imageUrl:t(65),title:"Tidak ada koneksi internet",text:"Silahkan Coba Lagi",confirmButtonText:"Coba Lagi",confirmButtonColor:"#558776",imageWidth:250,imageHeight:250,showConfirmButton:!0,allowOutsideClick:!1}).then(e=>{e.isConfirmed&&window.location.reload()}),r("TIMEOUT")},5e3),l.a.delete(c+e,n).then(e=>{clearTimeout(E),a(e)}).catch(e=>{l.a.isCancel(e)?(clearTimeout(E),r(e)):/Invalid Token./i.test(e&&e.response&&e.response.data)?(window.location.reload(),localStorage.clear(),localStorage.setItem("islogin","false")):(clearTimeout(E),r(e))})})}function O(e,a){clearTimeout(u),localStorage.setItem("daaa",JSON.stringify(a));let n={headers:{"x-auth-token":Object(s.l)("token")},timeout:5e3};return new Promise((r,s)=>{u=setTimeout(()=>{o.a.fire({position:"center",imageUrl:t(65),title:"Tidak ada koneksi internet",text:"Silahkan Coba Lagi",confirmButtonText:"Coba Lagi",confirmButtonColor:"#558776",imageWidth:250,imageHeight:250,showConfirmButton:!0,allowOutsideClick:!1}).then(e=>{e.isConfirmed&&window.location.reload()}),s("TIMEOUT")},5e3),l.a.put(c+e,a,n).then(e=>{clearTimeout(u),r(e)}).catch(e=>{l.a.isCancel(e)?(clearTimeout(u),s(e)):/Invalid Token./i.test(e&&e.response&&e.response.data)?(window.location.reload(),localStorage.clear(),localStorage.setItem("islogin","false")):(clearTimeout(u),s(e))})})}function C(e){return!new RegExp("timeout","g").test(e)||(Object(i.e)("info","Koneksi bermasalah.."),!1)}},633:function(e,a,t){e.exports=t.p+"static/media/BackConnection.e461b240.gif"},642:function(e,a,t){},643:function(e,a,t){},644:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(43),o=t.n(r),s=t(34),i=t(16),c=t(655),m=t(663),d=t(656),g=t(657);var p=class extends l.a.Component{constructor(e){super(e),this.toggle=this.toggle.bind(this),this.state={dropdownOpen:!1}}toggle(){this.setState(e=>({dropdownOpen:!e.dropdownOpen}))}render(){return l.a.createElement(c.a,{isOpen:this.state.dropdownOpen,toggle:this.toggle,className:"dropdown navbar-languager",tag:"li"},l.a.createElement(m.a,{className:"dropdown-toggle",tag:"a"},l.a.createElement("span",{className:"flag-icon flag-icon-us m-r-5",title:"us"}),l.a.createElement("span",{className:"name d-none d-sm-inline"},"EN")),l.a.createElement(d.a,{className:"dropdown-menu dropdown-menu-right",tag:"ul"},l.a.createElement(g.a,null,l.a.createElement("span",{className:"flag-icon flag-icon-us m-r-5",title:"us"})," English"),l.a.createElement(g.a,null,l.a.createElement("span",{className:"flag-icon flag-icon-cn m-r-5",title:"cn"})," Chinese"),l.a.createElement(g.a,null,l.a.createElement("span",{className:"flag-icon flag-icon-jp m-r-5",title:"jp"})," Japanese"),l.a.createElement(g.a,null,l.a.createElement("span",{className:"flag-icon flag-icon-be m-r-5",title:"be"})," Belgium"),l.a.createElement(g.a,{divider:!0}),l.a.createElement(g.a,{className:"text-center"},"more options")))}},h=t(45),u=t.n(h),b=t(145),E=t(27),_=t.n(E),A=t(6),k=t(2),S=t(4);const f=()=>{_.a.fire({title:"Konfirmasi Keluar !!",text:"Apakah anda ingin keluar ?",icon:"info",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(e=>{e.isConfirmed&&Object(A.e)("users/logout",{user_id:Object(k.j)().user_id}).then(e=>{window.location.href="/",localStorage.clear(),localStorage.setItem("islogin","false")}).catch(e=>{Object(S.e)("info",void 0===e.response?"Gagal Logout":e.response.data),window.location.reload(),localStorage.clear(),localStorage.setItem("islogin","false")})})};var y=class extends l.a.Component{constructor(e){super(e),this.toggle=this.toggle.bind(this),this.state={dropdownOpen:!1}}toggle(){this.setState(e=>({dropdownOpen:!e.dropdownOpen}))}showModalTutupToko(){var e=(new Date).setDate(new Date(new Date(Object(k.j)().tgl_system)).getDate()+1),a=new Date(e);_.a.fire({html:"<h1><b>Apakah Anda Yakin Ingin  <br/> Menutup Toko</b> ?</h1><br>Dari Tanggal "+Object(k.j)().tgl_system+" Ke "+Object(k.e)(u()(new Date(a)).format("YYYY-MM-DD")),icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(e=>{e.isConfirmed&&Object(A.e)("system/close",{PROSES:"close"}).then(e=>{Object(S.e)("success","Berhasil Menutup Toko"),setTimeout(()=>{window.location.href="/",localStorage.clear(),localStorage.setItem("islogin","false")},1e3)}).catch(e=>{void 0===e.response?Object(S.e)("info",void 0===e.response?"Terjadi Kesalahan Saat Request Data":e.response.data):"Invalid token."===e.response.data?this.handleInvalidToken():Object(S.e)("info",e.response.data)})})}handleInvalidToken(){Object(S.e)("info","Toko Sudah Ditutup Oleh Akun Lain"),setTimeout(()=>{window.location.href="/",localStorage.clear(),localStorage.setItem("islogin","false")},1e3)}render(){return l.a.createElement(c.a,{isOpen:this.state.dropdownOpen,toggle:this.toggle,className:"dropdown navbar-user",tag:"li"},l.a.createElement(m.a,{tag:"a"},l.a.createElement(b.a,{name:Object(k.j)().user_id,size:"30",color:"#00743C",round:"20px"}),l.a.createElement("span",{className:"d-none d-md-inline",style:{cursor:"pointer"}})," ",l.a.createElement("b",{className:"caret"})),l.a.createElement(d.a,{className:"dropdown-menu dropdown-menu-right",tag:"ul"},l.a.createElement(g.a,{onClick:()=>this.showModalTutupToko()},"Tutup Toko"),l.a.createElement("div",{className:"dropdown-divider"}),l.a.createElement(g.a,null,l.a.createElement(i.b,{to:"#",onClick:()=>f()}," ","Logout"," "))))}};var O=class extends l.a.Component{showModalTutupToko(){_.a.fire({html:"<h1><b>Apakah Anda Yakin Ingin  <br/> Menutup Toko</b> ?</h1>",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(e=>{e.isConfirmed&&Object(A.e)("system/close",{PROSES:"close"}).then(e=>{Object(S.e)("success","Berhasil Menutup Toko"),setTimeout(()=>{window.location.reload(),localStorage.clear(),localStorage.setItem("islogin","false")},1e3)}).catch(e=>{Object(S.e)("info","Terjadi Kesalahan Saat Menutup Toko")})})}render(){return l.a.createElement("li",{className:"navbar-form"},l.a.createElement("div",{className:"form-group mt-1"},l.a.createElement("input",{type:"text",readOnly:!0,className:"form-control",placeholder:"Tanggal Sekarang",value:"Tanggal System : "+Object(k.j)().tgl_system}),l.a.createElement("button",{type:"button",className:"btn btn-search"},l.a.createElement("i",{className:"fa fa-calendar-check"}," "))))}};const C="Kota Mas";var N=class extends l.a.Component{constructor(e){super(e),this.toggleMegaMenu=this.toggleMegaMenu.bind(this),this.state={collapseMegaMenu:!1}}toggleMegaMenu(){this.setState({collapseMegaMenu:!this.state.collapseMegaMenu})}render(){return l.a.createElement(s.a.Consumer,null,({toggleMobileSidebar:e,toggleRightSidebar:a,toggleMobileRightSidebar:t,toggleMobileTopMenu:n,pageHeaderLanguageBar:r,pageHeaderMegaMenu:o,pageTwoSidebar:s,pageTopMenu:c,pageSidebar:m})=>l.a.createElement("div",{id:"header",className:"header navbar-default"},l.a.createElement("div",{className:"navbar-header"},s&&l.a.createElement("button",{type:"button",className:"navbar-toggle pull-left",onClick:t},l.a.createElement("span",{className:"icon-bar"}),l.a.createElement("span",{className:"icon-bar"}),l.a.createElement("span",{className:"icon-bar"})),l.a.createElement(i.b,{to:"/",className:"navbar-brand"},l.a.createElement("span",{className:"navbar-logo"})," ",C),o&&l.a.createElement("button",{type:"button",className:"navbar-toggle pt-0 pb-0 mr-0",onClick:this.toggleMegaMenu},l.a.createElement("span",{className:"fa-stack fa-lg text-inverse"},l.a.createElement("i",{className:"far fa-square fa-stack-2x"}),l.a.createElement("i",{className:"fa fa-cog fa-stack-1x"}))),c&&m&&l.a.createElement("button",{type:"button",className:"navbar-toggle pt-0 pb-0 mr-0 collapsed",onClick:n},l.a.createElement("span",{className:"fa-stack fa-lg text-inverse"},l.a.createElement("i",{className:"far fa-square fa-stack-2x"}),l.a.createElement("i",{className:"fa fa-cog fa-stack-1x"}))),!m&&c&&l.a.createElement("button",{type:"button",className:"navbar-toggle",onClick:n},l.a.createElement("span",{className:"icon-bar"}),l.a.createElement("span",{className:"icon-bar"}),l.a.createElement("span",{className:"icon-bar"})),m&&l.a.createElement("button",{type:"button",className:"navbar-toggle",onClick:e},l.a.createElement("span",{className:"icon-bar"}),l.a.createElement("span",{className:"icon-bar"}),l.a.createElement("span",{className:"icon-bar"}))),l.a.createElement("ul",{className:"navbar-nav navbar-right"},l.a.createElement(O,null),r&&l.a.createElement(p,null),l.a.createElement(y,null),s&&l.a.createElement("li",{className:"divider d-none d-md-block"}),s&&l.a.createElement("li",{className:"d-none d-md-block"},l.a.createElement(i.b,{to:"/",onClick:a,className:"f-s-14"},l.a.createElement("i",{className:"fa fa-th"}))))))}},x=t(300),j=t.n(x);var v=class extends l.a.Component{constructor(e){super(e),this.state={profileActive:0},this.handleProfileExpand=this.handleProfileExpand.bind(this)}handleProfileExpand(e){e.preventDefault(),this.setState(e=>({profileActive:!this.state.profileActive}))}render(){return l.a.createElement(s.a.Consumer,null,({pageSidebarMinify:e})=>l.a.createElement("ul",{className:"nav"},l.a.createElement("li",{className:"nav-profile "+(this.state.profileActive?"expand ":"")},l.a.createElement(i.b,{to:"/",onClick:this.handleProfileExpand},l.a.createElement("div",{className:"cover with-shadow"}),l.a.createElement("div",{className:"image"},l.a.createElement(b.a,{name:Object(k.j)().user_id,color:"#00743C",size:"30",round:"50px"})),l.a.createElement("div",{className:"info"},l.a.createElement("small",null,Object(k.j)().user_name))))))}},L=t(38);class T extends l.a.Component{constructor(e){super(e),this.state={active:-1,clicked:-1}}handleExpand(e,a,t){e.preventDefault(),this.setState(e=>({active:this.state.active===a?-1:a,clicked:1}))}render(){var e=this.props.data.icon&&l.a.createElement("i",{className:this.props.data.icon}),a=this.props.data.img&&l.a.createElement("div",{className:"icon-img"},l.a.createElement("img",{src:this.props.data.img,alt:""})),t=this.props.data.children&&!this.props.data.badge&&l.a.createElement("b",{className:"caret"}),n=this.props.data.label&&l.a.createElement("span",{className:"label label-theme m-l-5"},this.props.data.label),r=this.props.data.badge&&l.a.createElement("span",{className:"badge pull-right"},this.props.data.badge),o=this.props.data.title&&l.a.createElement("span",null,this.props.data.title," ",n);return l.a.createElement(s.a.Consumer,null,({handleSidebarOnMouseOver:n,handleSidebarOnMouseOut:s,pageSidebarMinified:c})=>l.a.createElement(L.b,{path:this.props.data.path,exact:this.props.data.exact,children:({match:m})=>l.a.createElement("li",{className:(m?"active ":"")+(this.props.active||-1===this.props.clicked&&m?"expand ":"closed ")+(this.props.data.children?"has-sub ":"")},this.props.data.children?l.a.createElement(i.b,{to:this.props.data.path,onMouseOver:e=>n(e,this.props.data),onMouseOut:e=>s(e,this.props.data),onClick:this.props.expand},t," ",r," ",a," ",e," ",o):l.a.createElement(i.b,{to:this.props.data.path},t," ",a," ",e," ",r," ",o),this.props.data.children&&l.a.createElement("ul",{className:"sub-menu "+((this.props.active||-1===this.props.clicked&&m)&&!c?"d-block ":"d-none")},this.props.data.children&&this.props.data.children.map((e,a)=>l.a.createElement(T,{data:e,key:a,expand:e=>this.handleExpand(e,a,m),active:a===this.state.active,clicked:this.state.clicked}))))}))}}var I=T;var B=[{path:"/dashboard",icon:"fa fa-th",title:"Dashboard"},{path:"#",icon:"fa fa-hdd",title:"Data Master",children:[{path:"/master-group",title:"Master Group"},{path:"/master-jenis",title:"Master Jenis"},{path:"/master-gudang",title:"Master Gudang"},{path:"/master-baki",title:"Master Baki"},{path:"/master-bandrol",title:"Master Bandrol"},{path:"/master-sales",title:"Master Sales"},{path:"/master-kode-transaksi",title:"Master Kode Transaksi"},{path:"/master-kondisi-barang",title:"Master Kondisi Barang"},{path:"/master-kondisi-pembelian",title:"Master Kondisi Pembelian"},{path:"/master-parameter-harga-emas",title:"Parameter Harga Emas"}]},{path:"#",icon:"fa fa-archive",title:"Barang",children:[{path:"/tambah-data-barang",title:"Tambah Data Barang"},{path:"/data-barang",title:"Data Barang"},{path:"/hancur-data-barang",title:"Hancur Data Barang"},{path:"/pindah-barang",title:"Pindah Barang"},{path:"/pindah-barang-satu-baki",title:"Pindah Barang Satu Baki"},{path:"/timbang-baki",title:"Timbang Baki"}]},{path:"#",icon:"fa fa-shopping-cart",title:"Penjualan",children:[{path:"/transaksi-penjualan",title:"Transaksi Penjualan"},{path:"/lihat-penjualan",title:"Lihat Penjualan"},{path:"/batal-penjualan",title:"Batal Penjualan"},{path:"/lihat-titipan",title:"Lihat Titipan"}]},{path:"#",icon:"fa fa-boxes",title:"Pesanan",children:[{path:"/transaksi-pesanan",title:"Transaksi Pesanan"},{path:"/lihat-pesanan",title:"Lihat Pesanan"}]},{path:"#",icon:"fa fa-shopping-bag",title:"Pembelian",children:[{path:"/transaksi-pembelian",title:"Transaksi Pembelian"},{path:"/lihat-pembelian",title:"Lihat Pembelian"}]},{path:"#",icon:'ion ion-md-build fa-2x fa-fw pull-left m-r-10 text-black-lighter"',title:"Service",children:[{path:"/transaksi-services",title:"Transaksi Service"},{path:"/lihat-services",title:"Lihat Services"}]},{path:"#",icon:"fa fa-hand-holding-usd",title:"Hutang",children:[{path:"/transaksi-hutang",title:"Transaksi Hutang"},{path:"/lihat-hutang",title:"Lihat Hutang"}]},{path:"#",icon:"fas fa-money-bill-alt",title:"Uang Kas",children:[{path:"/tambah-uang-kas",title:"Tambah Uang Kas"},{path:"/ambil-uang-kas",title:"Ambil Uang Kas"}]},{path:"#",icon:"fas fa-desktop",title:"Validasi",children:[{path:"/validasi-jual-beli",title:"Validasi"},{path:"/validasi-hutang",title:"Validasi Hutang"}]},{path:"#",icon:"fas fa-folder-open",title:"Laporan",children:[{path:"#",title:"Laporan Barang",children:[{path:"/laporan-barang-detail",title:"Laporan Barang Detail"},{path:"/laporan-tambah-barang",title:"Laporan Tambah Barang"},{path:"/laporan-timbang-baki",title:"Laporan Timbang Baki"},{path:"/laporan-hancur-barang",title:"Laporan Hancur Barang"},{path:"/laporan-pindah-barang",title:"Laporan Pindah Barang"},{path:"/laporan-barang-sumary",title:"Laporan Barang Summary"}]},{path:"#",title:"Laporan Penjualan",children:[{path:"/laporan-transaksi-penjualan",title:"Laporan Transaksi Penjualan"},{path:"/laporan-barang-tukar",title:"Laporan Barang Tukar"},{path:"/laporan-batal-penjualan",title:"Laporan Batal Penjualan"},{path:"/laporan-penjualan-sales",title:"Laporan Penjualan Sales"}]},{path:"#",title:"Laporan Pembelian",children:[{path:"/laporan-transaksi-pembelian",title:"Laporan Transaksi Pembelian"},{path:"/laporan-transaksi-pembelian-history",title:"Laporan History Transaksi Pembelian"},{path:"/laporan-batal-pembelian",title:"Laporan Batal Pembelian"},{path:"/laporan-pembelian-sales",title:"Laporan Pembelian Sales"}]},{path:"#",title:"Laporan Service",children:[{path:"/laporan-services",title:"Laporan Transaksi Service"},{path:"/laporan-batal-service",title:"Laporan Batal Service"},{path:"/laporan-service-ambil",title:"Laporan Service (Ambil)"}]},{path:"#",title:"Laporan Hutang",children:[{path:"/laporan-transaksi-hutang",title:"Laporan Transaksi Hutang"},{path:"/laporan-hutang-lunas",title:"Laporan Hutang Lunas"},{path:"/laporan-batal-hutang",title:"Laporan Batal Hutang"}]},{path:"#",title:"Laporan Keuangan",children:[{path:"/laporan-transaksi-keuangan-cash",title:"Laporan Transaksi Keuangan Cash"},{path:"/laporan-keuangan-non-cash",title:"Laporan Keuangan Non Cash"}]},{path:"/laporan-otorisasi",title:"Laporan Otorisasi"}]},{path:"#",icon:"fas fa-users",title:"Manage Users",children:[{path:"/data-users",title:"Data Users"},{path:"/hak-akses-users",title:"Hak Akses Users"}]},{path:"#",icon:"fas fa-cog",title:"Utility",children:[{path:"/settingsystem",title:"Setting System"},{path:"/cetak-barcode",title:"Cetak Barcode"}]},{path:"/stock-opname",icon:"fas fa-business-time",title:"Stock Opname"}];var D=class extends l.a.Component{constructor(e){super(e),this.state={active:-1,clicked:-1}}handleExpand(e,a,t){e.preventDefault(),-1===this.state.clicked&&t?this.setState(e=>({active:-1,clicked:1})):this.setState(e=>({active:this.state.active===a?-1:a,clicked:1}))}render(){return l.a.createElement("ul",{className:"nav"},l.a.createElement("li",{className:"nav-header"},"Navigation"),B.map((e,a)=>l.a.createElement(L.b,{path:e.path,exact:e.exact,key:a,children:({match:t})=>l.a.createElement(I,{data:e,key:a,expand:e=>this.handleExpand(e,a,t),active:a===this.state.active,clicked:this.state.clicked})})))}};var M=class extends l.a.Component{render(){return l.a.createElement(s.a.Consumer,null,({toggleSidebarMinify:e,toggleMobileSidebar:a,pageSidebarTransparent:t})=>l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"sidebar",className:"sidebar "+(t?"sidebar-transparent":"")},l.a.createElement(j.a,{className:"height-full",options:{suppressScrollX:!0}},l.a.createElement(v,null),l.a.createElement(D,null),l.a.createElement(i.b,{to:"/",className:"sidebar-minify-btn",onClick:e},l.a.createElement("i",{className:"fa fa-angle-double-left"})))),l.a.createElement("div",{className:"sidebar-bg"}),l.a.createElement("div",{className:"sidebar-mobile-dismiss",onClick:a})))}},w=t(301),K=t(658),P=t(659),F=t(660),H=t(661);var R=class extends l.a.Component{constructor(e){super(e),this.state={collapse:[{id:1,collapse:!0},{id:2,collapse:!1},{id:3,collapse:!1},{id:4,collapse:!1},{id:5,collapse:!1},{id:6,collapse:!1},{id:7,collapse:!1}]},this.toggleCollapse=this.toggleCollapse.bind(this)}toggleCollapse(e){var a,t=[],n=Object(w.a)(this.state.collapse);try{for(n.s();!(a=n.n()).done;){let n=a.value;n.id===e?n.collapse=!n.collapse:n.collapse=!1,t.push(n)}}catch(l){n.e(l)}finally{n.f()}this.setState({collapse:t})}render(){return l.a.createElement(s.a.Consumer,null,({pageTwoSidebar:e})=>l.a.createElement(l.a.Fragment,null,e&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"sidebar-right",className:"sidebar sidebar-right"},l.a.createElement("div",{className:"overflow-scroll height-full"},l.a.createElement("ul",{className:"nav"},l.a.createElement("li",{className:"nav-widget p-0"},l.a.createElement("p",{className:"text-white m-0 p-15"},"Accordion"),l.a.createElement("div",{id:"accordion",className:"accordion"},this.state.collapse.map((e,a)=>l.a.createElement(K.a,{className:"bg-dark text-white border-0",key:a},l.a.createElement(P.a,{className:"card-header bg-dark-darker text-white pointer-cursor border-0 "+(e.collapse?"":"collapsed "),onClick:()=>this.toggleCollapse(e.id)},l.a.createElement("i",{className:"fa fa-circle text-teal f-s-8 mr-2"})," Accordion Item #",e.id),l.a.createElement(F.a,{isOpen:e.collapse},l.a.createElement(H.a,{className:"p-15"},"Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus."))))))))),l.a.createElement("div",{className:"sidebar-bg sidebar-right"}))))}};class J extends l.a.Component{constructor(e){super(e),this.state={active:-1},this.handleExpand=this.handleExpand.bind(this)}handleExpand(e,a,t){e.preventDefault(),this.setState(e=>({active:this.state.active===a?-1:a}))}render(){var e=this.props.data.icon&&l.a.createElement("i",{className:this.props.data.icon}),a=this.props.data.img&&l.a.createElement("div",{className:"icon-img"},l.a.createElement("img",{src:this.props.data.img,alt:""})),t=this.props.data.children&&!this.props.data.badge&&l.a.createElement("b",{className:"caret"}),n=this.props.data.label&&l.a.createElement("span",{className:"label label-theme m-l-5"},this.props.data.label),r=this.props.data.badge&&l.a.createElement("span",{className:"badge pull-right"},this.props.data.badge),o=this.props.data.title&&l.a.createElement("span",null,this.props.data.title," ",n);return l.a.createElement(L.b,{path:this.props.data.path,exact:this.props.data.exact,children:({match:n})=>l.a.createElement("li",{className:(n?"active ":"")+(this.props.data.children?"has-sub ":"")},this.props.data.children?l.a.createElement(i.b,{to:this.props.data.path,onClick:this.props.expand},a," ",e," ",o," ",t," ",r):l.a.createElement(i.b,{to:this.props.data.path},a," ",e," ",o," ",t," ",r),this.props.data.children&&l.a.createElement("ul",{className:"sub-menu "+(this.props.active?"d-block":"")},this.props.data.children&&this.props.data.children.map((e,a)=>l.a.createElement(J,{data:e,key:a,expand:e=>this.handleExpand(e,a,n),active:a===this.state.active,clicked:this.state.clicked}))))})}}var z=J;var G=[{path:"/dashboard",icon:"fa fa-th",title:"Dashboard",children:[{path:"/dashboard/v1",title:"Dashboard v1"},{path:"/dashboard/v2",title:"Dashboard v2"}]},{path:"/email",icon:"fa fa-hdd",title:"Email",badge:"10",children:[{path:"/email/inbox",title:"Inbox"},{path:"/email/compose",title:"Compose"},{path:"/email/detail",title:"Detail"}]},{path:"/widgets",icon:"fab fa-simplybuilt",title:"Widgets",label:"NEW"},{path:"/ui",icon:"fa fa-gem",title:"UI Elements",label:"NEW",children:[{path:"/ui/general",title:"General",highlight:!0},{path:"/ui/typography",title:"Typograhy"},{path:"/ui/tabs-accordion",title:"Tabs & Accordion"},{path:"/ui/modal-notification",title:"Modal & Notification"},{path:"/ui/widget-boxes",title:"Widget Boxes"},{path:"/ui/media-object",title:"Media Object"},{path:"/ui/buttons",title:"Buttons",highlight:!0},{path:"/ui/icons",title:"Icons"},{path:"/ui/simple-line-icons",title:"Simple Line Icons"},{path:"/ui/ionicons",title:"Ionicons"},{path:"/ui/language-bar-icon",title:"Language Bar & Icon"},{path:"/ui/social-buttons",title:"Social Buttons"}]},{path:"/bootstrap-4",img:"/assets/img/logo/logo-bs4.png",title:"Bootstrap 4",label:"NEW"},{path:"/form",icon:"fa fa-list-ol",title:"Form Stuff",label:"NEW",children:[{path:"/form/elements",title:"Form Elements",highlight:!0},{path:"/form/plugins",title:"Form Plugins",highlight:!0}]},{path:"/table",icon:"fa fa-table",title:"Tables",children:[{path:"/table/basic",title:"Basic Tables"},{path:"#",title:"Data Tables"}]},{path:"/frontend",icon:"fa fa-star",title:"FrontEnd",children:[{path:"/frontend/one-page-parallax",title:"One Page Parallax"},{path:"/frontend/blog",title:"Blog"},{path:"/frontend/forum",title:"Forum"},{path:"/frontend/e-commerce",title:"E-Commerce"}]},{path:"/email-template",icon:"fa fa-envelope",title:"Email Template",children:[{path:"/email-template/system",title:"System Template"},{path:"/email-template/newsletter",title:"Newsletter Template"}]},{path:"/chart",icon:"fa fa-chart-pie",title:"Chart",children:[{path:"/chart/js",title:"Chart JS"},{path:"/chart/d3",title:"d3 Chart"}]},{path:"/calendar",icon:"fa fa-calendar",title:"Calendar"},{path:"/map",icon:"fa fa-map",title:"Map"},{path:"/gallery",icon:"fa fa-image",title:"Gallery"},{path:"/page-option",icon:"fa fa-cogs",title:"Page Options",children:[{path:"/page-option/blank",title:"Blank Page"},{path:"/page-option/with-footer",title:"Page with Footer"},{path:"/page-option/without-sidebar",title:"Page without Sidebar"},{path:"/page-option/with-right-sidebar",title:"Page with Right Sidebar"},{path:"/page-option/with-minified-sidebar",title:"Page with Minified Sidebar"},{path:"/page-option/with-two-sidebar",title:"Page with Two Sidebar"},{path:"/page-option/full-height",title:"Full Height Content"},{path:"/page-option/with-wide-sidebar",title:"Page with Wide Sidebar"},{path:"/page-option/with-light-sidebar",title:"Page with Light Sidebar"},{path:"/page-option/with-mega-menu",title:"Page with Mega Menu"},{path:"/page-option/with-top-menu",title:"Page with Top Menu"},{path:"/page-option/with-boxed-layout",title:"Page with Boxed Layout"},{path:"/page-option/with-mixed-menu",title:"Page with Mixed Menu"},{path:"/page-option/boxed-layout-with-mixed-menu",title:"Boxed Layout with Mixed Menu"},{path:"/page-option/with-transparent-sidebar",title:"Page with Transparent Sidebar"}]},{path:"/extra",icon:"fa fa-gift",title:"Extra",children:[{path:"/extra/timeline",title:"Timeline"},{path:"/extra/coming-soon",title:"Coming Soon Page"},{path:"/extra/search",title:"Search Results"},{path:"/extra/invoice",title:"Invoice"},{path:"/extra/error",title:"404 Error Page"},{path:"/extra/profile",title:"Profile Page"}]},{path:"/user",icon:"fa fa-key",title:"Login & Register",children:[{path:"/user/login-v1",title:"Login"},{path:"/user/login-v2",title:"Login v2"},{path:"/user/login-v3",title:"Login v3"},{path:"/user/register-v3",title:"Register v3"}]},{path:"/version",icon:"fa fa-cubes",title:"Version",label:"NEW",children:[{path:"/version/html",title:"HTML"},{path:"/version/ajax",title:"AJAX"},{path:"/version/angularjs",title:"ANGULAR JS"},{path:"/version/angularjs8",title:"ANGULAR JS 8",highlight:!0},{path:"/version/laravel",title:"LARAVEL",highlight:!0},{path:"/version/material",title:"MATERIAL DESIGN"},{path:"/version/apple",title:"APPLE DESIGN"},{path:"/version/transparent",title:"Transparent Design",highlight:!0}]},{path:"/helper",icon:"fa fa-medkit",title:"Helper",children:[{path:"/helper/css",title:"Predefined CSS Classes"}]},{path:"/menu",icon:"fa fa-align-left",title:"Menu Level",children:[{path:"/menu/menu-1-1",title:"Menu 1.1",children:[{path:"/menu/menu-1-1/menu-2-1",title:"Menu 2.1",children:[{path:"/menu/menu-1-1/menu-2-1/menu-3-1",title:"Menu 3.1"},{path:"/menu/menu-1-1/menu-2-1/menu-3-2",title:"Menu 3.2"}]},{path:"/menu/menu-1-1/menu-2-2",title:"Menu 2.2"},{path:"/menu/menu-1-1/menu-2-3",title:"Menu 2.3"}]},{path:"/menu/menu-1-2",title:"Menu 1.2"},{path:"/menu/menu-1-3",title:"Menu 1.3"}]}];var U=class extends l.a.Component{constructor(e){super(e),this.state={active:-1,controlLeft:!1,controlRight:!1,marginLeft:0,marginRight:0,navWidth:0},this.topMenu=l.a.createRef(),this.handleExpand=this.handleExpand.bind(this),this.controlLeft=this.controlLeft.bind(this),this.controlRight=this.controlRight.bind(this)}componentDidMount(){var e=this.topMenu.current.offsetWidth-128,a=0,t=0,n=!1;if(document.querySelectorAll(".top-menu .nav > li").forEach(function(e){a+=e.offsetWidth,t+=n?0:e.offsetWidth,n=!!e.classList.contains("active")||n}),(t=n?t:0)>=e){var l,r,o=t-e+128;document.body.classList.contains("rtl-mode")?(r=o,l=0):(l=o,r=0),this.setState(e=>({marginLeft:l,marginRight:r}))}this.setState(n=>({navWidth:a,controlLeft:t>=e&&a>=e,controlRight:t!==a&&a>=e}))}handleExpand(e,a,t){e.preventDefault(),this.setState(e=>({active:this.state.active===a?-1:a}))}controlRight(e){e.preventDefault();var a=document.querySelector(".top-menu").offsetWidth-88,t=this.state.navWidth+-this.state.marginLeft-a,n=0;t<=a?(n=t- -this.state.marginLeft+128,this.setState(e=>({controlRight:!1}))):n=a- -this.state.marginLeft-128,0!==n&&(document.body.classList.contains("rtl-mode")?this.setState(e=>({marginLeft:0,marginRight:n})):this.setState(e=>({marginRight:0,marginLeft:n})),this.setState(e=>({controlLeft:!0})))}controlLeft(e){e.preventDefault();var a=this.state.marginLeft,t=document.querySelector(".top-menu").offsetWidth,n=0;a<=t?(n=0,this.setState(e=>({controlLeft:!1}))):(n=a-t-88,this.setState(e=>({controlLeft:!0}))),document.body.classList.contains("rtl-mode")?this.setState(e=>({marginLeft:0,marginRight:n,controlRight:!0})):this.setState(e=>({marginLeft:n,marginRight:0,controlRight:!0}))}render(){return l.a.createElement("ul",{ref:this.topMenu,className:"nav",style:{marginLeft:"-"+this.state.marginLeft+"px",marginRight:"-"+this.state.marginRight+"px"}},G.map((e,a)=>l.a.createElement(L.b,{path:e.path,exact:e.exact,key:a,children:({match:t})=>l.a.createElement(z,{data:e,key:a,expand:e=>this.handleExpand(e,a,t),active:a===this.state.active,clicked:this.state.clicked})})),l.a.createElement("li",{className:"menu-control menu-control-left "+(this.state.controlLeft?"show":"")},l.a.createElement(i.b,{to:"/",onClick:this.controlLeft},l.a.createElement("i",{className:"fa fa-angle-left"}))),l.a.createElement("li",{className:"menu-control menu-control-right "+(this.state.controlRight?"show":"")},l.a.createElement(i.b,{to:"/",onClick:this.controlRight},l.a.createElement("i",{className:"fa fa-angle-right"}))))}};var Y=class extends l.a.Component{render(){return l.a.createElement(s.a.Consumer,null,({pageMobileTopMenu:e})=>l.a.createElement("div",{id:"top-menu",className:"top-menu "+(e?"d-block ":"")},l.a.createElement(U,null)))}},V=t(91),W=t.n(V),Q=t(11),X=t(7),q=t(9),Z=t(14),$=t(18),ee=t(290),ae=t(291),te=t(5),ne=t(41),le=t(15),re=t.n(le);const oe=Object(ne.createNumberMask)({prefix:"Rp. ",locale:"kr-KO"});class se extends n.Component{constructor(...e){super(...e),this.state={aktif:!1}}componentDidMount(){this.props.dispatch(Object(X.t)()),setTimeout(()=>{document.getElementById("harga").focus()},100)}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off",onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()}},l.a.createElement(ee.a,{label:"Kode Group",name:"kode_group",options:this.props.datagroup.filter(e=>void 0!==e.kode_group).map(e=>{return{value:e.kode_group,name:e.kode_group+" - "+e.nama_group}}),value:this.props.kode_group,disabled:this.props.isEdit,placeholder:"Silahkan Pilih Kode Group",component:te.f}),l.a.createElement(ee.a,Object.assign({id:"harga",name:"harga",tabIndex:"1"},oe,{component:te.e,type:"text",label:"Jumlah Harga",onBlur:()=>this.setState({aktif:!0}),placeholder:"Masukan Jumlah Harga"})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 text-right"},l.a.createElement("button",{className:"btn btn-white",onClick:()=>this.props.dispatch(Object(X.wb)()),type:"button"},"Batal"),"\xa0",l.a.createElement("button",{tabIndex:"2",className:this.state.aktif?"btn btn-primary":"btn btn-white",disabled:this.props.isLoading,type:"submit"},this.props.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))),this.props.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}se=Object(ae.a)({form:"HeadHargaEmas",enableReinitialize:!0})(se);var ie=Object(q.b)(e=>{if(null!==e.datamaster.ShowModalParameterHargaEmas)return{datagroup:e.datamaster.GetDataGroup,initialValues:{kode_group:e.datamaster.ShowModalParameterHargaEmas.kode_group,harga:e.datamaster.ShowModalParameterHargaEmas.harga}}},null)(se),ce=t(39);var me=Object(q.b)(e=>({ParameterHargaEmas:e.datamaster.getParameterHargaEmas,hideModal:e.datamaster.modalDialog}),null)(class extends l.a.Component{constructor(e){super(e),this.state={isEdit:!1,modalDialog:!1,isLoading:!1,columns:[{dataField:"kode_group",text:"Kode Group",sort:!0},{dataField:"nama_group",text:"Nama Group"},{dataField:"harga",text:"Harga",formatter:e=>l.a.createElement("span",null,parseFloat(e).toLocaleString("kr-KO"))},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(e,a)=>{let t={kode_group:a.kode_group,harga:a.harga};return l.a.createElement("div",{className:"row text-center"},l.a.createElement("div",{className:"col-12"},l.a.createElement("button",{onClick:()=>this.formEditParameterHargaEmas(t),className:"btn btn-primary mr-3"}," ",l.a.createElement("i",{className:"fa fa-edit"}))))}}]},this.handleSubmit=this.handleSubmit.bind(this)}componentDidMount(){this.props.dispatch(Object(X.sb)())}handleSubmit(e){this.setState({isLoading:!0});let a={kode_group:e.kode_group,harga:e.harga};Object(A.g)("paraemas/edit/by-kode-group",a).then(()=>{this.props.dispatch(Object(X.wb)())}).then(()=>{Object(S.e)("success","Data Berhasil Diedit")}).then(()=>{this.props.dispatch(Object(X.sb)())}).then(()=>{this.setState({isLoading:!1})}).then(()=>{this.props.dispatch(Object(Z.d)("HeadHargaEmas"))}).catch(t=>{Object(k.a)(t,"sales/reactive/by-kode-sales/",e.kode_sales,a,this.props.dispatch,Object(X.sb)(),Object(X.wb)(),"HeadHargaEmas").then(()=>{this.setState({isLoading:!1})})})}formEditParameterHargaEmas(e){this.props.dispatch(Object(X.xb)()),this.props.dispatch(Object(X.ab)(e)),this.setState({isEdit:!0})}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Data Master")),l.a.createElement("li",{className:"breadcrumb-item active"},"Parameter Harga Emas")),l.a.createElement("h1",{className:"page-header"},"Parameter Harga Emas "),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"Parameter Harga Emas"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement($.a,{keyField:"kode_group",exportCsv:!0,data:this.props.ParameterHargaEmas,columns:this.state.columns,empty:this.props.ParameterHargaEmas,textEmpty:"Parameter Harga Emas Kosong"})),l.a.createElement("br",null),l.a.createElement(ce.a,{size:"P",title:this.state.isEdit?"Edit Parameter Harga Emas":"Tambah Parameter Harga Emas",content:l.a.createElement(ie,{isLoading:this.state.isLoading,isEdit:this.state.isEdit,onSubmit:e=>this.handleSubmit(e)})})))}});var de=(e,a)=>{const t={};return e.kode_group||(t.kode_group="Kode Group Tidak Boleh Kosong"),e.berat||(t.berat="Berat Tidak Boleh Kosong"),t};class ge extends n.Component{constructor(...e){super(...e),this.state={aktif:!1}}componentDidMount(){this.props.dispatch(Object(X.t)()),setTimeout(()=>{this.props.isEdit?document.getElementById("berat").focus():document.getElementById("kode_group").focus()},100)}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off",onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement(ee.a,{id:"kode_group",label:"Kode Group",name:"kode_group",options:this.props.datagroup.filter(e=>void 0!==e.kode_group).map(e=>{return{value:e.kode_group,name:e.kode_group+" - "+e.nama_group}}),value:this.props.kode_group,disabled:this.props.isEdit,placeholder:"Silahkan Pilih Kode Group",component:te.f})),l.a.createElement("div",{className:"col-6"},l.a.createElement(ee.a,{id:"berat",name:"berat",component:te.e,type:"number",label:"Berat",placeholder:"Masukan Berat",onBlur:()=>this.setState({aktif:!0})})),l.a.createElement("div",{className:"col-12 text-right"},"\xa0",l.a.createElement("button",{className:"btn btn-white",onClick:()=>this.props.dispatch(Object(X.wb)()),type:"button",disabled:this.props.isLoading},"Batal"),"\xa0",l.a.createElement("button",{className:this.state.aktif?"btn btn-primary":"btn btn-white",disabled:this.props.isLoading,type:"submit"},this.props.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))),this.props.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}ge=Object(ae.a)({form:"ModalParamterPoint",enableReinitialize:!0,validate:de})(ge);var pe=Object(q.b)(e=>{if(null!==e.datamaster.ShowModalParameterPoint)return{datagroup:e.datamaster.GetDataGroup,initialValues:{kode_group:e.datamaster.ShowModalParameterPoint.kode_group,berat:e.datamaster.ShowModalParameterPoint.berat}}},null)(ge);var he=Object(q.b)(e=>({ParameterPoint:e.datamaster.getParameterPoint,hideModal:e.datamaster.modalDialog}),null)(class extends l.a.Component{constructor(e){super(e),this.state={isEdit:!1,modalDialog:!1,isLoading:!1,columns:[{dataField:"kode_group",text:"Kode Group",sort:!0},{dataField:"berat",text:"Berat"},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(e,a)=>{let t={kode_group:a.kode_group,berat:a.berat};return l.a.createElement("div",{className:"row text-center"},l.a.createElement("div",{className:"col-12"},l.a.createElement("button",{onClick:()=>this.formEditParameterPoint(t),className:"btn btn-primary mr-3"}," ",l.a.createElement("i",{className:"fa fa-edit"}))))}}]},this.handleSubmit=this.handleSubmit.bind(this)}componentDidMount(){this.props.dispatch(Object(X.tb)())}handleSubmit(e){this.setState({isLoading:!0});let a={kode_group:e.kode_group,berat:e.berat};this.state.isEdit?Object(A.g)("parapoin/edit/by-kode-group/",a).then(()=>{this.props.dispatch(Object(X.wb)())}).then(()=>{Object(S.e)("success","Data Berhasil Diedit")}).then(()=>{this.props.dispatch(Object(X.tb)())}).then(()=>{this.setState({isLoading:!1})}).then(()=>{this.props.dispatch(Object(Z.d)("ModalParamterPoint"))}).catch(e=>{Object(S.e)("info","Terjadi Kesalahan Saat Menyimpan Data")}):Object(A.e)("parapoin/add",a).then(()=>{this.props.dispatch(Object(X.wb)())}).then(()=>{Object(S.e)("success","Data Berhasil Simpan")}).then(()=>{this.props.dispatch(Object(X.tb)())}).then(()=>{this.props.dispatch(Object(Z.d)("ModalParamterPoint"))}).then(()=>{this.setState({isLoading:!1})}).catch(t=>Object(k.a)(t,"sales/reactive/by-kode-sales/",e.kode_sales,a,this.props.dispatch,Object(X.tb)(),Object(X.wb)(),"ModalParamterPoint").then(()=>{this.setState({isLoading:!1})}))}formEditParameterPoint(e){this.props.dispatch(Object(X.xb)()),this.props.dispatch(Object(X.bb)(e)),this.setState({isEdit:!0})}showModalSales(){this.props.dispatch(Object(X.xb)()),this.props.dispatch(Object(X.bb)(!1)),this.setState({isEdit:!1})}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Data Master")),l.a.createElement("li",{className:"breadcrumb-item active"},"Parameter Point")),l.a.createElement("h1",{className:"page-header"},"Parameter Point "),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"Parameter Point"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement($.a,{keyField:"kode_group",tambahData:!0,handleClick:()=>this.showModalSales(),exportCsv:!0,data:this.props.ParameterPoint,columns:this.state.columns,empty:this.props.ParameterPoint,textEmpty:"Parameter Point Kosong"})),l.a.createElement("br",null),l.a.createElement(ce.a,{size:"P",title:this.state.isEdit?"Edit Parameter Point":"Tambah Parameter Point",content:l.a.createElement(pe,{isLoading:this.state.isLoading,isEdit:this.state.isEdit,onSubmit:e=>this.handleSubmit(e)})})))}});const ue=e=>a=>{a({type:"SET_HUTANG",payload:{data:e}})},be=e=>a=>{a({type:"SHOW_MODAL_LIHAT_HUTANG",payload:{data:e}})},Ee=e=>a=>{a({type:"GET_VALIDASI_HUTANG",payload:{data:e}})},_e=e=>a=>{a({type:"SAVE_VALIDASI_JUAL",payload:{data:e}})},Ae=e=>a=>{a({type:"SAVE_VALIDASI_PESANAN",payload:{data:e}})},ke=e=>a=>{a({type:"SAVE_VALIDASI_BELi",payload:{data:e}})},Se=e=>a=>{a({type:"SAVE_VALIDASI_TITIPAN",payload:{data:e}})},fe=e=>a=>{a({type:"DISABLE_BUTTON_VALIDASI",payload:{data:e}})};var ye=t(293),Oe=t(47),Ce=t(42);const Ne=Object(ne.createNumberMask)({prefix:"Rp. ",locale:"kr-KO"}),xe=[{value:"CASH",name:"CASH"}];class je extends n.Component{constructor(...e){super(...e),this.state={}}componentDidMount(){let e=JSON.parse(localStorage.getItem("jml_byar_pelunasan_hutang"));this.props.change("grand_total_pembayaran",e),this.props.change("jenis","CASH"),setTimeout(()=>{document.getElementById("cash_trx_hutang").focus()},100)}hitungTotal(){this.props.change("kembali",this.props.kembali)}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},l.a.createElement(ee.a,Object.assign({name:"grand_total_pembayaran",component:te.e,type:"text",onChange:this.hitungTotal(),readOnly:!0},Ne,{label:"Grand Total Pembayaran",placeholder:"Masukan Grand Total"})),l.a.createElement(ee.a,{name:"jenis",label:"Pilih Jenis Bayar",placeholder:"Pilih Jenis Pembayaran",options:xe,component:te.f}),l.a.createElement(ee.a,Object.assign({tabIndex:"1",name:"cash",id:"cash_trx_hutang",component:te.e,type:"text",label:"Cash",onChange:this.hitungTotal()},Ne,{normalize:Oe.c,placeholder:"Masukan Total Pembayaran"})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"}),l.a.createElement("div",{className:"col-6"},l.a.createElement("button",{tabIndex:"2",className:"btn btn-primary btn-block",disabled:this.props.isLoadingPembayaran,type:"submit"},this.props.isLoadingPembayaran?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Diproses"):"Bayar Sekarang"))),this.props.isLoadingPembayaran?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}je=Object(ae.a)({form:"ModalPembayaran",enableReinitialize:!0,validate:Ce.a})(je);const ve=Object(ye.a)("ModalPembayaran");var Le=Object(q.b)(e=>{const a=ve(e,"grand_total_pembayaran","cash"),t=a.grand_total_pembayaran,n=a.cash;return{kembali:(parseFloat(n||0)-parseFloat(t||0)).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}})(je);class Te extends n.Component{constructor(e){super(e),this.state={isLoadingDataCustomer:!1,isLoadingBatal:!1,isLoadingHutang:!1,FormModal:""},this.setStartDate=this.setStartDate.bind(this),this.setLastDate=this.setLastDate.bind(this)}componentDidMount(){}setStartDate(e){this.setState({tgl_awal:new Date(e)})}setLastDate(e){this.setState({tgl_akhir:new Date(e)})}render(){return l.a.createElement(Q.a,null,l.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(ee.a,{name:"tgl_awal",component:te.c,label:"Tanggal Dari",type:"text",selected:this.state.tgl_awal,onChange:e=>this.setStartDate(e),placeholder:"Masukan Tanggal Dari"})),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(ee.a,{name:"tgl_akhir",component:te.c,type:"text",selected:this.state.tgl_akhir,onChange:e=>this.setLastDate(e),label:"Tanggal Akhir",placeholder:"Masukan Tanggal Akhir"})),l.a.createElement("div",{className:"col-4"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"\xa0"),l.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.props.isloading,type:"submit"},this.props.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Mencari"):"Cari Hutang")))),this.props.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null))}}Te=Object(ae.a)({form:"HeadLihatHutang",enableReinitialize:!0})(Te);var Ie=Object(q.b)(e=>({initialValues:{tgl_awal:Object(k.h)(),tgl_akhir:Object(k.h)()}}))(Te);var Be=e=>{const a={};return e.tgl_selesai||(a.tgl_selesai="Tanggal Selesai Tidak Boleh Kosong"),e.tgl_ambil||(a.tgl_ambil="Tanggal Tidak Boleh Kosong"),a};const De=Object(ne.createNumberMask)({prefix:"Rp. ",locale:"kr-KO"});class Me extends n.Component{constructor(e){super(e),this.state={date:new Date("Y-m-d"),columns:[{dataField:"nama_barang",text:"Nama Barang",footer:""},{dataField:"berat",text:"Berat",formatter:e=>l.a.createElement("span",null,parseFloat(e).toFixed(1)),footer:e=>parseFloat(e.reduce((e,a)=>e+a,0)).toFixed(1)},{dataField:"jumlah",text:"Jumlah",formatter:e=>l.a.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")}]}}getTotalAll(){let e=JSON.parse(localStorage.getItem("total_rp_service_ambil"))||[],a=0;return e.forEach((e,t)=>{a+=e.jml}),parseInt(a).toLocaleString("kr-KO")}getTotal(e){let a=JSON.parse(localStorage.getItem("total_rp_service_ambil"))||[],t={jml:parseInt(this.props.detail_barang[e].ongkos*this.props.detail_barang[e].jumlah)};return a.push(t),localStorage.setItem("total_rp_service_ambil",JSON.stringify(a)),parseInt(this.props.detail_barang[e].ongkos*this.props.detail_barang[e].jumlah).toLocaleString("kr-KO")}hidtungDenda(){this.props.change("jumlah_bayar",this.props.jumlah_bayar)}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{id:"tgl_system",name:"tgl_system",component:te.b,type:"hidden",readOnly:!0}),l.a.createElement(ee.a,{id:"no_faktur_hutang",name:"no_faktur_hutang",component:te.b,type:"hidden",readOnly:!0}),l.a.createElement(ee.a,{name:"nama_customer",component:te.e,type:"text",readOnly:!0,label:"Nama Customer",placeholder:"Masukan Nama Cistomer"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"alamat_customer",component:te.e,type:"text",readOnly:!0,label:"Alamat Customer",placeholder:"Masukan Alamat Cistomer"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"no_hp",component:te.e,type:"text",readOnly:!0,label:"No Hp",placeholder:"Masukan No Hp"})),l.a.createElement("div",{className:"col-4 d-none"},l.a.createElement(ee.a,{id:"tgl_lunas_hutang",onChange:this.hidtungDenda(),name:"tgl_lunas_hutang",component:te.e,type:"date",label:"Tanggal Lunas Hutang"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{id:"total_hutang",name:"total_hutang",component:te.e,type:"text",label:"Hutang Pokok",readOnly:!0})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{id:"bunga",name:"bunga",component:te.e,type:"text",label:"Bunga",readOnly:!0})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"lama_pinjam",component:te.e,type:"text",readOnly:!0,label:"Lama Hari"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"tgl_tempo",component:te.e,type:"text",readOnly:!0,label:"Tanggal Jatuh Tempo"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,Object.assign({id:"jumlah_bayar_pelunasan_hutang",name:"jumlah_bayar",component:te.e,type:"telp",readOnly:!0},De,{label:"Sisa Hutang + Bunga"}))),l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null," \xa0"),l.a.createElement("button",{type:"button",onClick:()=>this.props.showModalPembayaran(),className:"btn btn-success btn-block"},"Pelunasan Hutang")),l.a.createElement("div",{className:"col-12"},l.a.createElement($.a,{keyField:"nama_barang",exportCsv:!1,data:this.props.detail_barang,columns:this.state.columns,pagination:"off",empty:!0,textEmpty:"Data Barang Kosong"})),l.a.createElement("div",{className:"col-3"},l.a.createElement("button",{type:"button",onClick:this.props.back,className:"btn btn-primary btn-block"},l.a.createElement("i",{className:"fa fa-arrow-left"})," Kembali"))),l.a.createElement("br",null))}}Me=Object(ae.a)({form:"pelunasanTransaksiHutang",enableReinitialize:!0,validate:Be})(Me);var we=Object(q.b)(e=>(localStorage.setItem("jml_byar_pelunasan_hutang",JSON.stringify(e.hutang.showModalLihatHutang.jumlah_bayar)),{detail_barang:e.hutang.showModalLihatHutang.detail_barang,jumlah_bayar:e.hutang.showModalLihatHutang.jumlah_bayar,lama_pinjam:e.hutang.showModalLihatHutang.lama_pinjam,initialValues:{tgl_lunas_hutang:Object(k.i)(),tgl_system:e.hutang.showModalLihatHutang.tgl_system,no_faktur_hutang:e.hutang.showModalLihatHutang.no_faktur_hutang,lama_pinjam:e.hutang.showModalLihatHutang.lama_hari,tgl_tempo:e.hutang.showModalLihatHutang.tgl_tempo,no_hp:e.hutang.showModalLihatHutang.no_hp,nama_customer:e.hutang.showModalLihatHutang.nama_customer,alamat_customer:e.hutang.showModalLihatHutang.alamat_customer,total_hutang:parseInt(e.hutang.showModalLihatHutang.jumlah_hutang).toLocaleString("kr-KO"),bunga:e.hutang.showModalLihatHutang.bunga}}))(Me);const Ke=Object(ne.createNumberMask)({prefix:"Rp. ",locale:"kr-KO"});class Pe extends n.Component{constructor(e){super(e),this.state={date:new Date("Y-m-d"),columns:[{dataField:"nama_barang",text:"Nama Barang",footer:""},{dataField:"berat",text:"Berat",formatter:e=>l.a.createElement("span",null,parseFloat(e).toFixed(1)),footer:e=>parseFloat(e.reduce((e,a)=>e+a,0)).toFixed(1)},{dataField:"jumlah",text:"Jumlah",formatter:e=>l.a.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")}]}}getTotalAll(){let e=JSON.parse(localStorage.getItem("total_rp_service_ambil"))||[],a=0;return e.forEach((e,t)=>{a+=e.jml}),parseInt(a).toLocaleString("kr-KO")}getTotal(e){let a=JSON.parse(localStorage.getItem("total_rp_service_ambil"))||[],t={jml:parseInt(this.props.detail_barang[e].ongkos*this.props.detail_barang[e].jumlah)};return a.push(t),localStorage.setItem("total_rp_service_ambil",JSON.stringify(a)),parseInt(this.props.detail_barang[e].ongkos*this.props.detail_barang[e].jumlah).toLocaleString("kr-KO")}hidtungDenda(){this.props.change("jumlah_bayar",this.props.jumlah_bayar)}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{id:"tgl_system",name:"tgl_system",component:te.b,type:"hidden",readOnly:!0}),l.a.createElement(ee.a,{id:"no_faktur_hutang",name:"no_faktur_hutang",component:te.b,type:"hidden",readOnly:!0}),l.a.createElement(ee.a,{name:"nama_customer",component:te.e,type:"text",readOnly:!0,label:"Nama Customer",placeholder:"Masukan Nama Cistomer"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"alamat_customer",component:te.e,type:"text",readOnly:!0,label:"Alamat Customer",placeholder:"Masukan Alamat Cistomer"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"no_hp",component:te.e,type:"text",readOnly:!0,label:"No Hp",placeholder:"Masukan No Hp"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{onChange:this.hidtungDenda(),name:"tgl_lunas_hutang",component:te.e,type:"date",readOnly:!0,label:"Tanggal Lunas Hutang"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{id:"total_hutang",name:"total_hutang",component:te.e,type:"text",label:"Hutang Poko",readOnly:!0})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{id:"bunga",name:"bunga",component:te.e,type:"text",label:"Bunga",readOnly:!0})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"lama_pinjam",component:te.e,type:"text",readOnly:!0,label:"Lama Hari"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"tgl_tempo",component:te.e,type:"text",readOnly:!0,label:"Tanggal Jatuh Tempo"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,Object.assign({id:"jumlah_bayar_pelunasan_hutang",name:"jumlah_bayar",component:te.e,type:"telp",readOnly:!0},Ke,{label:"Jumlah Bayar"}))),l.a.createElement("div",{className:"col-12"},l.a.createElement($.a,{keyField:"nama_barang",exportCsv:!1,data:this.props.detail_barang,columns:this.state.columns,pagination:"off",empty:!0,textEmpty:"Data Barang Kosong"})),l.a.createElement("div",{className:"col-3"},l.a.createElement("button",{type:"button",onClick:this.props.back,className:"btn btn-primary btn-block"},l.a.createElement("i",{className:"fa fa-arrow-left"})," Kembali")),l.a.createElement("div",{className:"col-9"},l.a.createElement("button",{tabIndex:"2",className:"btn btn-success btn-block",disabled:this.props.isloadingBtl,type:"submit"},this.props.isloadingBtl?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Batal Hutang"):"Batal Hutang"))),l.a.createElement("br",null),this.props.isloadingBtl?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}Pe=Object(ae.a)({form:"pelunasanTransaksiHutang",enableReinitialize:!0,validate:Be})(Pe);var Fe=Object(q.b)(e=>{const a=Object(ye.a)("pelunasanTransaksiHutang");let t=new Date(a(e,"tgl_lunas_hutang")),n=new Date(e.hutang.showModalLihatHutang.tgl_system),l=(t.getTime()-n.getTime())/864e5,r=parseFloat(e.hutang.showModalLihatHutang.bunga||0)/parseFloat(100)*parseFloat(e.hutang.showModalLihatHutang.jumlah_hutang||0)*(parseFloat(l||0)/parseFloat(30)),o=parseInt(e.hutang.showModalLihatHutang.jumlah_hutang)+parseInt(r);return localStorage.setItem("jml_byar_pelunasan_hutang",JSON.stringify(o)),{detail_barang:e.hutang.showModalLihatHutang.detail_barang,jumlah_bayar:o,initialValues:{tgl_lunas_hutang:Object(k.i)(),tgl_system:e.hutang.showModalLihatHutang.tgl_system,no_faktur_hutang:e.hutang.showModalLihatHutang.no_faktur_hutang,lama_pinjam:e.hutang.showModalLihatHutang.lama_pinjam,tgl_tempo:e.hutang.showModalLihatHutang.tgl_tempo,no_hp:e.hutang.showModalLihatHutang.no_hp,nama_customer:e.hutang.showModalLihatHutang.nama_customer,alamat_customer:e.hutang.showModalLihatHutang.alamat_customer,total_hutang:parseInt(e.hutang.showModalLihatHutang.jumlah_hutang).toLocaleString("kr-KO"),bunga:e.hutang.showModalLihatHutang.bunga}}})(Pe),He=t(21);var Re=Object(q.b)(null)(class extends l.a.Component{constructor(e){super(e),this.state={isLoading:!1,datahutang:[],isLoadingPembayaran:!1,isloadingBtl:!1,formPelunasan:"LIHATHUTANG",columns:[{dataField:"no_faktur_hutang",text:"No Faktur",footerAttrs:{colSpan:"3"},footer:""},{dataField:"tgl_hutang",text:"Tanggal Hutang"},{dataField:"nama_customer",text:"Nama Customer"},{dataField:"jumlah_hutang",text:"Jumlah Hutang",formatter:e=>l.a.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(e,a,t)=>l.a.createElement("div",{className:"row text-center"},l.a.createElement("div",{className:"col-12"},Object(k.j)().tgl_system===a.tgl_system?l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{type:"button","data-tooltip":"Batal Hutang",onClick:()=>this.getDetailHutang(a),className:"btn btn-danger mr-3"},l.a.createElement("i",{"data-tip":"Batal Hutang",className:"fa fa-window-close"}))):null,l.a.createElement("button",{type:"button","data-tooltip":"Pelunasan Hutang",onClick:()=>this.showModalLihatHutang(a),className:"btn btn-success mr-3"},l.a.createElement("i",{"data-tip":"Pelunasan Hutang",className:"fa fa-calendar-check"})))),footer:""}]}}showModalLihatHutang(e){this.setState({formPelunasan:"PELUNASANHUTANG"}),this.props.dispatch(be(e))}getDetailHutang(e){this.setState({formPelunasan:"BATALHUTANG"}),this.props.dispatch(be(e))}cariHutang(e){let a={tgl_awal:Object(k.e)(He(new Date(e.tgl_awal)).format("YYYY-MM-DD")),tgl_akhir:Object(k.e)(He(new Date(e.tgl_akhir)).format("YYYY-MM-DD"))};this.setState({isLoading:!0}),Object(A.e)("hutang/get/by-tanggal",a).then(e=>{if(0===e.data.length)return this.setState({isLoading:!1,datahutang:[]}),Object(S.e)("info","Data Yang Anda Cari Tidak Ada"),!1;Object(S.e)("success","Data Hutang Tersedia"),this.setState({datahutang:e.data,isLoading:!1})}).catch(e=>{this.setState({isLoading:!1,datahutang:[]}),Object(S.e)("info","Data Yang Anda Cari Tidak Ada")})}back(){this.setState({formPelunasan:"LIHATHUTANG"})}showModalPembayaran(){this.props.dispatch(Object(X.xb)())}simpanPembayaran(e){let a=document.getElementById("no_faktur_hutang").value,t={jenis:e.jenis,jumlah_rp:parseInt(e.cash)};if(parseInt(e.cash)!==parseInt(e.grand_total_pembayaran))_.a.fire({position:"center",icon:"warning",title:"Anda yakin ingin membayar Rp.".concat(parseInt(e.cash).toLocaleString("kr-KO")),showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"YAKIN",confirmButtonColor:"success"}).then(n=>{if(!n.isConfirmed)return!1;{let n={no_faktur_hutang:a,tgl_lunas:document.getElementById("tgl_lunas_hutang").value,jumlah_bayar:parseInt(e.cash),pembayaran:[t]};this.setState({isLoadingPembayaran:!0}),Object(A.e)("hutang/hutanglunas",n).then(e=>{this.setState({isLoadingPembayaran:!1,formPelunasan:"LIHATHUTANG",datahutang:[]}),this.props.dispatch(Object(X.wb)()),localStorage.removeItem("jml_byar_pelunasan_hutang"),Object(S.e)("success","Hutang Berhasil Di Lunasi")}).catch(e=>{this.setState({isLoadingPembayaran:!1}),Object(S.e)("info","Terjadi Kesalahan Saat Mengirim Data")})}});else{let n={no_faktur_hutang:a,tgl_lunas:document.getElementById("tgl_lunas_hutang").value,jumlah_bayar:parseInt(e.cash),pembayaran:[t]};this.setState({isLoadingPembayaran:!0}),Object(A.e)("hutang/hutanglunas",n).then(e=>{this.setState({isLoadingPembayaran:!1,formPelunasan:"LIHATHUTANG",datahutang:[]}),this.props.dispatch(Object(X.wb)()),localStorage.removeItem("jml_byar_pelunasan_hutang"),Object(S.e)("success","Hutang Berhasil Di Lunasi")}).catch(e=>{this.setState({isLoadingPembayaran:!1}),Object(S.e)("info","Terjadi Kesalahan Saat Mengirim Data")})}}btlHutang(e){this.setState({isloadingBtl:!0});let a={no_faktur_hutang:e.no_faktur_hutang};Object(A.e)("hutang/hutangbatal",a).then(e=>{Object(S.e)("success","Hutang Berhasil Di Batal"),this.setState({isloadingBtl:!1,formPelunasan:"LIHATHUTANG",datahutang:[]}),this.props.dispatch(Object(X.wb)())}).catch(e=>{this.setState({isloadingBtl:!1}),Object(S.e)("info","Terjadi Kesalahan Saat Mengirim Data")})}render(){const e={renderer:e=>l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("table",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Nama Barang"),l.a.createElement("td",null,"Berat"),l.a.createElement("td",null,"Jumlah")),e.detail_barang.map((e,a)=>l.a.createElement("tr",null,l.a.createElement("td",null,e.nama_barang),l.a.createElement("td",null,e.berat),l.a.createElement("td",null,e.jumlah))))))),showExpandColumn:!0,expandByColumnOnly:!0};return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Hutang")),l.a.createElement("li",{className:"breadcrumb-item active"}," ","PELUNASANHUTANG"===this.state.formPelunasan?"Pelunasan Hutang":"BATALHUTANG"===this.state.formPelunasan?"BATAL HUTANG":"Lihat Hutang")),l.a.createElement("h1",{className:"page-header"}," ","PELUNASANHUTANG"===this.state.formPelunasan?"Pelunasan Hutang":"BATALHUTANG"===this.state.formPelunasan?"BATAL HUTANG":"Lihat Hutang"," "),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"PELUNASANHUTANG"===this.state.formPelunasan?"Pelunasan Hutang":"BATALHUTANG"===this.state.formPelunasan?"BATAL HUTANG":"Lihat Hutang"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},"PELUNASANHUTANG"===this.state.formPelunasan?l.a.createElement(l.a.Fragment,null," ",l.a.createElement(we,{showModalPembayaran:()=>this.showModalPembayaran(),back:()=>this.back()})," "):"BATALHUTANG"===this.state.formPelunasan?l.a.createElement(Fe,{isloadingBtl:this.state.isloadingBtl,onSubmit:e=>this.btlHutang(e),back:()=>this.back()}):l.a.createElement(l.a.Fragment,null,l.a.createElement(Ie,{onSubmit:e=>this.cariHutang(e),isLoading:this.state.isLoading}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement($.a,{keyField:"no_faktur_hutang",exportCsv:!1,data:this.state.datahutang,columns:this.state.columns,empty:!0,expandRow:e,textEmpty:"Data Barang Kosong"}))))),l.a.createElement("br",null),l.a.createElement(ce.a,{title:"Form Pembayaran",content:l.a.createElement(Le,{isLoadingPembayaran:this.state.isLoadingPembayaran,onSubmit:e=>this.simpanPembayaran(e)})})))}}),Je=t(93),ze=t(94);const Ge=[{value:"MEMBER",name:"MEMBER"},{value:"NONMEMBER",name:"NON MEMBER"}];class Ue extends n.Component{constructor(e){super(e),this.state={showMember:!0}}componentDidMount(){this.props.dispatch(Object(X.ob)());let e=null===localStorage.getItem("data_customer_hutang_tmp")?[]:JSON.parse(localStorage.getItem("data_customer_hutang_tmp")||[]);e&&"MEMBER"===e.jenis_pelanggan?this.setState({showMember:!1}):this.setState({showMember:!0}),this.props.change("jenis_pelanggan","NONMEMBER")}changemember(e){"MEMBER"===e?(this.setState({showMember:!1}),document.getElementById("kode_customer").focus()):(document.getElementById("nama_customer").focus(),this.props.change("kode_customer",""),this.props.change("nama_customer",""),this.props.change("no_hp",""),this.props.change("alamat_customer",""),this.setState({showMember:!0}))}getMember(e){Object(A.c)("member/get/by-kode-member/"+e).then(e=>{0===e.data.length?Object(S.e)("info","Member Yang Anda Masukan Tidak Ada !!!"):e.data.forEach((e,a)=>{this.props.change("nama_customer",e.nama_customer),this.props.change("no_hp",e.no_hp),this.props.change("alamat_customer",e.alamat_customer)})}).catch(e=>{Object(S.e)("info","Terjadi Kesalahan SIlahkan Ulangi Kembali !!!")})}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"kode_sales",label:"Pilih Kode Sales",placeholder:"Masukan Kode Sales",options:this.props.DataSales.filter(e=>void 0!==e.kode_sales).map(e=>{return{value:e.kode_sales,name:e.kode_sales}}),component:te.f})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"jenis_pelanggan",label:"Pilih Pelanggan",onChange:e=>this.changemember(e),placeholder:"Silahkan Pilih Pelanggan",options:Ge,component:te.f})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{id:"kode_customer",name:"kode_customer",onChange:e=>this.getMember(e.target.value),component:te.e,type:"text",readOnly:this.state.showMember,label:"Kode Customer",placeholder:"Masukan Kode Customer"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{id:"nama_customer",name:"nama_customer",component:te.e,type:"text",label:"Nama Customer",placeholder:"Masukan Nama Customer"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"no_hp",component:te.e,type:"text",normalize:Oe.c,label:"No Hp",placeholder:"Masukan No Hp"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"alamat_customer",component:te.e,type:"textarea",label:"Alamat Customer",placeholder:"Masukan Alamat Customer"}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-8"}),l.a.createElement("div",{className:"col-4"},l.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.props.isLoadingDataCustomer,type:"submit"},this.props.isLoadingDataCustomer?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))),this.props.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}Ue=Object(ae.a)({form:"ModalDataCustomer",enableReinitialize:!0,validate:ze.a})(Ue);var Ye=Object(q.b)(e=>{let a=null===localStorage.getItem("data_customer_hutang_tmp")?[]:JSON.parse(localStorage.getItem("data_customer_hutang_tmp")||[]);return{initialValues:{kode_sales:a.kode_sales||"",jenis_pelanggan:a.jenis_pelanggan||"",kode_customer:a.kode_customer||"",nama_customer:a.nama_customer||"",no_hp:a.no_hp||"",alamat_customer:a.alamat_customer||""},DataSales:e.datamaster.getDataSales}},null)(Ue);var Ve=(e,a)=>{const t={};return e.tgl_hutang||(t.tgl_hutang="Tanggal Hutang Tidak Boleh Kosong"),e.emasdanplastik||(t.emasdanplastik="Berat Emas + Plastik Tidak Boleh Kosong"),e.jml_hutang||(t.jml_hutang="Jumlah Hutang Tidak Boleh Kosong"),e.bunga||(t.bunga="Bunga / Bulan Tidak Boleh Kosong"),e.lama_pinjam||(t.lama_pinjam="Lama Pinjam Tidak Boleh Kosong"),t};const We=Object(ne.createNumberMask)({prefix:"Rp. ",locale:"kr-KO"});class Qe extends n.Component{constructor(e){super(e),this.state={isLoadingBatal:!1},this.setStartDate=this.setStartDate.bind(this)}setStartDate(e){this.setState({tgl_hutang:new Date(e)})}componentDidMount(){let e=0,a=JSON.parse(localStorage.getItem("data_barang_hutang_tmp"));null!==a&&a.forEach((a,t)=>{e+=a.berat,this.props.change("berat_emas",parseFloat(e).toFixed(1)),this.props.change("emasdanplastik",parseFloat(e).toFixed(1))}),setTimeout(()=>{document.getElementById("emasdanplastik").focus()},100)}hitungTotal(){this.props.change("bunga_rp",this.props.bunga_rp),this.props.change("besar_kembali",this.props.besar_kembali),this.props.change("tgl_jth_tempo",this.props.tgl_jatuh_tempo)}batalHutang(){this.setState({isLoadingBatal:!0}),setTimeout(()=>{localStorage.setItem("data_customer_hutang_tmp",JSON.stringify([])),localStorage.setItem("data_barang_hutang_tmp",JSON.stringify([])),this.props.dispatch(ue([])),this.props.dispatch(Object(Z.d)("ModalHutang")),this.props.dispatch(Object(X.wb)())},300)}cekBeratEmas(e){let a=document.getElementById("berat_emas").value;if(parseFloat(e)<parseFloat(a))return Object(S.e)("info","Berat Yang Diinputkan Tidak Boleh Lebih Kecil Dari Berat Emas"),this.props.change("emasdanplastik",""),document.getElementById("emasdanplastik").focus(),!1}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{readOnly:!0,id:"berat_emas",name:"berat_emas",component:te.e,type:"text",label:"Berat Emas",placeholder:"Masukan Berat Emas"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"tgl_hutang",component:te.c,label:"Tanggal Hutang",type:"text",selected:this.state.tgl_hutang,onChange:e=>this.setStartDate(e),placeholder:"Masukan Tanggal Dari"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{id:"emasdanplastik",name:"emasdanplastik",type:"text",component:te.e,normalize:Oe.a,onBlur:e=>this.cekBeratEmas(e.target.value),label:"Berat Emas + Plastik",placeholder:"Masukan Berat Emas + Plastik"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,Object.assign({name:"jml_hutang",component:te.e,type:"telp"},We,{onChange:this.hitungTotal(),label:"Jumlah Hutang",placeholder:"Masukan Jumlah Hutang"}))),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"bunga",component:te.e,type:"text",normalize:Oe.c,onChange:this.hitungTotal(),label:"Bunga / Bulan ( % )",placeholder:"Masukan Bunga / Bulan ( % )"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"lama_pinjam",component:te.e,type:"text",normalize:Oe.c,onChange:this.hitungTotal(),label:"Lama Pinjam",placeholder:"Masukan Lama Pinjam"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{readOnly:!0,name:"tgl_jth_tempo",component:te.e,type:"text",label:"Tanggal Jatuh Tempo",placeholder:"Masukan Tanggal Jatuh Tempo"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{readOnly:!0,name:"bunga_rp",component:te.e,normalize:Oe.c,type:"text",label:"Bunga Rp",placeholder:"Masukan Bunga Rp"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{readOnly:!0,name:"besar_kembali",component:te.e,type:"text",label:"Besar Kembali",placeholder:"Masukan Besar Kembali"})),l.a.createElement("div",{className:"col-8"}),l.a.createElement("div",{className:"col-2"},l.a.createElement("button",{onClick:()=>this.batalHutang(),className:"btn btn-warning btn-block",disabled:this.state.isLoadingBatal,type:"button"},this.state.isLoadingBatal?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Batal Hutang"):"Batal Hutang")),l.a.createElement("div",{className:"col-2"},l.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.props.isLoadingHutang,type:"submit"},this.props.isLoadingHutang?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-paper-plane"})," \xa0 Simpan Data")))),this.props.isLoadingHutang?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}Qe=Object(ae.a)({form:"ModalHutang",enableReinitialize:!0,validate:Ve})(Qe);var Xe=Object(q.b)(e=>{const a=Object(ye.a)("ModalHutang")(e,"jml_hutang","bunga","lama_pinjam","tgl_hutang"),t=a.jml_hutang,n=a.bunga,l=a.lama_pinjam,r=a.tgl_hutang;let o=parseFloat(n||0)/parseFloat(100)*parseFloat(t||0)*(parseFloat(l||0)/parseFloat(30)),s=parseFloat(t||0)+parseFloat(o||0),i=new Date(r),c=He(i.setDate(i.getDate()+parseInt(l||0))).format("YYYY-MM-DD");return{initialValues:{tgl_hutang:Object(k.i)()},bunga_rp:parseFloat(o).toLocaleString("kr-KO"),besar_kembali:parseFloat(s).toLocaleString("kr-KO"),tgl_jatuh_tempo:c,datakondisi:e.datamaster.getDataKondisiBarang,kategori:e.datamaster.GetDataGroup}})(Qe);var qe=(e,a)=>{const t={};return e.nama_barang||(t.nama_barang="Nama Barang Tidak Boleh Kosong"),e.berat||(t.berat="Berat Tidak Boleh Kosong"),e.jumlah||(t.jumlah="Jumlah Tidak Boleh Kosong"),t};class Ze extends n.Component{constructor(e){super(e),this.state={ModalWebCam:!1,isLoading:!1,harga_jual:!0,berat_jual:!0,hargapergram:!0,ongkos:!0,total:!0,gambar:!1}}componentDidMount(){this.props.dispatch(Object(X.rb)()),this.props.dispatch(Object(X.t)()),setTimeout(()=>{document.getElementById("nama_barang_hutang").focus()},100)}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{id:"nama_barang_hutang",name:"nama_barang",component:te.e,type:"text",label:"Nama Barang",placeholder:"Masukan Nama Barang"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"berat",component:te.e,normalize:Oe.a,type:"text",label:"Berat",placeholder:"Masukan Berat"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"jumlah",defaultValue:"1",component:te.e,type:"jumlah",normalize:Oe.c,label:"Jumlah",placeholder:"Masukan Jumlah"})),l.a.createElement("div",{className:"col-12 text-right"},l.a.createElement("label",null,"\xa0"),l.a.createElement("button",{className:"btn btn-primary ",disabled:this.props.isLoading,type:"submit"},this.props.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-paper-plane"})," \xa0 Simpan Data")))),this.props.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}Ze=Object(ae.a)({form:"ModalTambahBarang",enableReinitialize:!0,validate:qe})(Ze);var $e=Object(q.b)(e=>({initialValues:{jumlah:"1"},datakondisi:e.datamaster.getKondisiPinjaman,kategori:e.datamaster.GetDataGroup}))(Ze);class ea extends n.Component{constructor(e){super(e),this.state={isLoadingDataCustomer:!1,isLoadingBatal:!1,isLoadingHutang:!1,FormModal:""}}componentDidMount(){}ShowModalCustomer(){this.setState({FormModal:"ShowModalCustomer"}),this.props.dispatch(Object(X.xb)())}ShowModalBarang(){this.props.dispatch(Object(X.xb)()),this.setState({FormModal:"ShowModalBarang"})}ShowModalHutang(){let e=JSON.parse(localStorage.getItem("data_customer_hutang_tmp")),a=JSON.parse(localStorage.getItem("data_barang_hutang_tmp"));if(null===a||0===a.length||null===e||0===e.length)return Object(S.e)("info","Data Customer / Data Barang Belum Diisi"),!1;this.props.dispatch(Object(X.xb)()),this.setState({FormModal:"ShowModalHutang"})}handleSubmit(e){let a={alamat_customer:e.alamat_customer||"-",jenis_pelanggan:e.jenis_pelanggan||"NONMEMBER",kode_customer:e.kode_member||"NONMEMBER",kode_sales:e.kode_sales,nama_customer:e.nama_customer||"REGULER",no_hp:e.no_hp||"-"};this.setState({isLoadingDataCustomer:!0}),localStorage.setItem("data_customer_hutang_tmp",JSON.stringify(a)),setTimeout(()=>{this.setState({isLoadingDataCustomer:!1}),this.props.dispatch(Object(X.wb)())},500)}simpanTransaksiHutang(e){let a=JSON.parse(localStorage.getItem("data_customer_hutang_tmp")),t=JSON.parse(localStorage.getItem("data_barang_hutang_tmp")),n=[];t.forEach((e,a)=>{let t={nama_barang:e.nama_barang,kondisi:e.kondisi_barang,kategori:e.kategori,berat:parseFloat(e.berat),jumlah:parseInt(e.jumlah)};n.push(t)});let l={kode_sales:a.kode_sales,nama_customer:a.nama_customer,alamat_customer:a.alamat_customer,kode_member:"NONMEMBER"===a.jenis_pelanggan?a.jenis_pelanggan:a.kode_customer,no_hp:a.no_hp,tgl_hutang:Object(k.e)(u()(new Date(e.tgl_hutang)).format("YYYY-MM-DD")),tgl_tempo:e.tgl_jth_tempo,jumlah_hutang:parseInt(e.jml_hutang),lama_pinjam:parseInt(e.lama_pinjam),bunga:parseFloat(e.bunga),berat_emas:parseFloat(e.berat_emas),berat_bruto:parseFloat(e.emasdanplastik),detail_barang:n};this.setState({isLoadingHutang:!0}),setTimeout(()=>{Object(A.e)("hutang/simpan",l).then(e=>{Object(S.e)("success",e.data.message),this.setState({isLoadingHutang:!1}),this.props.dispatch(Object(Z.d)("ModalHutang"))}).then(()=>{localStorage.setItem("data_customer_hutang_tmp",JSON.stringify([])),localStorage.setItem("data_barang_hutang_tmp",JSON.stringify([])),this.props.dispatch(ue([])),this.setState({isLoadingHutang:!1})}).then(()=>{this.props.dispatch(Object(X.wb)())}).catch(e=>{this.setState({isLoadingHutang:!1}),Object(S.e)("info","Transaksi Gagal Disimpan")})},500)}simpanBarang(e){let a={nama_barang:e.nama_barang||"-",kondisi_barang:e.kondisi_barang||"-",kategori:e.kategori||"-",berat:parseFloat(e.berat)||0,jumlah:parseInt(e.jumlah)||0},t=JSON.parse(localStorage.getItem("data_barang_hutang_tmp"))||[];t.push(a),document.getElementById("nama_barang_hutang").focus(),this.props.dispatch(Object(Z.d)("ModalTambahBarang")),this.props.dispatch(ue(t)),localStorage.setItem("data_barang_hutang_tmp",JSON.stringify(t)),this.props.dispatch(Object(X.wb)())}render(){return l.a.createElement(Q.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement($.a,{keyField:"nama_barang",exportCsv:!1,data:0===this.props.setBarangHutang.length?JSON.parse(localStorage.getItem("data_barang_hutang_tmp"))||[]:this.props.setBarangHutang||[],tambahData:!0,btnText:"Data Customer",handleClick:()=>this.ShowModalCustomer(),columns:this.props.columns,btnOptional:!0,namaCustomer:!0,jenisCustomer:!0,form:"Hutang",btnTextOptional:"Data Barang",handleClickOptional:()=>this.ShowModalBarang(),btnOptional2:!0,btnTextOptional2:"Data Hutang",handleClickOptional2:()=>this.ShowModalHutang(),empty:!0,textEmpty:"Data Barang Kosong"}))),l.a.createElement(ce.a,{title:l.a.createElement(aa,{state:this.state.FormModal}),content:"ShowModalCustomer"===this.state.FormModal?l.a.createElement(Ye,{isLoadingDataCustomer:this.state.isLoadingDataCustomer,onSubmit:e=>this.handleSubmit(e)}):"ShowModalBarang"===this.state.FormModal?l.a.createElement($e,{onSubmit:e=>this.simpanBarang(e)}):l.a.createElement(Xe,{isLoadingHutang:this.state.isLoadingHutang,onSubmit:e=>this.simpanTransaksiHutang(e)})}))}}function aa(e,a){return"ShowModalCustomer"===e.state?"Form Data Customer":"ShowModalBarang"===e.state?"Form Data Barang":"Form Data Hutang"}ea=Object(ae.a)({form:"HeadHutang",enableReinitialize:!0,validate:Je.a})(ea);var ta=Object(q.b)(e=>({setBarangHutang:e.hutang.setBarangHutang,DataSales:e.datamaster.getDataSales,hideModal:e.datamaster.modalDialog}),null)(ea);var na=Object(q.b)(null)(class extends l.a.Component{constructor(e){super(e),this.state={isLoading:!1,columns:[{dataField:"nama_barang",text:"Nama Barang",footer:""},{dataField:"berat",text:"Berat",footer:e=>parseFloat(e.reduce((e,a)=>e+a,0)).toFixed(1)},{dataField:"jumlah",text:"Berat Atribut",formatter:e=>l.a.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(e,a,t)=>l.a.createElement("div",{className:"row text-center"},l.a.createElement("div",{className:"col-12"},l.a.createElement("button",{type:"button",onClick:()=>this.hapusdata(t),className:"btn btn-danger mr-3"},l.a.createElement("i",{className:"fa fa-trash"})))),footer:""}]},this.handleSubmit=this.handleSubmit.bind(this)}hapusdata(e){_.a.fire({title:"Anda Yakin !!",text:"Ingin Menghapus Data Ini ?",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(a=>{if(a.isConfirmed){let a=JSON.parse(localStorage.getItem("data_barang_hutang_tmp"));a.splice(e,1),localStorage.setItem("data_barang_hutang_tmp",JSON.stringify(a)),this.props.dispatch(ue(a)),this.setState({berhasil:"ok"})}})}handleSubmit(e){}componentWillUnmount(){localStorage.setItem("data_customer_hutang_tmp",JSON.stringify([])),localStorage.setItem("data_barang_hutang_tmp",JSON.stringify([]))}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Hutang")),l.a.createElement("li",{className:"breadcrumb-item active"},"Transaksi Hutang")),l.a.createElement("h1",{className:"page-header"},"Transaksi Hutang "),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"Transaksi Hutang"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement(ta,{isLoading:this.state.isLoading,columns:this.state.columns})),l.a.createElement("br",null)))}});class la extends n.Component{constructor(e){super(e),this.state={isLoading:!1,DataValidasi:[],kode_sales:!1}}componentDidMount(){this.props.dispatch(Object(X.ob)()),this.getDetaValidasi()}getDataSales(e){this.setState({kode_sales:e}),Object(A.c)("sales/get/by-kode-sales/").then(e=>{this.props.change("nama_sales",e.data.nama_sales)}).catch(e=>{Object(S.e)("info","Gagal Mengambil Data Keserver")})}getDetaValidasi(){this.setState({isLoading:!0});let e={kode_sales:"all"};if(!1===e.kode_sales)return this.setState({isLoading:!1}),Object(S.e)("info","Kode Sales Harus Di pilih"),this.setState({isLoading:!1}),!1;Object(A.e)("validasi/get/hutang",e).then(e=>{0===e.data[0].hutang.length?(Object(S.e)("info","Belum Ada Data Validasi"),this.setState({isLoading:!1})):(Object(S.e)("success","Data Validasi Tersedia"),this.setState({isLoading:!1}),this.props.dispatch(Ee(e.data[0].hutang)))}).catch(e=>{Object(S.e)("info","Terjadi Kesalahan Saat Request"),this.setState({isLoading:!1,DataValidasi:[]})})}render(){const e={mode:"checkbox",clickToSelect:!0,selectColumnPosition:"right",onSelect:(e,a,t,n)=>{if(!0===a){let a={no_faktur_hutang:e.no_faktur_hutang},t=JSON.parse(localStorage.getItem("validas_hutang"))||[];-1===t.findIndex(a=>a.no_faktur_hutang===e.no_faktur_hutang)&&(t.push(a),localStorage.setItem("validas_hutang",JSON.stringify(t)))}else if(null===localStorage.getItem("validas_hutang"));else{let a=JSON.parse(localStorage.getItem("validas_hutang"));a.splice(e.no_faktur_hutang,1),localStorage.setItem("validas_hutang",JSON.stringify(a))}},onSelectAll:(e,a,t)=>{a.forEach((a,t)=>{if(!0===e){let e={no_faktur_hutang:a.no_faktur_hutang},t=JSON.parse(localStorage.getItem("validas_hutang"))||[];-1===t.findIndex(e=>e.no_faktur_hutang===a.no_faktur_hutang)&&(t.push(e),localStorage.setItem("validas_hutang",JSON.stringify(t)))}else if(null===localStorage.getItem("validas_hutang"));else{let e=JSON.parse(localStorage.getItem("validas_hutang"));e.splice(a.no_faktur_hutang,1),localStorage.setItem("validas_hutang",JSON.stringify(e))}})}};return l.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off",onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement($.a,{selectRow:e,keyField:"no_faktur_hutang",columns:this.props.columns,data:this.props.getValidasiHutang||[],empty:!0})),l.a.createElement("div",{className:"col-6"},l.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.props.isLoading,type:"submit"},this.props.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Validasi"):"Validasi")),l.a.createElement("div",{className:"col-6"},l.a.createElement("button",{className:"btn btn-warning btn-block",disabled:this.props.isLoadingBatal,onClick:this.props.btnClear,type:"button"},this.props.isLoadingBatal?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Batal"):"Batal"))),this.props.isLoading||this.props.isLoadingBatal||this.state.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}la=Object(ae.a)({form:"HeadValidasiHutang",enableReinitialize:!0})(la);var ra=Object(q.b)(e=>({DataSales:e.datamaster.getDataSales,getValidasiHutang:e.hutang.getDataValidasiHutang}))(la);class oa extends l.a.Component{constructor(e){super(e),this.state={isLoading:!1,isLoadingBatal:!1,columns:[{dataField:"no_faktur_hutang",text:"No Faktur Hutang "},{dataField:"nama_customer",text:"Nama Customer "},{dataField:"jumlah_hutang",text:"Jumlah Hutang ",formatter:e=>l.a.createElement("span",null,parseFloat(e).toLocaleString("kr-KO"))},{dataField:"no_hp",text:"No Hp "},{dataField:"alamat_customer",text:"Alamat "}]},this.handleSubmit=this.handleSubmit.bind(this)}handleSubmit(e){if(null===localStorage.getItem("validas_hutang")||0===JSON.parse(localStorage.getItem("validas_hutang")).length)Object(S.e)("info","No Faktur Hutang Belum Dipilih"),this.setState({isLoading:!1});else{let e={hutang:JSON.parse(localStorage.getItem("validas_hutang")||[])};this.setState({isLoading:!0}),Object(A.e)("validasi/simpan/hutang",e).then(e=>{this.setState({isLoading:!1});let a=[];for(let t=0;t<2;t++){let t="";e.data.notahutang.forEach((e,a)=>{let n=e.n_alamat_customer.length;t+="========================================\n",t+="              NOTA HUTANG               \n",t+="========================================\nTanggal          : ".concat(e.tgl_system,"\nKode Sales       : ").concat(e.kode_sales,"\nNama Customer    : ").concat(e.nama_customer,"\nNo Hp            : ").concat(e.no_hp,"\nAlamat Customer  : ").concat(e.n_alamat_customer.slice(0,20),"\nNo Faktur Hutang : ").concat(e.no_faktur_hutang.toLocaleString("kr-KO"),"\n"),n>20&&(t+="                   ".concat(e.n_alamat_customer.slice(0,20),"\n")),n>40&&(t+="                   ".concat(e.n_alamat_customer.slice(40,20),"\n")),t+="========================================\n",t+="Keterangan\n",t+="========================================\n",e.detail_barang.forEach((e,a)=>{t+="Nama Barang      : ".concat(e.nama_barang,"\n"),t+="Kondisi          : ".concat(e.kondisi,"\n"),t+="Kategori         : ".concat(e.kategori,"\n"),t+="Jumlah           : ".concat(e.jumlah,"\n"),t+="Berat            : ".concat(e.berat.toFixed(3),"\n"),t+="========================================\n"}),t+="Berat            : ".concat(e.berat.toFixed(3),"\n"),t+="Bunga            : ".concat(e.bunga.toFixed(3),"\n"),t+="Jumlah Hutang    : ".concat(e.jumlah_hutang.toLocaleString("kr-KO"),"\n"),t+="========================================\n",t+="\n\n\n\n\n\n\n"}),a.push(t)}document.getElementById("myInput").value=a.join(""),setTimeout(()=>{const e=document.createElement("a"),a=new Blob([document.getElementById("myInput").value],{type:"text/plain;charset=utf-8"});e.href=URL.createObjectURL(a),e.download="autoprint_hutang.txt",document.body.appendChild(e),e.click()},300),Object(S.e)("success","Hutang Berhasil Di Validasi"),localStorage.removeItem("validas_hutang"),this.props.dispatch(Object(Z.d)("HeadValidasiHutang")),this.props.dispatch(Ee([]))}).catch(e=>{this.setState({isLoading:!1}),Object(S.e)("info","Gagal Mengambil Data Keserver")})}}clearHutang(){this.setState({isLoadingBatal:!0}),setTimeout(()=>{this.setState({isLoadingBatal:!1}),localStorage.removeItem("validas_hutang"),this.props.dispatch(Object(Z.d)("HeadValidasiHutang")),this.props.dispatch(Ee([]))},1e3)}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Kasir")),l.a.createElement("li",{className:"breadcrumb-item active"},"Validasi Hutang")),l.a.createElement("h1",{className:"page-header"},"Validasi Hutang "),l.a.createElement(Q.a,null,l.a.createElement("textarea",{style:{display:"none"},id:"myInput",rows:"100",cols:"100"}),l.a.createElement(Q.c,null,"Validasi Hutang"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement(ra,{columns:this.state.columns,isLoading:this.state.isLoading,isLoadingBatal:this.state.isLoadingBatal,btnClear:()=>this.clearHutang(),onSubmit:e=>this.handleSubmit(e)})),l.a.createElement("div",{className:"col-12"}))),l.a.createElement("br",null)))}}oa=Object(ae.a)({form:"FormValidasiHutang",enableReinitialize:!0})(oa);var sa=Object(q.b)()(oa);class ia extends n.Component{constructor(e){super(e),this.state={isLoading:!1,DataValidasi:[],btnValidasi:!1,kode_sales:!1,warna:!1}}componentDidMount(){this.props.dispatch(Object(X.ob)()),0===this.props.saveValidasiJual.length&&0===this.props.saveValidasiBeli.length&&0===this.props.saveValidasiTitipan.length&&(localStorage.setItem("validasi_jual",JSON.stringify([])),localStorage.setItem("validasi_beli",JSON.stringify([])),localStorage.setItem("validasi_titipan",JSON.stringify([]))),this.getDetaValidasi()}getDetaValidasi(){this.setState({isLoading:!0}),Object(A.f)("validasi/all").then(e=>{if(0===e.data[0].pembelian.length&&0===e.data[0].penjualan.length)Object(S.e)("info","Belum Ada Data Yang Harus Di Validasi"),this.setState({isLoading:!1}),this.props.change("grandtotal",0);else{let a=0;e.data[0].penjualan.forEach(e=>{a+=e.harga_total});let t=0;e.data[0].pembelian.forEach(e=>{t+=e.harga}),this.setState({isLoading:!1}),this.props.dispatch(fe(!0)),localStorage.setItem("validasi_jual",JSON.stringify(e.data[0].penjualan)),localStorage.setItem("validasi_beli",JSON.stringify(e.data[0].pembelian)),this.props.dispatch(_e(e.data[0].penjualan)),this.props.dispatch(ke(e.data[0].pembelian))}}).catch(e=>{Object(S.e)("info","Terjadi Kesalahan Saat Request"),this.setState({isLoading:!1,DataValidasi:[]}),this.props.dispatch(_e([])),this.props.dispatch(ke([])),this.props.dispatch(Se([])),this.props.dispatch(Ae([])),localStorage.setItem("validasi_jual",JSON.stringify([])),localStorage.setItem("validasi_beli",JSON.stringify([])),localStorage.setItem("validasi_titipan",JSON.stringify([])),localStorage.setItem("validasi_pesanan",JSON.stringify([]))})}render(){const e={mode:"checkbox",clickToSelect:!0,selectColumnPosition:"left",onSelect:(e,a,t,n)=>{if(!0===a){let a={no_faktur_group:e.no_faktur_group},t=JSON.parse(localStorage.getItem("data_validasi_jual"))||[];-1===t.findIndex(a=>a.no_faktur_group===e.no_faktur_group)&&(t.push(a),localStorage.setItem("data_validasi_jual",JSON.stringify(t)))}else if(null===localStorage.getItem("data_validasi_jual"));else{let a=JSON.parse(localStorage.getItem("data_validasi_jual"));a.splice(e.no_faktur_group,1),localStorage.setItem("data_validasi_jual",JSON.stringify(a))}},onSelectAll:(e,a,t)=>{a.forEach((a,t)=>{if(!0===e){let e={no_faktur_group:a.no_faktur_group},t=JSON.parse(localStorage.getItem("data_validasi_jual"))||[];-1===t.findIndex(e=>e.no_faktur_group===a.no_faktur_group)&&(t.push(e),localStorage.setItem("data_validasi_jual",JSON.stringify(t)))}else if(null===localStorage.getItem("data_validasi_jual"));else{let e=JSON.parse(localStorage.getItem("data_validasi_jual"));e.splice(a.no_faktur_group,1),localStorage.setItem("data_validasi_jual",JSON.stringify(e))}})}},a={mode:"checkbox",clickToSelect:!0,selectColumnPosition:"left",onSelect:(e,a,t,n)=>{if(!0===a){let a={no_faktur_group:e.no_faktur_group},t=JSON.parse(localStorage.getItem("data_validasi_beli"))||[];-1===t.findIndex(a=>a.no_faktur_group===e.no_faktur_group)&&(t.push(a),localStorage.setItem("data_validasi_beli",JSON.stringify(t)))}else if(null===localStorage.getItem("data_validasi_beli"));else{let a=JSON.parse(localStorage.getItem("data_validasi_beli"));a.splice(e.no_faktur_group,1),localStorage.setItem("data_validasi_beli",JSON.stringify(a))}},onSelectAll:(e,a,t)=>{a.forEach((a,t)=>{if(!0===e){let e={no_faktur_group:a.no_faktur_group},t=JSON.parse(localStorage.getItem("data_validasi_beli"))||[];-1===t.findIndex(e=>e.no_faktur_group===a.no_faktur_group)&&(t.push(e),localStorage.setItem("data_validasi_beli",JSON.stringify(t)))}else if(null===localStorage.getItem("data_validasi_beli"));else{let e=JSON.parse(localStorage.getItem("data_validasi_beli"));e.splice(a.no_faktur_group,1),localStorage.setItem("data_validasi_beli",JSON.stringify(e))}})}};return l.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off",onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"List Data Penjualan"),l.a.createElement("br",null),l.a.createElement($.a,{selectRow:e,keyField:"no_faktur_jual",columns:this.props.columnsJual,data:this.props.saveValidasiJual||[],empty:!0}))),l.a.createElement("div",{className:"col-12"},l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"List Data Pembelian"),l.a.createElement("br",null),l.a.createElement($.a,{selectRow:a,keyField:"no_faktur_beli",columns:this.props.columnsBeli,data:this.props.saveValidasiBeli||[],empty:!0}))),l.a.createElement("div",{className:"col-6"},!1===this.props.btnValidasi?l.a.createElement("button",{className:"btn btn-primary btn-block",disabled:!0,type:"button"},"Validasi"):l.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.props.isLoading,type:"submit"},this.props.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Validasi"):"Validasi")),l.a.createElement("div",{className:"col-6"},l.a.createElement("button",{className:"btn btn-warning btn-block",disabled:this.props.isLoadingBtl,onClick:this.props.btnClear,type:"button"},this.props.isLoadingBtl?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Batal"):"Batal"))),this.props.isLoading||this.props.isLoadingBtl||this.state.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}ia=Object(ae.a)({form:"HeadValidasiJualBeliHutang",enableReinitialize:!0})(ia);var ca=Object(q.b)(e=>({DataSales:e.datamaster.getDataSales,saveValidasiBeli:e.hutang.saveValidasiBeli,saveValidasiJual:e.hutang.saveValidasiJual,saveValidasiTitipan:e.hutang.saveValidasiTitipan,saveValidasiPesanan:e.hutang.saveValidasiPesanan,btnValidasi:e.hutang.disableButtonValidasi}),null)(ia),ma=t(304),da=t.n(ma),ga=t(28),pa=(t(40),t(305)),ha=t.n(pa);var ua=(e="",a="")=>{const t=new ga.default;t.setFontSize(15),t.setFontSize(10),t.setProperties({title:"Cetak Faktur Penjualan"}),t.setFont("tahoma"),e.notajual.forEach((a,n)=>{a.Faktur.forEach((e,a)=>{if(t.setFontSize(80),t.setTextColor(220,220,220),t.setTextColor(0,0,0),t.setFontSize(10),"text"===e.jenis)t.text(.2645833333*e.position_x,.2645833333*(parseFloat(e.position_y)+15),t.splitTextToSize(e.isi,.2645833333*e.width),null,parseInt(-1*e.rotate));else if("gambar"===e.jenis)e.rotate>0?t.addImage(e.isi,"jpg",.2645833333*e.position_x,.2645833333*parseFloat(e.position_y)-.2645833333*e.width,.2645833333*e.width,.2645833333*e.height,"","",parseInt(-1*e.rotate)):t.addImage(e.isi,"jpg",.2645833333*e.position_x,.2645833333*parseFloat(e.position_y),.2645833333*e.width,.2645833333*e.height);else if(e.rotate>0)t.addImage(ha.a,"JPEG",.2645833333*e.position_x,.2645833333*parseFloat(e.position_y)-.2645833333*e.width+25,.2645833333*e.width,.2645833333*e.height,"","",parseInt(-1*e.rotate));else{da.a.toCanvas("itf",{bcid:"code128",text:e.isi,scale:3,height:10,includetext:!1,textxalign:"center"});var n=document.getElementById("itf").toDataURL();t.addImage(n,"JPEG",.2645833333*e.position_x,.2645833333*parseFloat(e.position_y),.2645833333*e.width-30,.2645833333*e.height)}}),n<e.notajual.length-1&&t.addPage()});var n=t.output("datauristring"),l=window.open();l.document.open(),l.document.write("<html><head><title>Cetak Faktur Penjualan</title></head><body style='margin:0 !important'><embed width='100%' height='100%'  src="+n+"></embed></body></html>")};class ba extends l.a.Component{constructor(e){super(e),this.state={isLoading:!1,isLoadingBtl:!1,columnsJual:[{dataField:"no_faktur_jual",text:"No FJ",footer:(e,a,t,n)=>l.a.createElement("div",null,"Total Barang :"," ",null===JSON.parse(localStorage.getItem("validasi_jual"))?0:JSON.parse(localStorage.getItem("validasi_jual")).length||0," ")},{dataField:"kode_barcode",text:"Kode Barcode "},{dataField:"nama_barang",text:"Nama Barang",footer:"",footerAttrs:{colSpan:"3"}},{dataField:"nama_atribut",text:"Nama Atribut"},{dataField:"berat",text:"Berat",formatter:e=>e.toFixed(3),footer:e=>e.reduce((e,a)=>e+a,0).toFixed(3)},{dataField:"harga_total",text:"Harga",headerClasses:"text-right",footer:e=>(localStorage.setItem("total_harga_beli",e.reduce((e,a)=>e+a,0)),l.a.createElement("div",{className:"text-right"}," ",e.reduce((e,a)=>e+a,0).toLocaleString("kr-KO"))),formatter:e=>l.a.createElement("div",{className:"text-right"},parseFloat(e).toLocaleString("kr-KO"))}],columnsBeli:[{dataField:"no_faktur_beli",text:"No FB ",footer:(e,a,t,n)=>l.a.createElement("div",null,"Total Barang :"," ",null===JSON.parse(localStorage.getItem("validasi_beli"))?0:JSON.parse(localStorage.getItem("validasi_beli")).length||0," ")},{dataField:"kode_dept",text:"Kode Jenis "},{dataField:"nama_barang",text:"Nama Barang",footer:"",footerAttrs:{colSpan:"3"}},{dataField:"kondisi",text:"Kondisi"},{dataField:"berat",text:"Berat",formatter:e=>e.toFixed(3),footer:e=>e.reduce((e,a)=>e+a,0).toFixed(3)},{dataField:"harga",text:"Harga",headerClasses:"text-right",footer:e=>(localStorage.setItem("total_harga_beli",e.reduce((e,a)=>e+a,0)),l.a.createElement("div",{className:"text-right"}," ",e.reduce((e,a)=>e+a,0).toLocaleString("kr-KO"))),formatter:e=>l.a.createElement("div",{className:"text-right"},parseFloat(e).toLocaleString("kr-KO"))}],columnsTitipan:[{dataField:"no_titip_group",text:"No Titipan",footer:(e,a,t,n)=>l.a.createElement("div",null,"Total Barang :"," ",null===JSON.parse(localStorage.getItem("validasi_titipan"))?0:JSON.parse(localStorage.getItem("validasi_titipan")).length||0," ")},{dataField:"kode_dept",text:"Kode Jenis "},{dataField:"nama_barang",text:"Nama Barang",footer:"",footerAttrs:{colSpan:"3"}},{dataField:"kondisi",text:"Kondisi"},{dataField:"berat",text:"Berat",formatter:e=>e.toFixed(3),footer:e=>e.reduce((e,a)=>e+a,0).toFixed(3)},{dataField:"total_dp",text:"Total Dp",headerClasses:"text-right",footer:e=>l.a.createElement("div",{className:"text-right"}," ",e.reduce((e,a)=>e+a,0).toLocaleString("kr-KO")),formatter:e=>l.a.createElement("div",{className:"text-right"},parseFloat(e).toLocaleString("kr-KO"))},{dataField:"harga_total",text:"Total Transaksi",headerClasses:"text-right",footer:e=>(localStorage.setItem("total_harga_beli",e.reduce((e,a)=>e+a,0)),l.a.createElement("div",{className:"text-right"}," ",e.reduce((e,a)=>e+a,0).toLocaleString("kr-KO"))),formatter:e=>l.a.createElement("div",{className:"text-right"},parseFloat(e).toLocaleString("kr-KO"))}],columnsPesanan:[{dataField:"no_pesanan",text:"No Pesanan",footerAttrs:{colSpan:"3"},footer:(e,a,t,n)=>l.a.createElement("div",null,"Total Barang :"," ",null===JSON.parse(localStorage.getItem("validasi_pesanan"))?0:JSON.parse(localStorage.getItem("validasi_pesanan")).length||0," ")},{dataField:"kode_kategori",text:"Kode Kategori "},{dataField:"perkiraan_kadar",text:"Perkiraan Kadar"},{dataField:"harga_gram",text:"Harga / Gram",formatter:e=>e.toLocaleString("kr-KO"),footer:e=>e.reduce((e,a)=>e+a,0).toLocaleString("kr-KO")},{dataField:"perkiraan_berat",text:"Berat",formatter:e=>e.toFixed(3),footer:e=>e.reduce((e,a)=>e+a,0).toFixed(3)},{dataField:"deskripsi_contoh",text:"Deskripsi"},{dataField:"sub_total",text:"Total",headerClasses:"text-right",footer:e=>(localStorage.setItem("total_harga_beli",e.reduce((e,a)=>e+a,0)),l.a.createElement("div",{className:"text-right"}," ",e.reduce((e,a)=>e+a,0).toLocaleString("kr-KO"))),formatter:e=>l.a.createElement("div",{className:"text-right"},parseFloat(e).toLocaleString("kr-KO"))}]},this.handleSubmit=this.handleSubmit.bind(this),this.btnClear=this.btnClear.bind(this)}btnClear(){this.setState({isLoadingBtl:!0}),setTimeout(()=>{localStorage.removeItem("validasi_titipan"),localStorage.removeItem("validasi_jual"),localStorage.removeItem("validasi_beli"),this.props.dispatch(Object(Z.d)("HeadValidasiJualBeliHutang")),this.props.dispatch(_e([])),this.props.dispatch(ke([])),this.props.dispatch(fe(!1)),this.setState({isLoadingBtl:!1})},1e3)}componentWillUnmount(){this.props.dispatch(_e([])),this.props.dispatch(ke([]))}componentDidMount(){localStorage.setItem("validasi_jual","[]"),localStorage.setItem("data_validasi_jual","[]"),localStorage.setItem("validasi_beli","[]"),localStorage.setItem("data_validasi_beli","[]")}handleSubmit(e){let a=JSON.parse(localStorage.getItem("data_validasi_jual"))||[],t=JSON.parse(localStorage.getItem("data_validasi_beli"))||[];if(0===a.length&&0===t.length)return Object(S.e)("info","Data yang akan divalidasi kosong, Silahkan pilih minimal 1 faktur."),!1;let n=[],l=[];0===a.length?n=[]:a.forEach((e,a)=>{let t={no_faktur_group:e.no_faktur_group};n.push(t)}),0===t.length?l=[]:t.forEach((e,a)=>{let t={no_faktur_group:e.no_faktur_group};l.push(t)});let r={penjualan:n,pembelian:l};Object(A.e)("validasi/simpan/jualbeli",r).then(e=>{if(0!==e.data.notajual.length&&ua(e.data),0!==e.data.notabeli.length){let a=[];for(let t=0;t<2;t++){let t="";e.data.notabeli.forEach((e,a)=>{let n=e.head.n_alamat_customer.length;t+="========================================\n",t+="              NOTA PEMBELIAN            \n",t+="========================================\nTanggal          : ".concat(e.head.tgl_system,"\nNama Customer    : ").concat(e.head.nama_customer,"\nNo Hp            : ").concat(e.head.no_hp,"\nAlamat Customer  : ").concat(e.head.n_alamat_customer.slice(0,20),"\n"),n>20&&(t+="                   ".concat(e.head.n_alamat_customer.slice(20,40),"\n")),n>40&&(t+="                   ".concat(e.head.n_alamat_customer.slice(40,60),"\n")),t+="========================================\n",t+="Keterangan\n",t+="========================================\n";let l=0,r=0;e.detail.forEach((e,a)=>{l+=e.harga,r+=e.harga_nota,t+="No Faktur Beli : ".concat(e.no_faktur_beli,"\n"),t+="Jenis Barang   : ".concat(e.kode_dept,"\n"),t+="Nama Barang    : ".concat(e.nama_barang,"\n"),t+="Berat          : ".concat(e.berat.toFixed(3),"\n"),t+="Harga          : ".concat(e.harga.toLocaleString("kr-KO"),"\n"),t+="========================================\n"}),t+="Total          : ".concat(l.toLocaleString("kr-KO"),"\n"),t+="========================================\n",t+="Harga Waktu Beli   : ".concat(l.toLocaleString("kr-KO"),"\n"),t+="Harga Waktu Jual   : ".concat(r.toLocaleString("kr-KO"),"\n"),t+="========================================\n",t+="\n\n\n\n"}),a.push(t)}document.getElementById("myInput").value=a.join(""),setTimeout(()=>{this.TextFile()},100)}localStorage.removeItem("validasi_jual"),localStorage.removeItem("validasi_beli"),this.props.dispatch(Object(Z.d)("HeadValidasiJualBeliHutang")),this.props.dispatch(_e([])),this.props.dispatch(ke([])),this.props.dispatch(fe(!1)),Object(S.e)("success","Validasi Transaksi Berhasil")}).catch(e=>{Object(S.e)("info","Terjadi Kesalahaan Saat Mengirim Data")})}TextFile(){const e=document.createElement("a"),a=new Blob([document.getElementById("myInput").value],{type:"text/plain;charset=utf-8"});e.href=URL.createObjectURL(a),e.download="autoprint_pembelian.txt",document.body.appendChild(e),e.click()}TextFilenotapesanan(){const e=document.createElement("a"),a=new Blob([document.getElementById("nota_pesanan").value],{type:"text/plain;charset=utf-8"});e.href=URL.createObjectURL(a),e.download="autoprint_pesanan.txt",document.body.appendChild(e),e.click()}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Kasir")),l.a.createElement("li",{className:"breadcrumb-item active"},"Validasi")),l.a.createElement("h1",{className:"page-header"},"Validasi "),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"Validasi"),l.a.createElement("textarea",{style:{display:"none"},id:"myInput",rows:"100",cols:"100"}),l.a.createElement("textarea",{style:{display:"none"},id:"nota_titip",rows:"100",cols:"100"}),l.a.createElement("textarea",{style:{display:"none"},id:"nota_pesanan",rows:"100",cols:"100"}),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement(ca,{onSubmit:e=>this.handleSubmit(e),btnClear:()=>this.btnClear(),isLoadingBtl:this.state.isLoadingBtl,columnsBeli:this.state.columnsBeli,columnsJual:this.state.columnsJual,columnsTitipan:this.state.columnsTitipan,columnsPesanan:this.state.columnsPesanan})),l.a.createElement("br",null)))}}ba=Object(ae.a)({form:"FormValidasiJualBeli",enableReinitialize:!0})(ba);var Ea=Object(q.b)()(ba);class _a extends n.Component{constructor(e){super(e),this.state={isLoading:!1,DataValidasi:[],btnValidasi:!1,kode_sales:!1,warna:!1}}componentDidMount(){this.props.dispatch(Object(X.ob)()),0===this.props.saveValidasiJual.length&&0===this.props.saveValidasiBeli.length&&(localStorage.setItem("validasi_titipan",JSON.stringify([])),localStorage.setItem("validasi_beli",JSON.stringify([])))}getDataSales(e){localStorage.setItem("validasi_titipan",JSON.stringify([])),localStorage.setItem("validasi_beli",JSON.stringify([])),this.setState({kode_sales:e}),Object(A.c)("sales/get/by-kode-sales/"+e).then(e=>{this.props.change("nama_sales",e.data.nama_sales),this.props.dispatch(_e([])),this.props.dispatch(ke([]))}).catch(e=>{Object(S.e)("info","Gagal Mengambil Data Keserver")})}getDetaValidasi(){let e={kode_sales:this.state.kode_sales};if(!1===e.kode_sales)return Object(S.e)("info","Kode Sales Harus Di pilih"),this.setState({isLoading:!1}),!1;this.setState({isLoading:!0}),"SEMUA"===this.state.kode_sales?Object(A.d)("titip/unvalid",e).then(e=>{if(0===e.data.length)Object(S.e)("info","Belum Ada Data Yang Harus Di Validasi"),this.setState({isLoading:!1}),this.props.change("grandtotal",0);else{let a=0;e.data.forEach(e=>{a+=e.harga_total}),this.props.change("grandtotal",a.toLocaleString("kr-KO")),Object(S.e)("success","Data Validasi Tersedia"),this.setState({isLoading:!1}),this.props.dispatch(fe(!0)),localStorage.setItem("validasi_titipan",JSON.stringify(e.data)),this.props.dispatch(_e(e.data))}}).catch(e=>{Object(S.e)("info","Terjadi Kesalahan Saat Request"),this.setState({isLoading:!1,DataValidasi:[]})}):Object(A.d)("titip/unvalid/by-sales/"+this.state.kode_sales).then(e=>{if(console.log(e),0===e.data.length)Object(S.e)("info","Belum Ada Data Yang Harus Di Validasi"),this.setState({isLoading:!1}),this.props.change("grandtotal",0);else{let a=0;e.data.forEach(e=>{a+=e.harga_total}),this.props.change("grandtotal",a.toLocaleString("kr-KO")),Object(S.e)("success","Data Validasi Tersedia"),this.setState({isLoading:!1}),this.props.dispatch(fe(!0)),localStorage.setItem("validasi_titipan",JSON.stringify(e.data)),this.props.dispatch(_e(e.data))}}).catch(e=>{Object(S.e)("info","Terjadi Kesalahan Saat Request"),this.setState({isLoading:!1,DataValidasi:[]})})}render(){const e={mode:"checkbox",clickToSelect:!0,selectColumnPosition:"right",onSelect:(e,a,t,n)=>{if(!0===a){let a={no_titip_group:e.no_titip_group},t=JSON.parse(localStorage.getItem("data_validasi_titip"))||[];-1===t.findIndex(a=>a.no_titip_group===e.no_titip_group)&&(t.push(a),localStorage.setItem("data_validasi_titip",JSON.stringify(t)))}else if(null===localStorage.getItem("data_validasi_titip"));else{let a=JSON.parse(localStorage.getItem("data_validasi_titip"));a.splice(e.no_titip_group,1),localStorage.setItem("data_validasi_titip",JSON.stringify(a))}},onSelectAll:(e,a,t)=>{a.forEach((a,t)=>{if(!0===e){let e={no_titip_group:a.no_titip_group},t=JSON.parse(localStorage.getItem("data_validasi_titip"))||[];-1===t.findIndex(e=>e.no_titip_group===a.no_titip_group)&&(t.push(e),localStorage.setItem("data_validasi_titip",JSON.stringify(t)))}else if(null===localStorage.getItem("data_validasi_titip"));else{let e=JSON.parse(localStorage.getItem("data_validasi_titip"));e.splice(a.no_titip_group,1),localStorage.setItem("data_validasi_titip",JSON.stringify(e))}})}};let a=[{kode_sales:"SEMUA",nama_sales:"SEMUA"}];return this.props.DataSales.forEach(e=>{let t={kode_sales:e.kode_sales,nama_sales:e.nama_sales};a.push(t)}),l.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off",onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-3"},l.a.createElement(ee.a,{name:"kode_sales",onChange:e=>this.getDataSales(e),label:"Pilih Kode Sales",placeholder:"Masukan Kode Sales",options:a.map(e=>{return{value:e.kode_sales,name:e.nama_sales}}),component:te.f})),l.a.createElement("div",{className:"col-3"},l.a.createElement(ee.a,{name:"nama_sales",component:te.e,type:"text",label:"Nama Sales",placeholder:"Masukan Nama Sales",readOnly:!0})),l.a.createElement("div",{className:"col-3"},l.a.createElement(ee.a,{name:"grandtotal",component:te.e,type:"text",label:"Grand Total",placeholder:"Grand Total",readOnly:!0,customeCss:this.state.warna?"customeInput":""})),l.a.createElement("div",{className:"col-3"},l.a.createElement("label",null,"\xa0"),l.a.createElement("button",{onClick:()=>this.getDetaValidasi(),className:"btn btn-primary btn-block",disabled:this.state.isLoading,type:"button"},this.state.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Cari Data"):"Cari Data")),l.a.createElement("div",{className:"col-12"},l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"List Data Titipan"),l.a.createElement("br",null),l.a.createElement($.a,{selectRow:e,keyField:"kode_barcode",columns:this.props.columnsJual,data:this.props.saveValidasiJual||[],empty:!0}))),l.a.createElement("div",{className:"col-6"},!1===this.props.btnValidasi?l.a.createElement("button",{className:"btn btn-primary btn-block",disabled:!0,type:"button"},"Validasi"):l.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.props.isLoading,type:"submit"},this.props.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Validasi"):"Validasi")),l.a.createElement("div",{className:"col-6"},l.a.createElement("button",{className:"btn btn-warning btn-block",disabled:this.props.isLoadingBtl,onClick:this.props.btnClear,type:"button"},this.props.isLoadingBtl?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Batal"):"Batal"))),this.props.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}_a=Object(ae.a)({form:"HeadValidasiTitipanHutang",enableReinitialize:!0})(_a);var Aa=Object(q.b)(e=>({DataSales:e.datamaster.getDataSales,saveValidasiBeli:e.hutang.saveValidasiBeli,saveValidasiJual:e.hutang.saveValidasiJual,btnValidasi:e.hutang.disableButtonValidasi}))(_a);class ka extends l.a.Component{constructor(e){super(e),this.state={isLoading:!1,isLoadingBtl:!1,columnsJual:[{dataField:"no_titip_group",text:"No Titip",footer:(e,a,t,n)=>l.a.createElement("div",null,"Total Barang :"," ",null===JSON.parse(localStorage.getItem("validasi_titipan"))?0:JSON.parse(localStorage.getItem("validasi_titipan")).length||0," ")},{dataField:"kode_barcode",text:"Kode Barcode "},{dataField:"nama_barang",text:"Nama Barang",footer:"",footerAttrs:{colSpan:"3"}},{dataField:"nama_atribut",text:"Nama Atribut"},{dataField:"berat",text:"Berat",formatter:e=>e.toFixed(3),footer:e=>e.reduce((e,a)=>e+a,0).toFixed(3)},{dataField:"harga_total",text:"Harga",headerClasses:"text-right",footer:e=>(localStorage.setItem("total_harga_beli",e.reduce((e,a)=>e+a,0)),l.a.createElement("div",{className:"text-right"}," ",e.reduce((e,a)=>e+a,0).toLocaleString("kr-KO"))),formatter:e=>l.a.createElement("div",{className:"text-right"},parseFloat(e).toLocaleString("kr-KO"))}]},this.handleSubmit=this.handleSubmit.bind(this),this.btnClear=this.btnClear.bind(this)}btnClear(){this.setState({isLoadingBtl:!0}),setTimeout(()=>{localStorage.removeItem("validasi_titipan"),localStorage.removeItem("validasi_beli"),this.props.dispatch(Object(Z.d)("HeadValidasiJualBeliHutang")),this.props.dispatch(_e([])),this.props.dispatch(ke([])),this.props.dispatch(fe(!1)),this.setState({isLoadingBtl:!1})},1e3)}componentWillUnmount(){this.props.dispatch(_e([])),this.props.dispatch(ke([]))}handleSubmit(e){let a=JSON.parse(localStorage.getItem("data_validasi_titip"));Object(A.e)("validasi/simpan/jualbeli",a).then(e=>{if(0!==e.data.notabeli.length){let a="";e.data.notabeli.forEach((e,t)=>{let n=e.head.n_alamat_customer.length;a+="========================================\nTanggal          : ".concat(e.head.tgl_system,"\nNama Customer    : ").concat(e.head.nama_customer,"\nNo Hp            : ").concat(e.head.no_hp,"\nAlamat Customer  : ").concat(e.head.n_alamat_customer.split(0,20),"\n"),n>20&&(a+="                   ".concat(e.head.n_alamat_customer.split(0,20),"\n")),n>40&&(a+="                   ".concat(e.head.n_alamat_customer.split(40,20),"\n")),a+="========================================\n",a+="Keterangan\n",a+="========================================\n";let l=0,r=0;e.detail.forEach((e,t)=>{l+=e.harga,r+=e.harga_nota,a+="No Faktur Beli : ".concat(e.no_faktur_beli,"\n"),a+="Jenis Barang   : ".concat(e.kode_dept,"\n"),a+="Nama Barang    : ".concat(e.nama_barang,"\n"),a+="Berat          : ".concat(e.berat.toFixed(3),"\n"),a+="Harga          : ".concat(e.harga.toLocaleString("kr-KO"),"\n"),a+="========================================\n"}),a+="Total          : ".concat(l.toLocaleString("kr-KO"),"\n"),a+="========================================\n",a+="Harga Waktu Beli   : ".concat(l.toLocaleString("kr-KO"),"\n"),a+="Harga Waktu Jual   : ".concat(r.toLocaleString("kr-KO"),"\n"),a+="\n\n\n\n"}),document.getElementById("myInput").value=a,setTimeout(()=>{this.TextFile()},100)}localStorage.removeItem("validasi_titipan"),localStorage.removeItem("validasi_beli"),this.props.dispatch(Object(Z.d)("HeadValidasiJualBeliHutang")),this.props.dispatch(_e([])),this.props.dispatch(ke([])),Object(S.e)("success","Validasi Transaksi Berhasil"),this.props.dispatch(fe(!1))}).catch(e=>{console.log(e.response.data),Object(S.e)("info","Terjadi Kesalahaan Saat Mengirim Data")})}TextFile(){const e=document.createElement("a"),a=new Blob([document.getElementById("myInput").value],{type:"text/plain;charset=utf-8"});e.href=URL.createObjectURL(a),e.download="autoprint_pembelian.txt",document.body.appendChild(e),e.click()}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Kasir")),l.a.createElement("li",{className:"breadcrumb-item active"},"Validasi Titipan")),l.a.createElement("h1",{className:"page-header"},"Validasi Titipan "),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"Validasi Titipan"),l.a.createElement("textarea",{style:{display:"none"},id:"myInput",rows:"100",cols:"100"}),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement(Aa,{onSubmit:e=>this.handleSubmit(e),btnClear:()=>this.btnClear(),isLoadingBtl:this.state.isLoadingBtl,columnsBeli:this.state.columnsBeli,columnsJual:this.state.columnsJual})),l.a.createElement("br",null)))}}ka=Object(ae.a)({form:"FormValidasiTitipan",enableReinitialize:!0})(ka);var Sa=Object(q.b)()(ka),fa=t(50),ya=t(31),Oa=t.n(ya);var Ca=class extends n.Component{constructor(e){super(e),this.state={}}render(){let e=0,a=0,t=0,n=0,r=0,o=0,s=0,i=0,c=0,m=0,d=0,g=0,p=0,h=0,u=0;return this.props.data.forEach((l,b)=>{e+=l.stock_awal,a+=l.berat_awal,p+=l.stock_tambah,h+=l.berat_tambah,c+=l.stock_jual,m+=l.berat_jual,s+=l.stock_hancur,i+=l.berat_hancur,d+=l.stock_akhir,g+=l.berat_akhir,t+=l.stock_in,r+=l.stock_out,n+=l.berat_in,o+=l.berat_out,u+=l.berat_selisih_jual}),l.a.createElement(l.a.Fragment,null,l.a.createElement(Oa.a,{id:"test-table-xls-button",className:"btn btn-success btn-block",table:"table-to-xls",filename:"Laporan Barang Summary",sheet:"Laporan Barang Summary",buttonText:"Export Exel"}),l.a.createElement("table",{rowkey:"kode_member",id:"table-to-xls",style:{display:"none"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"16",style:{textAlign:"center"}}," ","LAPORAN BARANG TOKO"," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"16",style:{textAlign:"center"}}," ","Tanggal"," ",0===Object(k.l)("tgl_laporan").length?null:JSON.parse(Object(k.l)("tgl_laporan")).tanggal," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"16"}," TOKO :  ",Object(k.j)().nama_toko," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"16"}," ALAMAT :  ",Object(k.j)().alamat_toko," ")),l.a.createElement("tr",null,l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BAKI"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"Potong Awal"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BERAT AWAL"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"TAMBAH PTG"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"TAMBAH BERAT"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"JUAL PTG"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BERAT JUAL"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"HANCUR PTG"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"HANCUR BERAT"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"PTG AKHIR"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BERAT AKHIR"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"STOCK IN"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"STOCK OUT"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BERAT IN"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BERAT OUT"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BERAT SELISIH PENJUALAN"))),l.a.createElement("tbody",null,this.props.data.map((e,a)=>l.a.createElement("tr",{key:a},l.a.createElement("td",null,e._id.kode_toko),l.a.createElement("td",null,e.stock_awal),l.a.createElement("td",null,Object(k.f)(e.berat_awal,3)),l.a.createElement("td",null,e.stock_tambah),l.a.createElement("td",null,Object(k.f)(e.berat_tambah,3)),l.a.createElement("td",null,e.stock_jual),l.a.createElement("td",null,Object(k.f)(e.berat_jual,3)),l.a.createElement("td",null,e.stock_hancur),l.a.createElement("td",null,Object(k.f)(e.berat_hancur,3)),l.a.createElement("td",null,e.stock_akhir),l.a.createElement("td",null,Object(k.f)(e.berat_akhir,3)),l.a.createElement("td",null,e.stock_in),l.a.createElement("td",null,e.stock_out),l.a.createElement("td",null,Object(k.f)(e.berat_in,3)),l.a.createElement("td",null,e.berat_out.toFixed(3)),l.a.createElement("td",null,Object(k.f)(e.berat_selisih_jual,3))))),l.a.createElement("tfoot",null,l.a.createElement("tr",null,l.a.createElement("td",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"Total"),l.a.createElement("td",{style:{backgroundColor:"#E8E5E5",color:"#000"}},e," "),l.a.createElement("td",{style:{backgroundColor:"#E8E5E5",color:"#000"}},a," "),l.a.createElement("td",{style:{backgroundColor:"#E8E5E5",color:"#000"}},p),l.a.createElement("td",{style:{backgroundColor:"#E8E5E5",color:"#000"}},Object(k.f)(h,3)),l.a.createElement("td",{style:{backgroundColor:"#E8E5E5",color:"#000"}},c),l.a.createElement("td",{style:{backgroundColor:"#E8E5E5",color:"#000"}},Object(k.f)(m,3)),l.a.createElement("td",{style:{backgroundColor:"#E8E5E5",color:"#000"}},s),l.a.createElement("td",{style:{backgroundColor:"#E8E5E5",color:"#000"}},Object(k.f)(i,3)),l.a.createElement("td",{style:{backgroundColor:"#E8E5E5",color:"#000"}},d),l.a.createElement("td",{style:{backgroundColor:"#E8E5E5",color:"#000"}},Object(k.f)(g,3)),l.a.createElement("td",{style:{backgroundColor:"#E8E5E5",color:"#000"}},t),l.a.createElement("td",{style:{backgroundColor:"#E8E5E5",color:"#000"}},r),l.a.createElement("td",{style:{backgroundColor:"#E8E5E5",color:"#000"}},Object(k.f)(n,3)),l.a.createElement("td",{style:{backgroundColor:"#E8E5E5",color:"#000"}},Object(k.f)(o,3)),l.a.createElement("td",{style:{backgroundColor:"#E8E5E5",color:"#000"}},Object(k.f)(u,3))))))}};var Na=(e="")=>{const a=new ga.default("l","mm",[297,210]);let t=[],n=30,l=[];a.setFontSize(15),a.text("LAPORAN BARANG TOKO",14,15),a.setFontSize(20),a.text(Object(k.j)().nama_toko,200,15),a.setFontSize(8);let r=Object(k.j)().alamat_toko.length;r>20&&a.text(Object(k.j)().alamat_toko.slice(0,48),200,20),r>50&&a.text(Object(k.j)().alamat_toko.slice(48,90),200,25),a.setFontSize(10),a.setProperties({title:"LAPORAN BARANG TOKO"}),a.text("PERIODE : ".concat(0===Object(k.l)("tgl_laporan").length?null:JSON.parse(Object(k.l)("tgl_laporan")).tanggal),14,25),l=[[{content:"Baki"},{content:"Ptg Awal",styles:{halign:"right"}},{content:"Berat Awal",styles:{halign:"right"}},{content:"Tambah Ptg",styles:{halign:"right"}},{content:"Tambah Berat",styles:{halign:"right"}},{content:"Jual Ptg",styles:{halign:"right"}},{content:"Berat Jual",styles:{halign:"right"}},{content:"Hancur Ptg",styles:{halign:"right"}},{content:"Hancur Berat",styles:{halign:"right"}},{content:"Stock In",styles:{halign:"right"}},{content:"Stock Out",styles:{halign:"right"}},{content:"Berat In",styles:{halign:"right"}},{content:"Berat Out",styles:{halign:"right"}},{content:"Ptg Akhir",styles:{halign:"right"}},{content:"Berat Akhir",styles:{halign:"right"}}]];let o=0,s=0,i=0,c=0,m=0,d=0,g=0,p=0,h=0,u=0,b=0,E=0,_=0,A=0,S=0;e.forEach((e,a)=>{let n=[e._id.kode_toko,{content:e.stock_awal,styles:{halign:"right"}},{content:Object(k.f)(e.berat_awal,3),styles:{halign:"right"}},{content:e.stock_tambah,styles:{halign:"right"}},{content:Object(k.f)(e.berat_tambah,3),styles:{halign:"right"}},{content:e.stock_jual,styles:{halign:"right"}},{content:Object(k.f)(e.berat_jual,3),styles:{halign:"right"}},{content:e.stock_hancur,styles:{halign:"right"}},{content:Object(k.f)(e.berat_hancur,3),styles:{halign:"right"}},{content:e.stock_in,styles:{halign:"right"}},{content:e.stock_out,styles:{halign:"right"}},{content:Object(k.f)(e.berat_in,3),styles:{halign:"right"}},{content:Object(k.f)(e.berat_out,3),styles:{halign:"right"}},{content:e.stock_akhir,styles:{halign:"right"}},{content:Object(k.f)(e.berat_akhir,3),styles:{halign:"right"}}];t.push(n),o+=e.stock_awal,s+=e.berat_awal,_+=e.stock_tambah,A+=e.berat_tambah,h+=e.stock_jual,u+=e.berat_jual,g+=e.stock_hancur,p+=e.berat_hancur,b+=e.stock_akhir,E+=e.berat_akhir,i+=e.stock_in,m+=e.stock_out,c+=e.berat_in,d+=e.berat_out,S+=e.berat_selisih_jual});let f=[{content:"Total",styles:{textColor:"#000",fillColor:"#E8E5E5",halign:"right"}},{content:"".concat(o),styles:{textColor:"#000",fillColor:"#E8E5E5",halign:"right"}},{content:"".concat(Object(k.f)(s,3)),styles:{textColor:"#000",fillColor:"#E8E5E5",halign:"right"}},{content:"".concat(_),styles:{textColor:"#000",fillColor:"#E8E5E5",halign:"right"}},{content:"".concat(Object(k.f)(A,3)),styles:{textColor:"#000",fillColor:"#E8E5E5",halign:"right"}},{content:"".concat(h),styles:{textColor:"#000",fillColor:"#E8E5E5",halign:"right"}},{content:"".concat(Object(k.f)(u,3)),styles:{textColor:"#000",fillColor:"#E8E5E5",halign:"right"}},{content:"".concat(g),styles:{textColor:"#000",fillColor:"#E8E5E5",halign:"right"}},{content:"".concat(Object(k.f)(p,3)),styles:{textColor:"#000",fillColor:"#E8E5E5",halign:"right"}},{content:"".concat(i),styles:{textColor:"#000",fillColor:"#E8E5E5",halign:"right"}},{content:"".concat(m),styles:{textColor:"#000",fillColor:"#E8E5E5",halign:"right"}},{content:"".concat(Object(k.f)(c,3)),styles:{textColor:"#000",fillColor:"#E8E5E5",halign:"right"}},{content:"".concat(Object(k.f)(d,3)),styles:{textColor:"#000",fillColor:"#E8E5E5",halign:"right"}},{content:"".concat(b),styles:{textColor:"#000",fillColor:"#E8E5E5",halign:"right"}},{content:"".concat(Object(k.f)(E,3)),styles:{textColor:"#000",fillColor:"#E8E5E5",halign:"right"}}];if(t.push(f),0!==S){let e=[{content:"Berat Selisih Penjualan : ".concat(Object(k.f)(S,3)," "),colSpan:15,styles:{fontStyle:"bold",textColor:"#CC313D"}}];t.push(e)}let y=[{content:"Printed By ".concat(JSON.parse(Object(k.l)("userdata")).user_id," / ").concat(Object(k.i)()),styles:{fontStyle:"italic",textColor:"#000"}}];t.push(y),a.autoTable({head:l,body:t,startY:n,theme:"plain",rowPageBreak:"avoid",margin:{top:10},footStyles:{fontSize:8},bodyStyles:{lineColor:"#000",fontSize:8},headStyles:{fontSize:8,borderTop:"#000",textColor:"#000",fillColor:"#E8E5E5"},tableLineColor:[255,255,255],tableLineWidth:1}),n=a.autoTableEndPosY()+3,t=[];const O=a.internal.getNumberOfPages(),C=a.internal.pageSize.width,N=a.internal.pageSize.height;a.setFontSize(10);for(let k=1;k<O+1;k++){let e=C/2,t=N-10;a.setPage(k),a.text("".concat(k," of ").concat(O),e,t,{align:"center"})}var x=a.output("datauristring"),j=window.open();j.document.open(),j.document.write("<html><head><title>LAPORAN BARANG TOKO</title></head><body style='margin:0 !important'><embed width='100%' height='100%'  src="+x+"></embed></body></html>")};class xa extends n.Component{constructor(e){super(e),this.state={date:new Date,isChecked:!0},this.setStartDate=this.setStartDate.bind(this),this.setLastDate=this.setLastDate.bind(this)}exportPdf(){Na(this.props.LaporanDataBarang)}setStartDate(e){this.setState({tgl_awal:new Date(e)})}setLastDate(e){this.setState({tgl_akhir:new Date(e)})}componentDidMount(){this.props.change("kode_toko","ALL"),this.props.change("kode_dept","ALL"),this.props.change("cetak_report","per_baki")}render(){let e=[{value:"ALL",name:"SEMUA"}];this.props.databaki.forEach(a=>{let t={value:a.kode_baki,name:a.kode_baki+" - "+a.nama_baki};e.push(t)});let a=[{value:"ALL",name:"SEMUA"}];this.props.dataJenis.forEach(e=>{let t={value:e.kode_dept,name:e.kode_dept+" - "+e.nama_dept};a.push(t)});let t=[{value:"ALL",name:"SEMUA"}];this.props.dataGudang.forEach(e=>{let a={value:e.kode_gudang,name:e.kode_gudang+" - "+e.nama_gudang};t.push(a)});let n=[];this.props.LaporanDataBarang.forEach(e=>{let a={baki:e._id.kode_toko,jml_pototng:e.stock_awal,jml_berat:Object(k.f)(e.berat_awal,3),tambah_ptg:e.stock_tambah,tambah_berat:Object(k.f)(e.berat_tambah,3),jml_ptg:e.stock_jual,jual_berat:Object(k.f)(e.berat_jual,3),hancur_berat:Object(k.f)(e.berat_hancur,3),hancur_ptg:e.stock_hancur,stock_akhir:e.stock_akhir,total_berat:Object(k.f)(e.berat_akhir,3),stock_in:e.stock_in,stock_out:e.stock_out,berat_in:Object(k.f)(e.berat_in,3),berat_out:Object(k.f)(e.berat_out,3),berat_selisih:Object(k.f)(e.berat_selisih_jual,3)};n.push(a)});const r={renderer:e=>l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},"Stock In : ",e.stock_in," ",l.a.createElement("br",null),"Stock Out : ",e.stock_out," ",l.a.createElement("br",null),"Berat In : ",e.berat_in," ",l.a.createElement("br",null),"Berat Out : ",e.berat_out," ",l.a.createElement("br",null),"Berat Selisih Penjualan: ",e.berat_selisih," ",l.a.createElement("br",null)))),showExpandColumn:!0,expandByColumnOnly:!0};return l.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(ee.a,{name:"tgl_awal",component:te.c,label:"Tanggal Dari",type:"text",defaultValue:Object(k.h)(),selected:this.state.tgl_awal,onChange:e=>this.setStartDate(e),placeholder:"Masukan Tanggal Dari"})),l.a.createElement("div",{className:"col-3"},l.a.createElement(ee.a,{label:"Gudang",name:"kode_gudang",options:t,placeholder:"Silahkan Pilih Kode Gudang",component:te.f})),l.a.createElement("div",{className:"col-3"},l.a.createElement(ee.a,{label:"Baki",name:"kode_toko",options:e,placeholder:"Silahkan Pilih Kode Baki",component:te.f})),l.a.createElement("div",{className:"col-3"},l.a.createElement(ee.a,{label:"Jenis",name:"kode_dept",options:a,placeholder:"Silahkan Pilih Kode Jenis",component:te.f})),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement("h3",null,"Cetak Laporan"),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("label",null,l.a.createElement(ee.a,{name:"cetak_report",component:"input",type:"radio",value:"gudang"})," Berdasarkan Gudang")),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("label",null,l.a.createElement(ee.a,{name:"cetak_report",component:"input",type:"radio",value:"baki"})," Berdasarkan Baki")),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("label",null,l.a.createElement(ee.a,{name:"cetak_report",component:"input",type:"radio",value:"per_baki"})," Rekap Per Baki"))),l.a.createElement("div",{className:"col-lg-12 mb-2"},l.a.createElement("div",{className:"text-right"},l.a.createElement("button",{type:"submit",value:"PDF",name:"type_btn",className:"btn btn-primary btn-block"},this.props.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Mencari"):"Cari Laporan"))),l.a.createElement("div",{className:"col-12"},l.a.createElement($.a,{keyField:"baki",data:this.props.export?n:[],columns:[{dataField:"baki",text:"Baki"},{dataField:"jml_pototng",text:"Ptg Awal"},{dataField:"jml_berat",text:"Brt Awal"},{dataField:"tambah_ptg",text:"Tambah Ptg"},{dataField:"tambah_berat",text:"Tambah Brt"},{dataField:"jml_ptg",text:"Jual Ptg"},{dataField:"jual_berat",text:"Jual Brt"},{dataField:"hancur_ptg",text:"Hancur Ptg"},{dataField:"hancur_berat",text:"Hancur Brt"},{dataField:"stock_akhir",text:"Ptg Akhir"},{dataField:"total_berat",text:"Berat Akhir"}],empty:!0,textEmpty:"Data Laporan Barang Summary Kosong",expandRow:r})),l.a.createElement("div",{className:this.props.export?"col-lg-12":"col-lg-12 d-none"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("button",{onClick:()=>this.exportPdf(),className:"btn btn-warning btn-block"}," ","Export PDF"," ")),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(Ca,{data:this.props.LaporanDataBarang}))))),this.props.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}xa=Object(ae.a)({form:"FIlterLaporanSumary",enableReinitialize:!0,validate:fa.a})(xa);var ja=Object(q.b)(e=>({databaki:e.datamaster.getDataBaki,dataJenis:e.datamaster.getDataJenis,dataGudang:e.datamaster.getDataGudang,initialValues:{tgl_awal:Object(k.h)()}}))(xa);var va=(e="")=>{const a=new ga.default("l","mm",[297,210]);let t=[],n=30,l=[];a.setFontSize(15),a.text("LAPORAN BARANG TOKO / GUDANG",14,15),a.setFontSize(20),a.text(Object(k.j)().nama_toko,200,15),a.setFontSize(8);let r=Object(k.j)().alamat_toko.length;r>20&&a.text(Object(k.j)().alamat_toko.slice(0,48),200,20),r>50&&a.text(Object(k.j)().alamat_toko.slice(48,90),200,25),a.setFontSize(10),a.setProperties({title:"LAPORAN BARANG TOKO / GUDANG"}),a.text("PERIODE : ".concat(0===Object(k.l)("tgl_laporan").length?null:JSON.parse(Object(k.l)("tgl_laporan")).tanggal),14,25);let o=e.length;e.forEach((e,r)=>{let s=0,i=0,c=0,m=0,d=0,g=0,p=0,h=0,u=0,b=0,E=0,_=0;if(l=[[{content:"GUDANG : ".concat(e.kode_gudang),colSpan:13}]],t.push([{content:"JENIS",rowSpan:2,styles:{halign:"center",valign:"center",lineWidth:.1,fontSize:8}},{content:"SALDO AWAL",colSpan:2,styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"PENJUALAN",colSpan:2,styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"HANCUR",colSpan:2,styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"MUTASI IN",colSpan:2,styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"MUTASI OUT",colSpan:2,styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"SALDO AKHIR",colSpan:2,styles:{halign:"center",lineWidth:.1,fontSize:8}}]),t.push([{content:"QTY",styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"BERAT",styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"QTY",styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"BERAT",styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"QTY",styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"BERAT",styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"QTY",styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"BERAT",styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"QTY",styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"BERAT",styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"QTY",styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"BERAT",styles:{halign:"center",lineWidth:.1,fontSize:8}}]),r===o){let e=[{content:"Printed By ".concat(JSON.parse(Object(k.l)("userdata")).user_id," / ").concat(Object(k.i)()),styles:{fontStyle:"italic",textColor:"#000"}}];t.push(e)}e.detail.forEach(e=>{s+=e.stock_awal,i+=e.berat_awal,c+=e.stock_jual,m+=e.berat_jual,d+=e.stock_hancur,g+=e.berat_hancur,p+=e.stock_in,h+=e.berat_in,u+=e.stock_out,b+=e.berat_out,E+=e.stock_akhir,_+=e.berat_akhir;let a=[{content:e.kode_dept,styles:{halign:"left"}},{content:Object(k.f)(e.stock_awal,3),styles:{halign:"right"}},{content:Object(k.f)(e.berat_awal,3),styles:{halign:"right"}},{content:Object(k.f)(e.stock_jual,3),styles:{halign:"right"}},{content:Object(k.f)(e.berat_jual,3),styles:{halign:"right"}},{content:Object(k.f)(e.stock_hancur,3),styles:{halign:"right"}},{content:Object(k.f)(e.berat_hancur,3),styles:{halign:"right"}},{content:Object(k.f)(e.stock_in,3),styles:{halign:"right"}},{content:Object(k.f)(e.berat_in,3),styles:{halign:"right"}},{content:Object(k.f)(e.stock_out,3),styles:{halign:"right"}},{content:Object(k.f)(e.berat_out,3),styles:{halign:"right"}},{content:Object(k.f)(e.stock_akhir,3),styles:{halign:"right"}},{content:Object(k.f)(e.berat_akhir,3),styles:{halign:"right"}}];t.push(a)});let A=[{content:"SUB TOTAL",styles:{halign:"left",fillColor:"#E8E5E5"}},{content:Object(k.f)(s,3),styles:{halign:"right",fillColor:"#E8E5E5"}},{content:Object(k.f)(i,3),styles:{halign:"right",fillColor:"#E8E5E5"}},{content:Object(k.f)(c,3),styles:{halign:"right",fillColor:"#E8E5E5"}},{content:Object(k.f)(m,3),styles:{halign:"right",fillColor:"#E8E5E5"}},{content:Object(k.f)(d,3),styles:{halign:"right",fillColor:"#E8E5E5"}},{content:Object(k.f)(g,3),styles:{halign:"right",fillColor:"#E8E5E5"}},{content:Object(k.f)(p,3),styles:{halign:"right",fillColor:"#E8E5E5"}},{content:Object(k.f)(h,3),styles:{halign:"right",fillColor:"#E8E5E5"}},{content:Object(k.f)(u,3),styles:{halign:"right",fillColor:"#E8E5E5"}},{content:Object(k.f)(b,3),styles:{halign:"right",fillColor:"#E8E5E5"}},{content:Object(k.f)(E,3),styles:{halign:"right",fillColor:"#E8E5E5"}},{content:Object(k.f)(_,3),styles:{halign:"right",fillColor:"#E8E5E5"}}];t.push(A),a.autoTable({head:l,body:t,startY:n,theme:"plain",rowPageBreak:"avoid",margin:{top:10},footStyles:{fontSize:8},bodyStyles:{lineColor:"#000",fontSize:8},headStyles:{fontSize:8,borderTop:"#000",lineWidth:.1,textColor:"#000",fillColor:"#E8E5E5"},tableLineColor:[255,255,255],tableLineWidth:1}),n=a.lastAutoTable.finalY+20,l=[],t=[]}),n=a.autoTableEndPosY()+3,t=[];const s=a.internal.getNumberOfPages(),i=a.internal.pageSize.width,c=a.internal.pageSize.height;a.setFontSize(10);for(let g=1;g<s+1;g++){let e=i/2,t=c-10;a.setPage(g),a.text("".concat(g," of ").concat(s),e,t,{align:"center"})}var m=a.output("datauristring"),d=window.open();d.document.open(),d.document.write("<html><head><title>LAPORAN BARANG TOKO / GUDANG</title></head><body style='margin:0 !important'><embed width='100%' height='100%'  src="+m+"></embed></body></html>")};var La=(e="")=>{const a=new ga.default("l","mm",[297,210]);let t=[],n=30,l=[];a.setFontSize(15),a.text("LAPORAN BARANG TOKO / BAKI",14,15),a.setFontSize(20),a.text(Object(k.j)().nama_toko,200,15),a.setFontSize(8);let r=Object(k.j)().alamat_toko.length;r>20&&a.text(Object(k.j)().alamat_toko.slice(0,48),200,20),r>50&&a.text(Object(k.j)().alamat_toko.slice(48,90),200,25),a.setFontSize(10),a.setProperties({title:"LAPORAN BARANG TOKO / BAKI"}),a.text("PERIODE : ".concat(0===Object(k.l)("tgl_laporan").length?null:JSON.parse(Object(k.l)("tgl_laporan")).tanggal),14,25);let o=e.length;e.forEach((e,r)=>{let s=0,i=0,c=0,m=0,d=0,g=0,p=0,h=0,u=0,b=0,E=0,_=0;if(l=[[{content:"GUDANG : ".concat(e.kode_gudang),colSpan:15}]],t.push([{content:"BAKI",rowSpan:2,styles:{halign:"center",valign:"center",lineWidth:.1,fontSize:8}},{content:"JENIS",rowSpan:2,styles:{halign:"center",valign:"center",lineWidth:.1,fontSize:8}},{content:"SALDO AWAL",colSpan:2,styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"PENJUALAN",colSpan:2,styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"HANCUR",colSpan:2,styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"MUTASI IN",colSpan:2,styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"MUTASI OUT",colSpan:2,styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"SALDO AKHIR",colSpan:2,styles:{halign:"center",lineWidth:.1,fontSize:8}}]),t.push([{content:"QTY",styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"BERAT",styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"QTY",styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"BERAT",styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"QTY",styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"BERAT",styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"QTY",styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"BERAT",styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"QTY",styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"BERAT",styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"QTY",styles:{halign:"center",lineWidth:.1,fontSize:8}},{content:"BERAT",styles:{halign:"center",lineWidth:.1,fontSize:8}}]),r===o){let e=[{content:"Printed By ".concat(JSON.parse(Object(k.l)("userdata")).user_id," / ").concat(Object(k.i)()),styles:{fontStyle:"italic",textColor:"#000"}}];t.push(e)}e.detail.forEach(e=>{s+=e.stock_awal,i+=e.berat_awal,c+=e.stock_jual,m+=e.berat_jual,d+=e.stock_hancur,g+=e.berat_hancur,p+=e.stock_in,h+=e.berat_in,u+=e.stock_out,b+=e.berat_out,E+=e.stock_akhir,_+=e.berat_akhir;let a=[{content:e.identifier.kode_toko,styles:{halign:"left"}},{content:e.identifier.kode_dept,styles:{halign:"left"}},{content:Object(k.f)(e.stock_awal,3),styles:{halign:"right"}},{content:Object(k.f)(e.berat_awal,3),styles:{halign:"right"}},{content:Object(k.f)(e.stock_jual,3),styles:{halign:"right"}},{content:Object(k.f)(e.berat_jual,3),styles:{halign:"right"}},{content:Object(k.f)(e.stock_hancur,3),styles:{halign:"right"}},{content:Object(k.f)(e.berat_hancur,3),styles:{halign:"right"}},{content:Object(k.f)(e.stock_in,3),styles:{halign:"right"}},{content:Object(k.f)(e.berat_in,3),styles:{halign:"right"}},{content:Object(k.f)(e.stock_out,3),styles:{halign:"right"}},{content:Object(k.f)(e.berat_out,3),styles:{halign:"right"}},{content:Object(k.f)(e.stock_akhir,3),styles:{halign:"right"}},{content:Object(k.f)(e.berat_akhir,3),styles:{halign:"right"}}];t.push(a)});let A=[{content:"SUB TOTAL",colSpan:2,styles:{halign:"left",fillColor:"#E8E5E5"}},{content:Object(k.f)(s,3),styles:{halign:"right",fillColor:"#E8E5E5"}},{content:Object(k.f)(i,3),styles:{halign:"right",fillColor:"#E8E5E5"}},{content:Object(k.f)(c,3),styles:{halign:"right",fillColor:"#E8E5E5"}},{content:Object(k.f)(m,3),styles:{halign:"right",fillColor:"#E8E5E5"}},{content:Object(k.f)(d,3),styles:{halign:"right",fillColor:"#E8E5E5"}},{content:Object(k.f)(g,3),styles:{halign:"right",fillColor:"#E8E5E5"}},{content:Object(k.f)(p,3),styles:{halign:"right",fillColor:"#E8E5E5"}},{content:Object(k.f)(h,3),styles:{halign:"right",fillColor:"#E8E5E5"}},{content:Object(k.f)(u,3),styles:{halign:"right",fillColor:"#E8E5E5"}},{content:Object(k.f)(b,3),styles:{halign:"right",fillColor:"#E8E5E5"}},{content:Object(k.f)(E,3),styles:{halign:"right",fillColor:"#E8E5E5"}},{content:Object(k.f)(_,3),styles:{halign:"right",fillColor:"#E8E5E5"}}];t.push(A),a.autoTable({head:l,body:t,startY:n,theme:"plain",rowPageBreak:"avoid",margin:{top:10},footStyles:{fontSize:8},bodyStyles:{lineColor:"#000",fontSize:8},headStyles:{fontSize:8,borderTop:"#000",lineWidth:.1,textColor:"#000",fillColor:"#E8E5E5"},tableLineColor:[255,255,255],tableLineWidth:1}),n=a.lastAutoTable.finalY+20,l=[],t=[]}),n=a.autoTableEndPosY()+3,t=[];const s=a.internal.getNumberOfPages(),i=a.internal.pageSize.width,c=a.internal.pageSize.height;a.setFontSize(10);for(let g=1;g<s+1;g++){let e=i/2,t=c-10;a.setPage(g),a.text("".concat(g," of ").concat(s),e,t,{align:"center"})}var m=a.output("datauristring"),d=window.open();d.document.open(),d.document.write("<html><head><title>LAPORAN BARANG TOKO / BAKI</title></head><body style='margin:0 !important'><embed width='100%' height='100%'  src="+m+"></embed></body></html>")};class Ta extends l.a.Component{constructor(e){super(e),this.state={isLoading:!1,export:!1,LaporanDataBarang:[],tgl_awal:new Date,tgl_akhir:new Date},this.handleSubmit=this.handleSubmit.bind(this)}componentDidMount(){this.props.dispatch(Object(X.lb)()),this.props.dispatch(Object(X.hb)()),this.props.dispatch(Object(X.jb)())}handleSubmit(e){this.setState({isLoading:!0});let a={tanggal:Object(k.e)(He(new Date(e.tgl_awal)).format("YYYY-MM-DD")),kode_dept:e.kode_dept,kode_toko:e.kode_toko};"gudang"===e.cetak_report?Object(A.e)("barang/get/saldobarang/by-gudang",a).then(e=>{0===e.data.length?(Object(S.e)("info","Data Yang Anda Cari Tidak Ada"),this.setState({isLoading:!1,export:!1})):(Object(k.m)("tgl_laporan",JSON.stringify(a)),Object(S.e)("success","Laporan Barang Summary Tersedia"),va(e.data),this.setState({LaporanDataBarangGudang:e.data,isLoading:!1,export:!0}))}).catch(e=>this.errorHandling(e)):"baki"===e.cetak_report?Object(A.e)("barang/get/saldobarang/by-jenis",a).then(e=>{0===e.data.length?(Object(S.e)("info","Data Yang Anda Cari Tidak Ada"),this.setState({isLoading:!1,export:!1})):(Object(k.m)("tgl_laporan",JSON.stringify(a)),Object(S.e)("success","Laporan Barang Summary Tersedia"),La(e.data),this.setState({LaporanDataBarangGudang:e.data,isLoading:!1,export:!0}))}).catch(e=>this.errorHandling(e)):Object(A.e)("barang/get/saldobarang",a).then(e=>{0===e.data.length?(Object(S.e)("info","Data Yang Anda Cari Tidak Ada"),this.setState({isLoading:!1,export:!1})):(Object(k.m)("tgl_laporan",JSON.stringify(a)),Object(S.e)("success","Laporan Barang Summary Tersedia"),this.setState({LaporanDataBarang:e.data,isLoading:!1,export:!0}))}).catch(e=>this.errorHandling(e))}errorHandling(e){Object(S.e)("info","Terjadi Kesalahan Saat Request Data"),this.setState({isLoading:!1,export:!1})}setStartDate(e){this.setState({tgl_awal:new Date(e)})}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Laporan")),l.a.createElement("li",{className:"breadcrumb-item active"},"Laporan Barang Summary")),l.a.createElement("h1",{className:"page-header"},"Laporan Barang Summary "),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"Laporan Barang Summary"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement(ja,{export:this.state.export,LaporanDataBarang:this.state.LaporanDataBarang,isLoading:this.state.isLoading,onSubmit:e=>this.handleSubmit(e)})),l.a.createElement("br",null)))}}Ta=Object(ae.a)({form:"FormLaporanBarangSumary",enableReinitialize:!0})(Ta);var Ia=Object(q.b)()(Ta);var Ba=class extends n.Component{constructor(e){super(e),this.state={}}render(){let e=0,a=0,t=0,n=0,r=0,o=0,s=0,i=0,c=0,m=0,d=0,g=0,p=0,h=0,u=0,b=0,E=0,_=0,A=0,S=0,f=0;return this.props.data.forEach(l=>{"PENJUALAN"===l.kategori&&l.detail.forEach(n=>{e+=n.berat,a+=n.harga_total,t+=n.jumlah_total}),"BATAL PENJUALAN"===l.kategori&&l.detail.forEach(e=>{n+=e.berat,r+=e.harga_total,o+=e.jumlah_total}),"PEMBELIAN"===l.kategori&&l.detail.forEach(e=>{s+=e.berat,i+=e.harga_total,c+=e.jumlah_total}),"BATAL PEMBELIAN"===l.kategori&&l.detail.forEach(e=>{m+=e.berat,d+=e.harga_total,g+=e.jumlah_total}),"TERIMA BARANG"===l.kategori&&l.detail.forEach(e=>{p+=e.berat,h+=e.harga_total,u+=e.jumlah_total}),"PINDAH BARANG"===l.kategori&&l.detail.forEach(e=>{b+=e.berat,E+=e.jumlah_total}),"HANCUR BARANG"===l.kategori&&l.detail.forEach(e=>{_+=e.berat,A+=e.jumlah_total}),"SALDO BARANG"===l.kategori&&l.detail.forEach(e=>{S+=e.berat,f+=e.jumlah_total})}),l.a.createElement(l.a.Fragment,null,l.a.createElement(Oa.a,{id:"test-table-xls-button",className:"btn btn-success btn-block",table:"table-to-xls",filename:"Laporan EOD",sheet:"Laporan EOD",buttonText:"Export Exel"}),l.a.createElement("table",{rowkey:"kode_member",id:"table-to-xls",style:{display:"none"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"8",style:{textAlign:"center"}}," LAPORAN EOD")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"8",style:{textAlign:"center"}}," ","Tanggal"," ",0===Object(k.l)("tgl_laporan").length?null:JSON.parse(Object(k.l)("tgl_laporan")).tanggal," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"8"}," TOKO :  ",Object(k.j)().nama_toko," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"8"}," ALAMAT :  ",Object(k.j)().alamat_toko," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"8",style:{textAlign:"center"}}))),this.props.data.map((h,k)=>l.a.createElement(l.a.Fragment,null,l.a.createElement("tbody",null,"PENJUALAN"===h.kategori?l.a.createElement(l.a.Fragment,null,h.detail.length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"8",style:{textAlign:"left"}}," KATEGORI : ",h.kategori," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"2",style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Kode Group "),l.a.createElement("th",{colSpan:"2",style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Berat "),l.a.createElement("th",{colSpan:"2",style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Harga Total "),l.a.createElement("th",{colSpan:"2",style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Jumlah Total ")),h.detail.map((e,a)=>l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2",style:{textAlign:"left"}}," ",e._id.kode_group," "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"left"}}," ",e.berat," "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"right"}}," ",e.harga_total," "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"left"}}," ",e.jumlah_total," "))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2",style:{textAlign:"center"}}," Total "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"left"}}," ",e," "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"right"}}," ",a," "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"left"}}," ",t," "))):null):"BATAL PENJUALAN"===h.kategori?l.a.createElement(l.a.Fragment,null,h.detail.length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"8",style:{textAlign:"left"}}," KATEGORI : ",h.kategori," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"2",style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Kode Group "),l.a.createElement("th",{colSpan:"2",style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Berat "),l.a.createElement("th",{colSpan:"2",style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Harga Total "),l.a.createElement("th",{colSpan:"2",style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Jumlah Total ")),h.detail.map((e,a)=>l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2",style:{textAlign:"left"}}," ",e._id.kode_group," "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"left"}}," ",e.berat," "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"right"}}," ",e.harga_total," "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"left"}}," ",e.jumlah_total," "))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2",style:{textAlign:"center"}}," Total "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"left"}}," ",n," "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"right"}}," ",r," "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"left"}}," ",o," "))):null):"PEMBELIAN"===h.kategori?l.a.createElement(l.a.Fragment,null,h.detail.length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"8",style:{textAlign:"left"}}," KATEGORI : ",h.kategori," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"2",style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Kode Dept "),l.a.createElement("th",{colSpan:"2",style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Berat "),l.a.createElement("th",{colSpan:"2",style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Harga Total "),l.a.createElement("th",{colSpan:"2",style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Jumlah Total ")),h.detail.map((e,a)=>l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2",style:{textAlign:"left"}}," ",e._id.kode_dept," "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"left"}}," ",e.berat," "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"right"}}," ",e.harga_total," "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"left"}}," ",e.jumlah_total," "))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2",style:{textAlign:"center"}}," Total "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"left"}}," ",s," "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"right"}}," ",i," "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"left"}}," ",c," "))):null):"BATAL PEMBELIAN"===h.kategori?l.a.createElement(l.a.Fragment,null,h.detail.length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"8",style:{textAlign:"left"}}," KATEGORI : ",h.kategori," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"2",style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Kode Dept "),l.a.createElement("th",{colSpan:"2",style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Berat "),l.a.createElement("th",{colSpan:"2",style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Harga Total "),l.a.createElement("th",{colSpan:"2",style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Jumlah Total ")),h.detail.map((e,a)=>l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2",style:{textAlign:"left"}}," ",e._id.kode_dept," "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"left"}}," ",e.berat," "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"right"}}," ",e.harga_total," "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"left"}}," ",e.jumlah_total," "))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2",style:{textAlign:"center"}}," Total "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"left"}}," ",m," "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"right"}}," ",d," "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"left"}}," ",g," "))):null):"TERIMA BARANG"===h.kategori?l.a.createElement(l.a.Fragment,null,h.detail.length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"8",style:{textAlign:"left"}}," KATEGORI : ",h.kategori," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"2",style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Kode Group "),l.a.createElement("th",{colSpan:"2",style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Kode Toko "),l.a.createElement("th",{colSpan:"2",style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Berat "),l.a.createElement("th",{colSpan:"2",style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Jumlah Total ")),h.detail.map((e,a)=>l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2",style:{textAlign:"left"}}," ",e._id.kode_group," "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"left"}}," ",e._id.kode_toko," "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"left"}}," ",e.berat," "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"left"}}," ",e.jumlah_total," "))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"4",style:{textAlign:"center"}}," Total "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"left"}}," ",p," "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"left"}}," ",u," "))):null):"PINDAH BARANG"===h.kategori?l.a.createElement(l.a.Fragment,null,h.detail.length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"8",style:{textAlign:"left"}}," KATEGORI : ",h.kategori," ")),l.a.createElement("tr",null,l.a.createElement("th",{style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Kode Group "),l.a.createElement("th",{style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Kode Gudang Asal "),l.a.createElement("th",{style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Kode Baki Asal "),l.a.createElement("th",{style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Kode Gudang "),l.a.createElement("th",{style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Kode Baki "),l.a.createElement("th",{style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Berat "),l.a.createElement("th",{colSpan:"2",style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Jumlah Total ")),h.detail.map((e,a)=>l.a.createElement("tr",null,l.a.createElement("td",{style:{textAlign:"left"}}," ",e._id.kode_group," "),l.a.createElement("td",{style:{textAlign:"left"}}," ",e._id.kode_gudang_asal," "),l.a.createElement("td",{style:{textAlign:"left"}}," ",e._id.kode_baki_asal," "),l.a.createElement("td",{style:{textAlign:"left"}}," ",e._id.kode_gudang," "),l.a.createElement("td",{style:{textAlign:"left"}}," ",e._id.kode_baki," "),l.a.createElement("td",{style:{textAlign:"left"}}," ",e.berat," "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"left"}}," ",e.jumlah_total," "))),l.a.createElement("tr",null,l.a.createElement("td",{colspan:"5",style:{textAlign:"center"}}," Total "),l.a.createElement("td",{style:{textAlign:"left"}}," ",b," "),l.a.createElement("td",{style:{textAlign:"left"},colSpan:"2"}," ",E," "))):null):"HANCUR BARANG"===h.kategori?l.a.createElement(l.a.Fragment,null,h.detail.length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"8",style:{textAlign:"left"}}," KATEGORI : ",h.kategori," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"3",style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Kode Group "),l.a.createElement("th",{colSpan:"3",style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Berat "),l.a.createElement("th",{colSpan:"2",style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Jumlah Total ")),h.detail.map((e,a)=>l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"3",style:{textAlign:"left"}}," ",e._id.kode_group," "),l.a.createElement("td",{colSpan:"3",style:{textAlign:"left"}}," ",e.berat," "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"left"}}," ",e.jumlah_total," "))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"3",style:{textAlign:"center"}}," Total "),l.a.createElement("td",{colSpan:"3",style:{textAlign:"left"}}," ",_," "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"left"}}," ",A," "))):null):"SALDO BARANG"===h.kategori?l.a.createElement(l.a.Fragment,null,h.detail.length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"8",style:{textAlign:"left"}}," KATEGORI : ",h.kategori," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"3",style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Kode Group "),l.a.createElement("th",{colSpan:"3",style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Berat "),l.a.createElement("th",{colSpan:"2",style:{textAlign:"left",backgroundColor:"#E8E5E5",color:"#000"}}," Jumlah Total ")),h.detail.map((e,a)=>l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"3",style:{textAlign:"left"}}," ",e._id.kode_group," "),l.a.createElement("td",{colSpan:"3",style:{textAlign:"left"}}," ",e.berat," "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"left"}}," ",e.jumlah_total," "))),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"3",style:{textAlign:"center"}}," Total "),l.a.createElement("td",{colSpan:"3",style:{textAlign:"left"}}," ",S," "),l.a.createElement("td",{colSpan:"2",style:{textAlign:"left"}}," ",f," "))):null):null))),l.a.createElement("tfoot",null)))}};var Da=(e="")=>{const a=new ga.default("l","mm",[297,210]);let t=[],n=30,l=[];a.setFontSize(15),a.text("LAPORAN EOD",14,15),a.setFontSize(20),a.text(Object(k.j)().nama_toko,200,15),a.setFontSize(8);let r=Object(k.j)().alamat_toko.length;r>20&&a.text(Object(k.j)().alamat_toko.slice(0,48),200,20),r>50&&a.text(Object(k.j)().alamat_toko.slice(48,90),200,25),a.setFontSize(10),a.setProperties({title:"LAPORAN EOD"}),a.text("PERIODE : ".concat(0===Object(k.l)("tgl_laporan").length?null:JSON.parse(Object(k.l)("tgl_laporan")).tanggal),14,25),e.forEach((e,a)=>{if("PENJUALAN"===e.kategori&&0!==e.detail.length){l=[[{content:"Kode Group",styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:"2"},{content:"Berat",styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:"2"},{content:"Harga Total",styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:"2"},{content:"Jumlah Total",styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:"2"}]];let a=[{content:"Kategori : ".concat(e.kategori),colSpan:8}];t.push(a);let n=0,r=0,o=0;e.detail.forEach((e,a)=>{let l=[{content:e._id.kode_group,colSpan:2},{content:e.berat.toFixed(3),colSpan:2},{content:e.harga_total.toLocaleString("kr-KO"),colSpan:2},{content:e.jumlah_total.toLocaleString("kr-KO"),colSpan:2}];o+=e.berat,n+=e.harga_total,r+=e.jumlah_total,t.push(l)});let s=[{content:"Total ",styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2},{content:o.toFixed(3),styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2},{content:n.toLocaleString("kr-KO"),styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2},{content:r.toLocaleString("kr-KO"),styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2}];t.push(s)}if("BATAL PENJUALAN"===e.kategori&&0!==e.detail.length){let a=[{content:"Kategori : ".concat(e.kategori),colSpan:8}];t.push(a);let n=[{content:"Kode Group",styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2},{content:"Berat",styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2},{content:"Harga Total",styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2},{content:"Jumlah Total",styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2}];t.push(n);let l=0,r=0,o=0;e.detail.forEach((e,a)=>{let n=[{content:e._id.kode_group,colSpan:2},{content:e.berat.toFixed(3),colSpan:2},{content:e.harga_total.toLocaleString("kr-KO"),colSpan:2},{content:e.jumlah_total.toLocaleString("kr-KO"),colSpan:2}];o+=e.berat,l+=e.harga_total,r+=e.jumlah_total,t.push(n)});let s=[{content:"Total ",styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2},{content:o.toFixed(3),styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2},{content:l.toLocaleString("kr-KO"),styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2},{content:r.toLocaleString("kr-KO"),styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2}];t.push(s)}if("PEMBELIAN"===e.kategori&&0!==e.detail.length){let a=[{content:"Kategori : ".concat(e.kategori),colSpan:8}];t.push(a);let n=[{content:"Kode Dept",styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2},{content:"Berat",styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2},{content:"Harga Total",styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2},{content:"Jumlah Total",styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2}];t.push(n);let l=0,r=0,o=0;e.detail.forEach((e,a)=>{let n=[{content:e._id.kode_dept,colSpan:2},{content:e.berat.toFixed(3),colSpan:2},{content:e.harga_total.toLocaleString("kr-KO"),colSpan:2},{content:e.jumlah_total.toLocaleString("kr-KO"),colSpan:2}];o+=e.berat,l+=e.harga_total,r+=e.jumlah_total,t.push(n)});let s=[{content:"Total ",styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2},{content:o.toFixed(3),styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2},{content:l.toLocaleString("kr-KO"),styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2},{content:r.toLocaleString("kr-KO"),styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2}];t.push(s)}if("BATAL PEMBELIAN"===e.kategori&&0!==e.detail.length){let a=[{content:"Kategori : ".concat(e.kategori),colSpan:8}];t.push(a);let n=[{content:"Kode Dept",styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2},{content:"Berat",styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2},{content:"Harga Total",styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2},{content:"Jumlah Total",styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2}];t.push(n);let l=0,r=0,o=0;e.detail.forEach((e,a)=>{let n=[{content:e._id.kode_dept,colSpan:2},{content:e.berat.toFixed(3),colSpan:2},{content:e.harga_total.toLocaleString("kr-KO"),colSpan:2},{content:e.jumlah_total.toLocaleString("kr-KO"),colSpan:2}];o+=e.berat,l+=e.harga_total,r+=e.jumlah_total,t.push(n)});let s=[{content:"Total ",styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2},{content:o.toFixed(3),styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2},{content:l.toLocaleString("kr-KO"),styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2},{content:r.toLocaleString("kr-KO"),styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2}];t.push(s)}if("PINDAH BARANG"===e.kategori&&0!==e.detail.length){let a=[{content:"Kategori : ".concat(e.kategori),colSpan:8}];t.push(a);let n=[{content:"Kode Group",styles:{fillColor:"#E8E5E5",textColor:"#000"}},{content:"Kode Gudang Asal",styles:{fillColor:"#E8E5E5",textColor:"#000"}},{content:"Kode Baki Asal",styles:{fillColor:"#E8E5E5",textColor:"#000"}},{content:"Kode Gudang",styles:{fillColor:"#E8E5E5",textColor:"#000"}},{content:"Kode Baki",styles:{fillColor:"#E8E5E5",textColor:"#000"}},{content:"Berat",styles:{fillColor:"#E8E5E5",textColor:"#000"}},{content:"Jumlah Total",styles:{fillColor:"#E8E5E5",textColor:"#000"}},{content:" ",styles:{fillColor:"#E8E5E5",lineColor:"#E8E5E5",textColor:"#000"}}];t.push(n);let l=0,r=0;e.detail.forEach((e,a)=>{let n=[{content:e._id.kode_group},{content:e._id.kode_gudang_asal},{content:e._id.kode_baki_asal},{content:e._id.kode_gudang},{content:e._id.kode_gudang},{content:e.berat.toFixed(3)},{content:e.jumlah_total.toLocaleString("kr-KO"),colSpan:2}];r+=e.berat,l+=e.jumlah_total,t.push(n)});let o=[{content:"Total ",styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:5},{content:r.toFixed(3),styles:{fillColor:"#E8E5E5",textColor:"#000"}},{colSpan:2,content:l.toLocaleString("kr-KO"),styles:{fillColor:"#E8E5E5",textColor:"#000"}}];t.push(o)}if("HANCUR BARANG"===e.kategori&&0!==e.detail.length){let a=[{content:"Kategori : ".concat(e.kategori),colSpan:8}];t.push(a);let n=[{content:"Kode Group",styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:3},{content:"Berat",styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:3},{content:"Jumlah Total",styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2}];t.push(n);let l=0,r=0,o=0;e.detail.forEach((e,a)=>{let n=[{content:e._id.kode_group,colSpan:3},{content:e.berat.toFixed(3),colSpan:3},{content:e.jumlah_total.toLocaleString("kr-KO"),colSpan:2}];o+=e.berat,l+=e.harga_total,r+=e.jumlah_total,t.push(n)});let s=[{content:"Total ",styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:3},{content:o.toFixed(3),styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:3},{content:r.toLocaleString("kr-KO"),styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2}];t.push(s)}if("SALDO BARANG"===e.kategori&&0!==e.detail.length){let a=[{content:"Kategori : ".concat(e.kategori),colSpan:8}];t.push(a);let n=[{content:"Kode Group",styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:3},{content:"Berat",styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:3},{content:"Jumlah Total",styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2}];t.push(n);let l=0,r=0,o=0;e.detail.forEach((e,a)=>{let n=[{content:e._id.kode_group,colSpan:3},{content:e.berat.toFixed(3),colSpan:3},{content:e.jumlah_total.toLocaleString("kr-KO"),colSpan:2}];o+=e.berat,l+=e.harga_total,r+=e.jumlah_total,t.push(n)});let s=[{content:"Total ",styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:3},{content:o.toFixed(3),styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:3},{content:r.toLocaleString("kr-KO"),styles:{fillColor:"#E8E5E5",textColor:"#000"},colSpan:2}];t.push(s)}});let o=[{colSpan:3,content:"Printed By ".concat(JSON.parse(Object(k.l)("userdata")).user_id," / ").concat(Object(k.i)()),styles:{fontStyle:"italic",textColor:"#000"}}];t.push(o),a.autoTable({head:l,body:t,startY:n,theme:"plain",rowPageBreak:"avoid",margin:{top:10},footStyles:{fontSize:8},bodyStyles:{fontSize:8},headStyles:{fontSize:8,textColor:"#000",fillColor:"#E8E5E5"}}),n=a.autoTableEndPosY()+3,t=[];const s=a.internal.getNumberOfPages(),i=a.internal.pageSize.width,c=a.internal.pageSize.height;a.setFontSize(10);for(let g=1;g<s+1;g++){let e=i/2,t=c-10;a.setPage(g),a.text("".concat(g," of ").concat(s),e,t,{align:"center"})}var m=a.output("datauristring"),d=window.open();d.document.open(),d.document.write("<html><head><title>LAPORAN EOD</title></head><body style='margin:0 !important'><embed width='100%' height='100%'  src="+m+"></embed></body></html>")};class Ma extends n.Component{constructor(e){super(e),this.state={date:new Date},this.setStartDate=this.setStartDate.bind(this),this.setLastDate=this.setLastDate.bind(this)}exportPdf(){Da(this.props.LaporanEod)}setStartDate(e){this.setState({tgl_awal:new Date(e)})}setLastDate(e){this.setState({tgl_akhir:new Date(e)})}render(){let e=[],a=[],t=[],n=[],r=[],o=[],s=[],i=[];this.props.LaporanEod.forEach(l=>{l.detail.forEach(c=>{if("BATAL PENJUALAN"===l.kategori){let e={kategori:l.kategori,kode_group:c._id.kode_group,berat:c.berat,harga_total:void 0===c.harga_total?"0":c.harga_total,jumlah_total:c.jumlah_total};a.push(e)}if("PENJUALAN"===l.kategori){let a={kategori:l.kategori,kode_group:c._id.kode_group,berat:c.berat,harga_total:void 0===c.harga_total?"0":c.harga_total,jumlah_total:c.jumlah_total};e.push(a)}if("PEMBELIAN"===l.kategori){let e={kategori:l.kategori,kode_dept:c._id.kode_dept,berat:c.berat,harga_total:void 0===c.harga_total?"0":c.harga_total,jumlah_total:c.jumlah_total};t.push(e)}if("BATAL PEMBELIAN"===l.kategori){let e={kategori:l.kategori,kode_dept:c._id.kode_dept,berat:c.berat,harga_total:void 0===c.harga_total?"0":c.harga_total,jumlah_total:c.jumlah_total};n.push(e)}if("TERIMA BARANG"===l.kategori){let e={kategori:l.kategori,kode_group:c._id.kode_group,kode_toko:c._id.kode_toko,berat:c.berat,jumlah_total:c.jumlah_total};r.push(e)}if("PINDAH BARANG"===l.kategori){let e={kategori:l.kategori,kode_group:c._id.kode_group,kode_gudang_asal:c._id.kode_gudang_asal,kode_baki_asal:c._id.kode_baki_asal,kode_gudang:c._id.kode_gudang,kode_baki:c._id.kode_baki,berat:c.berat,jumlah_total:c.jumlah_total};o.push(e)}if("HANCUR BARANG"===l.kategori){let e={kategori:l.kategori,kode_group:c._id.kode_group,berat:c.berat,jumlah_total:c.jumlah_total};s.push(e)}if("SALDO BARANG"===l.kategori){let e={kategori:l.kategori,kode_group:c._id.kode_group,berat:c.berat,jumlah_total:c.jumlah_total};i.push(e)}})});const c=[{dataField:"kategori",text:"Kategori",footer:""},{dataField:"kode_group",text:"Kode Group",footer:""},{dataField:"berat",text:"Berat",formatter:e=>l.a.createElement("div",null," ",void 0===e?0:e.toFixed(3)),footer:e=>l.a.createElement("div",null," ",e.reduce((e,a)=>e+a,0).toFixed(3)," ")},{dataField:"harga_total",text:"Harga Total",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",void 0===e?0:parseFloat(e).toLocaleString("kr-KO")),footer:e=>l.a.createElement("div",{className:"text-right"}," ",parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")," ")},{dataField:"jumlah_total",text:"Jumlah Total",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",void 0===e?0:parseFloat(e).toLocaleString("kr-KO")),footer:e=>l.a.createElement("div",{className:"text-right"}," ",parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")," ")}],m=[{dataField:"kategori",text:"Kategori",footer:""},{dataField:"kode_dept",text:"Kode Dept",footer:""},{dataField:"berat",text:"Berat",formatter:e=>l.a.createElement("div",null," ",void 0===e?0:e.toFixed(3)),footer:e=>l.a.createElement("div",null," ",e.reduce((e,a)=>e+a,0).toFixed(3)," ")},{dataField:"harga_total",text:"Harga Total",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",void 0===e?0:parseFloat(e).toLocaleString("kr-KO")),footer:e=>l.a.createElement("div",{className:"text-right"}," ",parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")," ")},{dataField:"jumlah_total",text:"Jumlah Total",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",void 0===e?0:parseFloat(e).toLocaleString("kr-KO")),footer:e=>l.a.createElement("div",{className:"text-right"}," ",parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")," ")}],d=[{dataField:"kategori",text:"Kategori",footer:""},{dataField:"kode_group",text:"Kode Group",footer:""},{dataField:"kode_toko",text:"Kode Toko",footer:""},{dataField:"berat",text:"Berat",formatter:e=>l.a.createElement("div",null," ",void 0===e?0:e.toFixed(3)),footer:e=>l.a.createElement("div",null," ",e.reduce((e,a)=>e+a,0).toFixed(3)," ")},{dataField:"jumlah_total",text:"Jumlah Total",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",void 0===e?0:parseFloat(e).toLocaleString("kr-KO")),footer:e=>l.a.createElement("div",{className:"text-right"}," ",parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")," ")}],g=[{dataField:"kategori",text:"Kategori",footer:""},{dataField:"kode_group",text:"Kode Group",footer:""},{dataField:"kode_gudang_asal",text:"Gudang Asal",footer:""},{dataField:"kode_baki_asal",text:"Baki Asal",footer:""},{dataField:"kode_gudang",text:"Kode Gudang",footer:""},{dataField:"kode_baki",text:"Kode Baki",footer:""},{dataField:"berat",text:"Berat",formatter:e=>l.a.createElement("div",null," ",void 0===e?0:e.toFixed(3)),footer:e=>l.a.createElement("div",null," ",e.reduce((e,a)=>e+a,0).toFixed(3)," ")},{dataField:"jumlah_total",text:"Jumlah Total",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",void 0===e?0:parseFloat(e).toLocaleString("kr-KO")),footer:e=>l.a.createElement("div",{className:"text-right"}," ",parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")," ")}],p=[{dataField:"kategori",text:"Kategori",footer:""},{dataField:"kode_group",text:"Kode Group",footer:""},{dataField:"berat",text:"Berat",formatter:e=>l.a.createElement("div",null," ",void 0===e?0:e.toFixed(3)),footer:e=>l.a.createElement("div",null," ",e.reduce((e,a)=>e+a,0).toFixed(3)," ")},{dataField:"jumlah_total",text:"Jumlah Total",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",void 0===e?0:parseFloat(e).toLocaleString("kr-KO")),footer:e=>l.a.createElement("div",{className:"text-right"}," ",parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")," ")}];return l.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(ee.a,{name:"tgl_awal",component:te.c,label:"Tanggal Dari",type:"text",defaultValue:Object(k.h)(),selected:this.state.tgl_awal,onChange:e=>this.setStartDate(e),placeholder:"Masukan Tanggal Dari"})),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"text-right"},l.a.createElement("label",null,"\xa0"),l.a.createElement("button",{type:"submit",value:"PDF",name:"type_btn",className:"btn btn-primary btn-block"},this.props.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Mencari"):"Cari Laporan"))),l.a.createElement("div",{className:"col-12"},l.a.createElement($.a,{keyField:"kode_group",data:this.props.export?e:[],columns:c,empty:!0,textEmpty:"Data Laporan EOD Penjualan Kosong"})),l.a.createElement("div",{className:"col-12"},l.a.createElement($.a,{keyField:"kode_group",data:this.props.export?a:[],columns:c,empty:!0,textEmpty:"Data Laporan EOD Batal Penjualan Kosong"})),l.a.createElement("div",{className:"col-12"},l.a.createElement($.a,{keyField:"kode_dept",data:this.props.export?t:[],columns:m,empty:!0,textEmpty:"Data Laporan EOD Pembelian Kosong"})),l.a.createElement("div",{className:"col-12"},l.a.createElement($.a,{keyField:"kode_dept",data:this.props.export?n:[],columns:m,empty:!0,textEmpty:"Data Laporan EOD Batal Pembelian Kosong"})),l.a.createElement("div",{className:"col-12"},l.a.createElement($.a,{keyField:"kode_group",data:this.props.export?r:[],columns:d,empty:!0,textEmpty:"Data Laporan EOD Terima Barang Kosong"})),l.a.createElement("div",{className:"col-12"},l.a.createElement($.a,{keyField:"kode_group",data:this.props.export?o:[],columns:g,empty:!0,textEmpty:"Data Laporan EOD Pindah Barang Kosong"})),l.a.createElement("div",{className:"col-12"},l.a.createElement($.a,{keyField:"kode_group",data:this.props.export?s:[],columns:p,empty:!0,textEmpty:"Data Laporan EOD Hancur Barang Kosong"})),l.a.createElement("div",{className:"col-12"},l.a.createElement($.a,{keyField:"kode_group",data:this.props.export?i:[],columns:p,empty:!0,textEmpty:"Data Laporan EOD Saldo Barang Kosong"})),l.a.createElement("div",{className:this.props.export?"col-lg-12":"col-lg-12 d-none"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("button",{onClick:()=>this.exportPdf(),className:"btn btn-warning btn-block"}," ","Export PDF"," ")),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(Ba,{data:this.props.LaporanEod}))))),this.props.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}Ma=Object(ae.a)({form:"FilterLaporanEod",enableReinitialize:!0,validate:fa.a})(Ma);var wa=Object(q.b)(e=>({initialValues:{tgl_awal:Object(k.h)()}}))(Ma);class Ka extends l.a.Component{constructor(e){super(e),this.state={isLoading:!1,LaporanEod:[],export:!1},this.handleSubmit=this.handleSubmit.bind(this)}handleSubmit(e){this.setState({isLoading:!0});let a={tanggal:Object(k.e)(He(new Date(e.tgl_awal)).format("YYYY-MM-DD"))};Object(A.e)("eod/get",a).then(e=>{0===e.data.length?(Object(S.e)("info","Data Yang Anda Cari Tidak Ada"),this.setState({isLoading:!1,export:!1})):(Object(k.m)("tgl_laporan",JSON.stringify(a)),Object(S.e)("success","Laporan EOD Tersedia"),this.setState({LaporanEod:e.data,isLoading:!1,export:!0}))}).catch(e=>this.errorHandling(e))}errorHandling(e){Object(S.e)("info","Terjadi Kesalahan Saat Request Data"),this.setState({isLoading:!1,export:!1})}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Laporan")),l.a.createElement("li",{className:"breadcrumb-item active"},"Laporan Eod")),l.a.createElement("h1",{className:"page-header"},"Laporan EOD "),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"Laporan EOD"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement(wa,{export:this.state.export,onSubmit:e=>this.handleSubmit(e),LaporanEod:this.state.LaporanEod})),l.a.createElement("br",null)))}}Ka=Object(ae.a)({form:"FormLaporanEod",enableReinitialize:!0})(Ka);var Pa=Object(q.b)()(Ka);var Fa=class extends n.Component{constructor(e){super(e),this.state={}}render(){let e=0,a=0,t=0;return this.props.data.forEach((n,l)=>{n.detail.forEach((n,l)=>{e+=n.berat_emas,a+=n.berat_bruto,t+=n.jumlah_hutang})}),l.a.createElement(l.a.Fragment,null,l.a.createElement(Oa.a,{id:"test-table-xls-button",className:"btn btn-success btn-block",table:"table-to-xls",filename:"Laporan Batal Hutang",sheet:"Laporan Batal Hutang",buttonText:"Export Exel"}),l.a.createElement("table",{rowkey:"kode_member",id:"table-to-xls",style:{display:"none"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"14"}," Laporan Batal Hutang  ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"14"}," Periode  ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"14"}," ",0===Object(k.l)("tgl_laporan").length?null:JSON.parse(Object(k.l)("tgl_laporan")).tgl_awal+" s/d "+JSON.parse(Object(k.l)("tgl_laporan")).tgl_akhir," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"14"}," TOKO :  ",Object(k.j)().nama_toko," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"14"}," ALAMAT :  ",Object(k.j)().alamat_toko," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"14"})),l.a.createElement("tr",null,l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"TANGGAL SYSTEM"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"TANGGAL HUTANG"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"TANGGAL JTH TEMPO"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE SALES"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NAMA CUSTOMER"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NO HP"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"ALAMAT CUSTOMER"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BERAT EMAS"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BERAT BRUTO"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"JUMLAH HUTANG"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"LAMA PINJAM"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BUNGA"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"TOTAL HUTANG"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"TOTAL BAYAR"))),l.a.createElement("tbody",null,this.props.data.map((e,a)=>l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"14",style:{textAlign:"left"}},"No Faktur : ",e._id.no_faktur_hutang," ")),e.detail.map((e,a)=>l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("td",null," ",e.tgl_system),l.a.createElement("td",null," ",e.tgl_tempo),l.a.createElement("td",null," ",e.kode_sales),l.a.createElement("td",null," ",e.nama_customer),l.a.createElement("td",null," ",e.no_hp),l.a.createElement("td",null," ",e.alamat_customer),l.a.createElement("td",{style:{textAlign:"right"}},"\xa0",Object(k.f)(e.berat_emas,3)),l.a.createElement("td",{style:{textAlign:"right"}},"\xa0",Object(k.f)(e.berat_bruto,3)),l.a.createElement("td",{style:{textAlign:"right"}}," \xa0",e.jumlah_hutang.toLocaleString("kr-KO")),l.a.createElement("td",{style:{textAlign:"right"}}," ",e.lama_pinjam),l.a.createElement("td",{style:{textAlign:"right"}}," ",e.bunga),l.a.createElement("td",{style:{textAlign:"right"}}," \xa0",e.total_hutang.toLocaleString("kr-KO")),l.a.createElement("td",{style:{textAlign:"right"}}," \xa0",e.total_bayar.toLocaleString("kr-KO")))))))),l.a.createElement("tfoot",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"},colSpan:"6"}," Grand Total "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},"\xa0",Object(k.f)(e,3)," "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},"\xa0",Object(k.f)(a,3)),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},"\xa0",t.toLocaleString("kr-KO")),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"center"},colSpan:"4"})))))}};var Ha=(e="")=>{const a=new ga.default("l","mm",[297,210]);let t=[],n=[],l=30,r=0,o=0,s=0,i=0,c=0;a.setFontSize(15),a.text("LAPORAN BATAL HUTANG",14,15),a.setFontSize(20),a.text(Object(k.j)().nama_toko,200,15),a.setFontSize(8);let m=Object(k.j)().alamat_toko.length;m>20&&a.text(Object(k.j)().alamat_toko.slice(0,48),200,20),m>50&&a.text(Object(k.j)().alamat_toko.slice(48,90),200,25),a.setFontSize(10),a.setProperties({title:"LAPORAN BATAL HUTANG"}),a.text("PERIODE : ".concat(0===Object(k.l)("tgl_laporan").length?null:JSON.parse(Object(k.l)("tgl_laporan")).tgl_awal+" s/d "+JSON.parse(Object(k.l)("tgl_laporan")).tgl_akhir),14,25),n=[[{content:"TANGGAL SYSTEM"},{content:"TANGGAL HUTANG"},{content:"TANGGAL JTH TEMPO"},{content:"KODE SALES"},{content:"NAMA CUSTOMER"},{content:"NO HP"},{content:"ALAMAT CUSTOMER"},{content:"BERAT EMAS",styles:{halign:"right"}},{content:"BERAT BRUTO",styles:{halign:"right"}},{content:"JUMLAH HUTANG",styles:{halign:"right"}},{content:"LAMA PINJAM",styles:{halign:"right"}},{content:"BUNGA",styles:{halign:"right"}},{content:"TOTAL BAYAR",styles:{halign:"right"}}]],e.forEach((e,a)=>{let n=[{content:"NO FAKTUR : ".concat(e._id.no_faktur_hutang),colSpan:13}];t.push(n);let l=0,m=0,d=0;e.detail.forEach((e,a)=>{let n=[e.tgl_system,e.tgl_hutang,e.tgl_tempo,e.kode_sales,e.nama_customer,e.no_hp,e.alamat_customer,{content:Object(k.f)(e.berat_emas,3),styles:{halign:"right"}},{content:Object(k.f)(e.berat_bruto,3),styles:{halign:"right"}},{content:parseInt(e.jumlah_hutang).toLocaleString("kr-KO"),styles:{halign:"right"}},{content:e.lama_pinjam,styles:{halign:"right"}},{content:e.bunga+"%",styles:{halign:"right"}},{content:parseInt(e.total_hutang).toLocaleString("kr-KO"),styles:{halign:"right"}},{content:parseInt(e.total_bayar).toLocaleString("kr-KO"),styles:{halign:"right"}}];l+=e.berat_emas,m+=e.berat_bruto,d+=e.jumlah_hutang,s+=e.berat_emas,i+=e.berat_bruto,c+=e.jumlah_hutang,t.push(n)}),r+=e.detail.length,o+=e.detail.length});let d=[{content:"Grand Total : ",colSpan:6,styles:{halign:"center",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(s.toFixed(3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(i.toFixed(3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(c.toLocaleString("kr-KO")),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"",colSpan:"3",styles:{fillColor:"#E8E5E5",textColor:"#000"}}];t.push(d);let g=[{colSpan:3,content:"Printed By ".concat(JSON.parse(Object(k.l)("userdata")).user_id," / ").concat(Object(k.i)()),styles:{fontStyle:"italic",textColor:"#000"}}];t.push(g),a.autoTable({head:n,body:t,startY:l,theme:"plain",rowPageBreak:"avoid",margin:{top:10},footStyles:{fontSize:8},bodyStyles:{fontSize:8},headStyles:{fontSize:8,fillColor:"#E8E5E5",textColor:"#000"}}),l=a.autoTableEndPosY()+3,t=[];const p=a.internal.getNumberOfPages(),h=a.internal.pageSize.width,u=a.internal.pageSize.height;a.setFontSize(10);for(let _=1;_<p+1;_++){let e=h/2,t=u-10;a.setPage(_),a.text("".concat(_," of ").concat(p),e,t,{align:"center"})}var b=a.output("datauristring"),E=window.open();E.document.open(),E.document.write("<html><head><title>LAPORAN BATAL HUTANG</title></head><body style='margin:0 !important'><embed width='100%' height='100%'  src="+b+"></embed></body></html>")};class Ra extends n.Component{constructor(e){super(e),this.state={date:new Date},this.setStartDate=this.setStartDate.bind(this),this.setLastDate=this.setLastDate.bind(this)}exportPdf(){Ha(this.props.LaporanHutang)}setStartDate(e){this.setState({tgl_awal:new Date(e)})}setLastDate(e){this.setState({tgl_akhir:new Date(e)})}render(){const e={renderer:e=>l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},"Kode Sales : ",e.kode_sales," ",l.a.createElement("br",null),"Nama Customer : ",e.nama_customer," ",l.a.createElement("br",null),"No Hp : ",e.no_hp," ",l.a.createElement("br",null),"Alamat Customer : ",e.alamat_customer," ",l.a.createElement("br",null)))),showExpandColumn:!0,expandByColumnOnly:!0};let a=[];this.props.LaporanHutang.forEach((e,t)=>{e.detail.forEach((e,t)=>{a.push(e)})});const t=[{dataField:"no_faktur_hutang",text:"No Faktur Hutang",footerAttrs:{colSpan:"2"},footer:(e,t,n,r)=>l.a.createElement("div",null,"Total Transaksi Hutang : ",a.length," ")},{dataField:"tgl_hutang",text:"Tanggal Hutang"},{dataField:"berat_emas",text:"Berat",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",e.toFixed(3)),footer:e=>l.a.createElement("div",{className:"text-right"}," ",e.reduce((e,a)=>e+a,0).toFixed(3)," ")},{dataField:"jumlah_hutang",text:"Jumlah Hutang",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",parseInt(e).toLocaleString("kr-KO")),footer:e=>l.a.createElement("div",{className:"text-right"}," ",parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")," ")},{dataField:"lama_pinjam",text:"Lama Pinjam",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",e),footer:""},{dataField:"total_hutang",text:"Total Hutang",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",parseInt(e).toLocaleString("kr-KO")),footer:e=>l.a.createElement("div",{className:"text-right"}," ",parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")," ")}];return l.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(ee.a,{name:"tgl_awal",component:te.c,label:"Tanggal Dari",type:"text",selected:this.state.tgl_awal,onChange:e=>this.setStartDate(e),placeholder:"Masukan Tanggal Dari"})),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(ee.a,{name:"tgl_akhir",component:te.c,type:"text",selected:this.state.tgl_akhir,onChange:e=>this.setLastDate(e),label:"Tanggal Akhir",placeholder:"Masukan Tanggal Akhir"})),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("div",{className:"text-right"},l.a.createElement("label",null,"\xa0"),l.a.createElement("button",{type:"submit",value:"PDF",name:"type_btn",className:"btn btn-primary btn-block"},this.props.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Mencari"):"Cari Laporan"))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement($.a,{keyField:"no_hp",data:this.props.export?a:[],columns:t,empty:!0,textEmpty:"Data Laporan Hutang Kosong",expandRow:e})),l.a.createElement("div",{className:this.props.export?"col-lg-12":"col-lg-12 d-none"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("button",{onClick:()=>this.exportPdf(),className:"btn btn-warning btn-block"}," ","Export PDF"," ")),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(Fa,{data:this.props.LaporanHutang}))))),this.props.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}Ra=Object(ae.a)({form:"HeadFormBtlHutang",enableReinitialize:!0,validate:fa.a})(Ra);var Ja=Object(q.b)(e=>({initialValues:{tgl_awal:Object(k.h)(),tgl_akhir:Object(k.h)()}}))(Ra);var za=class extends l.a.Component{constructor(e){super(e),this.state={isLoading:!1,export:!1,dataHutang:[],LaporanHutang:[]},this.handleSubmit=this.handleSubmit.bind(this)}handleSubmit(e){this.setState({isLoading:!0});let a={tgl_awal:Object(k.e)(He(new Date(e.tgl_awal)).format("YYYY-MM-DD")),tgl_akhir:Object(k.e)(He(new Date(e.tgl_akhir)).format("YYYY-MM-DD"))};Object(A.e)("hutang/get/reportbatal",a).then(e=>{0===e.data.length?(Object(S.e)("info","Data Yang Anda Cari Tidak Ada"),this.setState({isLoading:!1,export:!1})):(Object(S.e)("success","Laporan Batal Hutang Tersedia"),Object(k.m)("tgl_laporan",JSON.stringify(a)),this.setState({export:!0,isLoading:!1,LaporanHutang:e.data}))}).catch(e=>{this.setState({export:!1,isLoading:!1}),Object(S.e)("info","Data Yang Anda Cari Tidak Ada")})}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Laporan")),l.a.createElement("li",{className:"breadcrumb-item active"},"Laporan Batal Hutang")),l.a.createElement("h1",{className:"page-header"},"Laporan Batal Hutang"),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"Laporan Batal Hutang"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement(Ja,{export:this.state.export,isLoading:this.state.isLoading,LaporanHutang:this.state.LaporanHutang,onSubmit:e=>this.handleSubmit(e)})))),l.a.createElement("br",null)))}};var Ga=class extends n.Component{constructor(e){super(e),this.state={}}render(){let e=0,a=0,t=0;return this.props.data.forEach((n,l)=>{n.detail.forEach((n,l)=>{e+=n.berat_emas,a+=n.berat_bruto,t+=n.jumlah_hutang})}),l.a.createElement(l.a.Fragment,null,l.a.createElement(Oa.a,{id:"test-table-xls-button",className:"btn btn-success btn-block",table:"table-to-xls",filename:"Laporan Hutang Lunas",sheet:"Laporan Hutang Lunas",buttonText:"Export Exel"}),l.a.createElement("table",{rowkey:"kode_member",id:"table-to-xls",style:{display:"none"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"14"}," Laporan Transaksi Hutang Lunas ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"14"}," Periode  ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"14"}," ",0===Object(k.l)("tgl_laporan").length?null:JSON.parse(Object(k.l)("tgl_laporan")).tgl_awal+"s/d"+JSON.parse(Object(k.l)("tgl_laporan")).tgl_akhir," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"14"}," TOKO :  ",Object(k.j)().nama_toko," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"14"}," ALAMAT :  ",Object(k.j)().alamat_toko," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"14"})),l.a.createElement("tr",null,l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"TANGGAL SYSTEM"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"TANGGAL LUNAS"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"TANGGAL JTH TEMPO"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE SALES"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NAMA CUSTOMER"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NO HP"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"ALAMAT CUSTOMER"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BERAT EMAS"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BERAT BRUTO"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"JUMLAH HUTANG"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"LAMA PINJAM"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BUNGA"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"TOTAL HUTANG"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"TOTAL BAYAR"))),l.a.createElement("tbody",null,this.props.data.map((e,a)=>l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"14",style:{textAlign:"left"}},"No Faktur : ",e._id.no_faktur_hutang," ")),e.detail.map((e,a)=>l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("td",null," ",e.tgl_system),l.a.createElement("td",null," ",e.tgl_lunas),l.a.createElement("td",null," ",e.tgl_tempo),l.a.createElement("td",null," ",e.kode_sales),l.a.createElement("td",null," ",e.nama_customer),l.a.createElement("td",null," ",e.no_hp),l.a.createElement("td",null," ",e.alamat_customer),l.a.createElement("td",{style:{textAlign:"right"}},"\xa0",Object(k.f)(e.berat_emas,3)),l.a.createElement("td",{style:{textAlign:"right"}},"\xa0",Object(k.f)(e.berat_bruto,3)),l.a.createElement("td",{style:{textAlign:"right"}}," \xa0",e.jumlah_hutang.toLocaleString("kr-KO")),l.a.createElement("td",{style:{textAlign:"right"}}," ",e.lama_pinjam),l.a.createElement("td",{style:{textAlign:"right"}}," ",e.bunga),l.a.createElement("td",{style:{textAlign:"right"}}," \xa0",e.total_hutang.toLocaleString("kr-KO")),l.a.createElement("td",{style:{textAlign:"right"}}," \xa0",e.total_bayar.toLocaleString("kr-KO")))))))),l.a.createElement("tfoot",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"},colSpan:"7"}," Grand Total "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},"\xa0",Object(k.f)(e,3)," "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},"\xa0",Object(k.f)(a,3)),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},"\xa0",t.toLocaleString("kr-KO")),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"},colSpan:"4"})))))}};var Ua=(e="")=>{const a=new ga.default("l","mm",[297,210]);let t=[],n=[],l=30,r=0,o=0,s=0,i=0,c=0;a.setFontSize(15),a.text("LAPORAN  HUTANG LUNAS",14,15),a.setFontSize(20),a.text(Object(k.j)().nama_toko,200,15),a.setFontSize(8);let m=Object(k.j)().alamat_toko.length;m>20&&a.text(Object(k.j)().alamat_toko.slice(0,48),200,20),m>50&&a.text(Object(k.j)().alamat_toko.slice(48,90),200,25),a.setFontSize(10),a.setProperties({title:"LAPORAN  HUTANG LUNAS"}),a.text("PERIODE : ".concat(0===Object(k.l)("tgl_laporan").length?null:JSON.parse(Object(k.l)("tgl_laporan")).tgl_awal+" s/d "+JSON.parse(Object(k.l)("tgl_laporan")).tgl_akhir),14,25),n=[[{content:"TANGGAL SYSTEM"},{content:"TANGGAL LUNAS"},{content:"TANGGAL JTH TEMPO"},{content:"KODE SALES"},{content:"NAMA CUSTOMER"},{content:"NO HP"},{content:"ALAMAT CUSTOMER"},{content:"BERAT EMAS",styles:{halign:"right"}},{content:"BERAT BRUTO",styles:{halign:"right"}},{content:"JUMLAH HUTANG",styles:{halign:"right"}},{content:"LAMA PINJAM",styles:{halign:"right"}},{content:"BUNGA",styles:{halign:"right"}},{content:"TOTAL BAYAR",styles:{halign:"right"}}]],e.forEach((e,a)=>{let n=[{content:"NO FAKTUR : ".concat(e._id.no_faktur_hutang),colSpan:13}];t.push(n);let l=0,m=0,d=0;e.detail.forEach((e,a)=>{let n=[e.tgl_system,e.tgl_lunas,e.tgl_tempo,e.kode_sales,e.nama_customer,e.no_hp,e.alamat_customer,{content:Object(k.f)(e.berat_emas,3),styles:{halign:"right"}},{content:Object(k.f)(e.berat_bruto,3),styles:{halign:"right"}},{content:parseInt(e.jumlah_hutang).toLocaleString("kr-KO"),styles:{halign:"right"}},{content:e.lama_pinjam,styles:{halign:"right"}},{content:e.bunga+"%",styles:{halign:"right"}},{content:parseInt(e.total_hutang).toLocaleString("kr-KO"),styles:{halign:"right"}},{content:parseInt(e.total_bayar).toLocaleString("kr-KO"),styles:{halign:"right"}}];l+=e.berat_emas,m+=e.berat_bruto,d+=e.jumlah_hutang,s+=e.berat_emas,i+=e.berat_bruto,c+=e.jumlah_hutang,t.push(n)}),r+=e.detail.length,o+=e.detail.length});let d=[{content:"Grand total",colSpan:7,styles:{halign:"center",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(s.toFixed(3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(i.toFixed(3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(c.toLocaleString("kr-KO")),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"",colSpan:"3",styles:{fillColor:"#E8E5E5",textColor:"#000"}}];t.push(d);let g=[{colSpan:3,content:"Printed By ".concat(JSON.parse(Object(k.l)("userdata")).user_id," / ").concat(Object(k.i)()),styles:{fontStyle:"italic",textColor:"#000"}}];t.push(g),a.autoTable({head:n,body:t,startY:l,theme:"plain",rowPageBreak:"avoid",margin:{top:10},footStyles:{fontSize:8},bodyStyles:{fontSize:8},headStyles:{fontSize:8,fillColor:"#E8E5E5",textColor:"#000"}}),l=a.autoTableEndPosY()+3,t=[];const p=a.internal.getNumberOfPages(),h=a.internal.pageSize.width,u=a.internal.pageSize.height;a.setFontSize(10);for(let _=1;_<p+1;_++){let e=h/2,t=u-10;a.setPage(_),a.text("".concat(_," of ").concat(p),e,t,{align:"center"})}var b=a.output("datauristring"),E=window.open();E.document.open(),E.document.write("<html><head><title>LAPORAN  HUTANG LUNAS</title></head><body style='margin:0 !important'><embed width='100%' height='100%'  src="+b+"></embed></body></html>")};class Ya extends n.Component{constructor(e){super(e),this.state={date:new Date},this.setStartDate=this.setStartDate.bind(this),this.setLastDate=this.setLastDate.bind(this)}exportPdf(){Ua(this.props.LaporanHutang)}setStartDate(e){this.setState({tgl_awal:new Date(e)})}setLastDate(e){this.setState({tgl_akhir:new Date(e)})}render(){const e={renderer:e=>l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},"Kode Sales : ",e.kode_sales," ",l.a.createElement("br",null),"Nama Customer : ",e.nama_customer," ",l.a.createElement("br",null),"No Hp : ",e.no_hp," ",l.a.createElement("br",null),"Alamat Customer : ",e.alamat_customer," ",l.a.createElement("br",null)))),showExpandColumn:!0,expandByColumnOnly:!0};let a=[];this.props.LaporanHutang.forEach((e,t)=>{e.detail.forEach((e,t)=>{a.push(e)})});const t=[{dataField:"no_faktur_hutang",text:"No Faktur Hutang",footerAttrs:{colSpan:"2"},footer:(e,t,n,r)=>l.a.createElement("div",null,"Total Hutang Lunas : ",a.length," ")},{dataField:"tgl_lunas",text:"Tanggal Lunas"},{dataField:"berat_emas",text:"Berat",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",e.toFixed(3)),footer:e=>l.a.createElement("div",{className:"text-right"}," ",e.reduce((e,a)=>e+a,0).toFixed(3)," ")},{dataField:"jumlah_hutang",text:"Jumlah Hutang",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",parseInt(e).toLocaleString("kr-KO")),footer:e=>l.a.createElement("div",{className:"text-right"}," ",parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")," ")},{dataField:"lama_pinjam",text:"Lama Pinjam",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",e),footer:""},{dataField:"total_hutang",text:"Total Hutang",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",parseInt(e).toLocaleString("kr-KO")),footer:e=>l.a.createElement("div",{className:"text-right"}," ",parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")," ")}];return l.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(ee.a,{name:"tgl_awal",component:te.c,label:"Tanggal Dari",type:"text",selected:this.state.tgl_awal,onChange:e=>this.setStartDate(e),placeholder:"Masukan Tanggal Dari"})),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(ee.a,{name:"tgl_akhir",component:te.c,type:"text",selected:this.state.tgl_akhir,onChange:e=>this.setLastDate(e),label:"Tanggal Akhir",placeholder:"Masukan Tanggal Akhir"})),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("div",{className:"text-right"},l.a.createElement("label",null,"\xa0"),l.a.createElement("button",{type:"submit",value:"PDF",name:"type_btn",className:"btn btn-primary btn-block"},this.props.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Mencari"):"Cari Laporan"))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement($.a,{keyField:"no_hp",data:this.props.export?a:[],columns:t,empty:!0,textEmpty:"Data Laporan Hutang Kosong",expandRow:e})),l.a.createElement("div",{className:this.props.export?"col-lg-12":"col-lg-12 d-none"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("button",{onClick:()=>this.exportPdf(),className:"btn btn-warning btn-block"}," ","Export PDF"," ")),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(Ga,{data:this.props.LaporanHutang}))))),this.props.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}Ya=Object(ae.a)({form:"HeadFormHutangLunas",enableReinitialize:!0,validate:fa.a})(Ya);var Va=Object(q.b)(e=>({initialValues:{tgl_awal:Object(k.h)(),tgl_akhir:Object(k.h)()}}))(Ya);var Wa=class extends l.a.Component{constructor(e){super(e),this.state={isLoading:!1,export:!1,dataHutang:[],LaporanHutang:[]},this.handleSubmit=this.handleSubmit.bind(this)}handleSubmit(e){this.setState({isLoading:!0});let a={tgl_awal:Object(k.e)(He(new Date(e.tgl_awal)).format("YYYY-MM-DD")),tgl_akhir:Object(k.e)(He(new Date(e.tgl_akhir)).format("YYYY-MM-DD"))};Object(A.e)("hutang/get/reportlunas",a).then(e=>{0===e.data.length?(Object(S.e)("info","Data Yang Anda Cari Tidak Ada"),this.setState({isLoading:!1,export:!1})):(Object(S.e)("success","Laporan Hutang Lunas Tersedia"),Object(k.m)("tgl_laporan",JSON.stringify(a)),this.setState({export:!0,isLoading:!1,LaporanHutang:e.data}))}).catch(e=>{this.setState({export:!1,isLoading:!1}),Object(S.e)("info","Data Yang Anda Cari Tidak Ada")})}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Laporan")),l.a.createElement("li",{className:"breadcrumb-item active"},"Laporan Hutang Lunas")),l.a.createElement("h1",{className:"page-header"},"Laporan Hutang Lunas"),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"Laporan Hutang Lunas"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement(Va,{export:this.state.export,isLoading:this.state.isLoading,LaporanHutang:this.state.LaporanHutang,onSubmit:e=>this.handleSubmit(e)})))),l.a.createElement("br",null)))}};var Qa=class extends n.Component{constructor(e){super(e),this.state={}}render(){let e=0,a=0,t=0;return this.props.data.forEach((n,l)=>{n.detail.forEach((n,l)=>{e+=n.berat_emas,a+=n.berat_bruto,t+=n.jumlah_hutang})}),l.a.createElement(l.a.Fragment,null,l.a.createElement(Oa.a,{id:"test-table-xls-button",className:"btn btn-success btn-block",table:"table-to-xls",filename:"Laporan Transaksi Hutang",sheet:"Laporan Transaksi Hutang",buttonText:"Export Exel"}),l.a.createElement("table",{rowkey:"kode_member",id:"table-to-xls",style:{display:"none"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"13"}," Laporan Transaksi Hutang  ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"13"}," Periode  ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"13"}," ",0===Object(k.l)("tgl_laporan").length?null:JSON.parse(Object(k.l)("tgl_laporan")).tgl_awal+"s/d"+JSON.parse(Object(k.l)("tgl_laporan")).tgl_akhir," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"13"}," TOKO :  ",Object(k.j)().nama_toko," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"13"}," ALAMAT :  ",Object(k.j)().alamat_toko," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"13"})),l.a.createElement("tr",null,l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"TANGGAL HUTANG"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"TANGGAL JTH TEMPO"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE SALES"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NAMA CUSTOMER"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NO HP"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"ALAMAT CUSTOMER"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},"BERAT EMAS"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},"BERAT BRUTO"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},"JUMLAH HUTANG"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},"LAMA PINJAM"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},"BUNGA"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},"TOTAL HUTANG"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},"TOTAL BAYAR"))),l.a.createElement("tbody",null,this.props.data.map((e,a)=>l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"14",style:{textAlign:"left"}},"No Faktur : ",e._id.no_faktur_hutang," ")),e.detail.map((e,a)=>l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("td",null," ",e.tgl_hutang),l.a.createElement("td",null," ",e.tgl_tempo),l.a.createElement("td",null," ",e.kode_sales),l.a.createElement("td",null," ",e.nama_customer),l.a.createElement("td",null," ",e.no_hp),l.a.createElement("td",null," ",e.alamat_customer),l.a.createElement("td",{style:{textAlign:"right"}},"\xa0",Object(k.f)(e.berat_emas,3)),l.a.createElement("td",{style:{textAlign:"right"}},"\xa0",Object(k.f)(e.berat_bruto,3)),l.a.createElement("td",{style:{textAlign:"right"}}," \xa0",e.jumlah_hutang.toLocaleString("kr-KO")),l.a.createElement("td",{style:{textAlign:"right"}}," ",e.lama_pinjam),l.a.createElement("td",{style:{textAlign:"right"}}," ",e.bunga),l.a.createElement("td",{style:{textAlign:"right"}}," \xa0",e.total_hutang.toLocaleString("kr-KO")),l.a.createElement("td",{style:{textAlign:"right"}}," \xa0",e.total_bayar.toLocaleString("kr-KO")))))))),l.a.createElement("tfoot",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"},colSpan:"6"}," Grand Total :"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},"\xa0",Object(k.f)(e,3)," "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},"\xa0",Object(k.f)(a,3)),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},"\xa0",t.toLocaleString("kr-KO")),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"},colSpan:"4"})))))}};var Xa=(e="")=>{const a=new ga.default("l","mm",[297,210]);let t=[],n=[],l=30,r=0,o=0,s=0,i=0,c=0;a.setFontSize(15),a.text("LAPORAN TRANSAKSI HUTANG",14,15),a.setFontSize(20),a.text(Object(k.j)().nama_toko,200,15),a.setFontSize(8);let m=Object(k.j)().alamat_toko.length;m>20&&a.text(Object(k.j)().alamat_toko.slice(0,48),200,20),m>50&&a.text(Object(k.j)().alamat_toko.slice(48,90),200,25),a.setFontSize(10),a.setProperties({title:"LAPORAN TRANSAKSI HUTANG"}),a.text("PERIODE : ".concat(0===Object(k.l)("tgl_laporan").length?null:JSON.parse(Object(k.l)("tgl_laporan")).tgl_awal+" s/d "+JSON.parse(Object(k.l)("tgl_laporan")).tgl_akhir),14,25),n=[[{content:"TANGGAL HUTANG"},{content:"TANGGAL JTH TEMPO"},{content:"KODE SALES"},{content:"NAMA CUSTOMER"},{content:"NO HP"},{content:"ALAMAT CUSTOMER"},{content:"BERAT EMAS",styles:{halign:"right"}},{content:"BERAT BRUTO",styles:{halign:"right"}},{content:"JUMLAH HUTANG",styles:{halign:"right"}},{content:"LAMA PINJAM",styles:{halign:"right"}},{content:"BUNGA",styles:{halign:"right"}},{content:"TOTAL BAYAR",styles:{halign:"right"}}]],e.forEach((e,a)=>{let n=[{content:"NO FAKTUR : ".concat(e._id.no_faktur_hutang),colSpan:13}];t.push(n);let l=0,m=0,d=0;e.detail.forEach((e,a)=>{let n=[e.tgl_hutang,e.tgl_tempo,e.kode_sales,e.nama_customer,e.no_hp,e.alamat_customer,{content:Object(k.f)(e.berat_emas,3),styles:{halign:"right"}},{content:Object(k.f)(e.berat_bruto,3),styles:{halign:"right"}},{content:parseInt(e.jumlah_hutang).toLocaleString("kr-KO"),styles:{halign:"right"}},{content:e.lama_pinjam,styles:{halign:"right"}},{content:e.bunga+"%",styles:{halign:"right"}},{content:parseInt(e.total_hutang).toLocaleString("kr-KO"),styles:{halign:"right"}},{content:parseInt(e.total_bayar).toLocaleString("kr-KO"),styles:{halign:"right"}}];l+=e.berat_emas,m+=e.berat_bruto,d+=e.jumlah_hutang,s+=e.berat_emas,i+=e.berat_bruto,c+=e.jumlah_hutang,t.push(n)}),r+=e.detail.length,o+=e.detail.length});let d=[{content:"Grand Total : ",colSpan:6,styles:{fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(s.toFixed(3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(i.toFixed(3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(c.toLocaleString("kr-KO")),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"",colSpan:"3",styles:{fillColor:"#E8E5E5",textColor:"#000"}}];t.push(d);let g=[{colSpan:3,content:"Printed By ".concat(JSON.parse(Object(k.l)("userdata")).user_id," / ").concat(Object(k.i)()),styles:{fontStyle:"italic",textColor:"#000"}}];t.push(g),a.autoTable({head:n,body:t,startY:l,theme:"plain",rowPageBreak:"avoid",margin:{top:10},footStyles:{fontSize:8},bodyStyles:{fontSize:8},headStyles:{fontSize:8,fillColor:"#E8E5E5",textColor:"#000"}}),l=a.autoTableEndPosY()+3,t=[];const p=a.internal.getNumberOfPages(),h=a.internal.pageSize.width,u=a.internal.pageSize.height;a.setFontSize(10);for(let _=1;_<p+1;_++){let e=h/2,t=u-10;a.setPage(_),a.text("".concat(_," of ").concat(p),e,t,{align:"center"})}var b=a.output("datauristring"),E=window.open();E.document.open(),E.document.write("<html><head><title>LAPORAN TRANSAKSI HUTANG</title></head><body style='margin:0 !important'><embed width='100%' height='100%'  src="+b+"></embed></body></html>")};class qa extends n.Component{constructor(e){super(e),this.state={date:new Date},this.setStartDate=this.setStartDate.bind(this),this.setLastDate=this.setLastDate.bind(this)}exportPdf(){Xa(this.props.LaporanHutang)}setStartDate(e){this.setState({tgl_awal:new Date(e)})}setLastDate(e){this.setState({tgl_akhir:new Date(e)})}render(){const e={renderer:e=>l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},"Kode Sales : ",e.kode_sales," ",l.a.createElement("br",null),"Nama Customer : ",e.nama_customer," ",l.a.createElement("br",null),"No Hp : ",e.no_hp," ",l.a.createElement("br",null),"Alamat Customer : ",e.alamat_customer," ",l.a.createElement("br",null)))),showExpandColumn:!0,expandByColumnOnly:!0};let a=[];this.props.LaporanHutang.forEach((e,t)=>{e.detail.forEach((e,t)=>{a.push(e)})});const t=[{dataField:"no_faktur_hutang",text:"No Faktur Hutang",footerAttrs:{colSpan:"2"},footer:(e,t,n,r)=>l.a.createElement("div",null,"Total Transaksi Hutang : ",a.length," ")},{dataField:"tgl_hutang",text:"Tanggal Hutang"},{dataField:"berat_emas",text:"Berat",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",e.toFixed(3)),footer:e=>l.a.createElement("div",{className:"text-right"}," ",e.reduce((e,a)=>e+a,0).toFixed(3)," ")},{dataField:"jumlah_hutang",text:"Jumlah Hutang",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",parseInt(e).toLocaleString("kr-KO")),footer:e=>l.a.createElement("div",{className:"text-right"}," ",parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")," ")},{dataField:"lama_pinjam",text:"Lama Pinjam",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",e),footer:""},{dataField:"total_hutang",text:"Total Hutang",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",parseInt(e).toLocaleString("kr-KO")),footer:e=>l.a.createElement("div",{className:"text-right"}," ",parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")," ")}];return l.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(ee.a,{name:"tgl_awal",component:te.c,label:"Tanggal Dari",type:"text",selected:this.state.tgl_awal,onChange:e=>this.setStartDate(e),placeholder:"Masukan Tanggal Dari"})),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(ee.a,{name:"tgl_akhir",component:te.c,type:"text",selected:this.state.tgl_akhir,onChange:e=>this.setLastDate(e),label:"Tanggal Akhir",placeholder:"Masukan Tanggal Akhir"})),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("div",{className:"text-right"},l.a.createElement("label",null,"\xa0"),l.a.createElement("button",{type:"submit",value:"PDF",name:"type_btn",className:"btn btn-primary btn-block"},this.props.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Mencari"):"Cari Laporan"))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement($.a,{keyField:"no_hp",data:this.props.export?a:[],columns:t,empty:!0,textEmpty:"Data Laporan Hutang Kosong",expandRow:e})),l.a.createElement("div",{className:this.props.export?"col-lg-12":"col-lg-12 d-none"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("button",{onClick:()=>this.exportPdf(),className:"btn btn-warning btn-block"}," ","Export PDF"," ")),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(Qa,{data:this.props.LaporanHutang}))))),this.props.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}qa=Object(ae.a)({form:"HeadFormHutang",enableReinitialize:!0,validate:fa.a})(qa);var Za=Object(q.b)(e=>({initialValues:{tgl_awal:Object(k.h)(),tgl_akhir:Object(k.h)()}}))(qa);var $a=class extends l.a.Component{constructor(e){super(e),this.state={isLoading:!1,export:!1,dataHutang:[],LaporanHutang:[]},this.handleSubmit=this.handleSubmit.bind(this)}handleSubmit(e){this.setState({isLoading:!0});let a={tgl_awal:Object(k.e)(He(new Date(e.tgl_awal)).format("YYYY-MM-DD")),tgl_akhir:Object(k.e)(He(new Date(e.tgl_akhir)).format("YYYY-MM-DD"))};Object(A.e)("hutang/get/report",a).then(e=>{0===e.data.length?(Object(S.e)("info","Data Yang Anda Cari Tidak Ada"),this.setState({export:!1,isLoading:!1,LaporanHutang:[]})):(Object(S.e)("success","Laporan Transaksi Hutang Tersedia"),Object(k.m)("tgl_laporan",JSON.stringify(a)),this.setState({export:!0,isLoading:!1,LaporanHutang:e.data}))}).catch(e=>{this.setState({export:!1,isLoading:!1}),Object(S.e)("info","Data Yang Anda Cari Tidak Ada")})}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Laporan")),l.a.createElement("li",{className:"breadcrumb-item active"},"Laporan Hutang")),l.a.createElement("h1",{className:"page-header"},"Laporan Hutang "),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"Laporan Hutang"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement(Za,{export:this.state.export,isLoading:this.state.isLoading,LaporanHutang:this.state.LaporanHutang,onSubmit:e=>this.handleSubmit(e)})))),l.a.createElement("br",null)))}};var et=class extends n.Component{constructor(e){super(e),this.state={}}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Oa.a,{id:"test-table-xls-button",className:"btn btn-success btn-block",table:"table-to-xls",filename:"Laporan Daftar Member",sheet:"Laporan Daftar Member",buttonText:"Export Exel"}),l.a.createElement("table",{rowkey:"kode_member",id:"table-to-xls",style:{display:"none"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"9"}," Laporan Daftar Member ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"9"}," Periode ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"9"}," ",0===Object(k.l)("tgl_laporan").length?null:JSON.parse(Object(k.l)("tgl_laporan")).tgl_awal+"s/d"+JSON.parse(Object(k.l)("tgl_laporan")).tgl_akhir," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"9"}," TOKO :  ",Object(k.j)().nama_toko," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"9"}," ALAMAT :  ",Object(k.j)().alamat_toko," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"9"})),l.a.createElement("tr",null,l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"Kode Member"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"Nama Member"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"No Hp"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"Alamat Customer"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"Kecamatan"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"Kelurahan"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"Kota"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"Point"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"Tanggal Lahir"))),this.props.data.map((e,a)=>l.a.createElement(l.a.Fragment,null,l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"9",style:{textAlign:"left"}}," ","Tanggal Daftar : ",e._id.tgl_daftar," ")),e.detail.map((e,a)=>l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("td",null," ",e.kode_member),l.a.createElement("td",null," ",e.nama_customer),l.a.createElement("td",null," ",e.no_hp),l.a.createElement("td",null," ",e.alamat_customer),l.a.createElement("td",null," ",e.kecamatan),l.a.createElement("td",null," ",e.kelurahan),l.a.createElement("td",null," ",e.kota),l.a.createElement("td",null," ",e.point),l.a.createElement("td",null," ",e.tgl_lahir))))),l.a.createElement("tfoot",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"},colSpan:"8"}," ","Jumlah Daftar"," "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},e.detail.length))))),l.a.createElement("tr",null,l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"},colSpan:"8"}," ","Total Pendaftar"," "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},this.props.data.map(e=>e.detail.length).reduce((e,a)=>e+a,0)))))}};var at=(e="",a="",t="",n="")=>{const l=new ga.default("l","mm",[297,210]);let r=[],o=[],s=[],i=30,c=0,m=0;l.setFontSize(15),l.text("LAPORAN DAFTAR MEMBER",14,15),l.setFontSize(20),l.text(Object(k.j)().nama_toko,200,15),l.setFontSize(8);let d=Object(k.j)().alamat_toko.length;d>20&&l.text(Object(k.j)().alamat_toko.slice(0,48),200,20),d>50&&l.text(Object(k.j)().alamat_toko.slice(48,90),200,25),l.setFontSize(10),l.setProperties({title:"LAPORAN DAFTAR MEMBER"}),l.text("PERIODE : ".concat(0===Object(k.l)("tgl_laporan").length?null:JSON.parse(Object(k.l)("tgl_laporan")).tgl_awal+" s/d "+JSON.parse(Object(k.l)("tgl_laporan")).tgl_akhir),14,25),s=[[{content:"KODE MEMBER"},{content:"NAMA MEMBER"},{content:"NO HP"},{content:"ALAMAT CUSTOMER"},{content:"KECMATAN"},{content:"KELURAHAN"},{content:"KOTA"},{content:"POINT"},{content:"TANGGAL LAHIR"}]],e.forEach((e,a)=>{let t=[{content:"Tanggal Daftar : ".concat(e._id.tgl_daftar),colSpan:"9"}];r.push(t),e.detail.forEach((e,a)=>{let t=[{content:e.kode_member},{content:e.nama_customer||""},{content:e.no_hp},{content:e.alamat_customer},{content:e.kecamatan},{content:e.kelurahan},{content:e.kota},{content:e.point},{content:e.tgl_lahir}];r.push(t)}),c+=e.detail.length,m+=e.detail.length;let n=[{content:"Jumlah Daftar :",colSpan:"8",styles:{halign:"right",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(e.detail.length),styles:{fillColor:"#E8E5E5",textColor:"#000"}}];r.push(n)});let g=[{content:"Total Pendaftar :",colSpan:8,styles:{halign:"right",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(c),styles:{fillColor:"#E8E5E5",textColor:"#000"}}];o.push(g);let p=[{colSpan:3,content:"Printed By ".concat(JSON.parse(Object(k.l)("userdata")).user_id," / ").concat(Object(k.i)()),styles:{fontStyle:"italic",textColor:"#000"}}];o.push(p),l.autoTable({head:s,body:r,foot:o,startY:i,theme:"plain",rowPageBreak:"avoid",margin:{top:10},footStyles:{fontSize:8},bodyStyles:{fontSize:8},headStyles:{fontSize:8,textColor:"#000",fillColor:"#E8E5E5"}}),i=l.autoTableEndPosY()+3,r=[],c=0;const h=l.internal.getNumberOfPages(),u=l.internal.pageSize.width,b=l.internal.pageSize.height;l.setFontSize(10);for(let A=1;A<h+1;A++){let e=u/2,a=b-10;l.setPage(A),l.text("".concat(A," of ").concat(h),e,a,{align:"center"})}var E=l.output("datauristring"),_=window.open();_.document.open(),_.document.write("<html><head><title>LAPORAN DAFTAR MEMBER</title></head><body style='margin:0 !important'><embed width='100%' height='100%'  src="+E+"></embed></body></html>")};class tt extends n.Component{constructor(e){super(e),this.state={date:new Date},this.handleSubmit=this.handleSubmit.bind(this),this.setStartDate=this.setStartDate.bind(this),this.setLastDate=this.setLastDate.bind(this)}handleSubmit(e){console.log(e)}exportPdf(){at(this.props.datamember)}setStartDate(e){this.setState({tgl_awal:new Date(e)})}setLastDate(e){this.setState({tgl_akhir:new Date(e)})}render(){let e=[];this.props.datamember.forEach((a,t)=>{a.detail.forEach((a,t)=>{e.push(a)})});let a=[{dataField:"kode_member",text:"Kode Member",footerAttrs:{colSpan:"4"},footer:(a,t,n,r)=>l.a.createElement("div",null,"Total Daftar : ",e.length," ")},{dataField:"nama_customer",text:"Nama Member"},{dataField:"point",text:"Point",formatter:(e,a)=>e||0},{dataField:"alamat_customer",text:"Alamat",formatter:(e,a)=>e+" "+a.kecamatan+" "+a.kelurahan+" "+a.kota}];return l.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(ee.a,{name:"tgl_awal",component:te.c,label:"Tanggal Dari",type:"text",selected:this.state.tgl_awal,onChange:e=>this.setStartDate(e),placeholder:"Masukan Tanggal Dari"})),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(ee.a,{name:"tgl_akhir",component:te.c,type:"text",selected:this.state.tgl_akhir,onChange:e=>this.setLastDate(e),label:"Tanggal Akhir",placeholder:"Masukan Tanggal Akhir"})),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("div",{className:"text-right"},l.a.createElement("label",null,"\xa0"),l.a.createElement("button",{type:"submit",value:"PDF",name:"type_btn",className:"btn btn-primary btn-block"},this.props.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Mencari"):"Cari Laporan"))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement($.a,{keyField:"no_hp",data:this.props.export?e:[],columns:a,empty:!0,textEmpty:"Data Laporan Hutang Kosong"})),l.a.createElement("div",{className:this.props.export?"col-lg-12":"col-lg-12 d-none"},l.a.createElement("label",{htmlFor:""},"\xa0"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("button",{onClick:()=>this.exportPdf(),className:"btn btn-warning btn-block"}," ","Export PDF"," ")),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(et,{data:this.props.datamember}))))),this.props.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}tt=Object(ae.a)({form:"HeadFormMember",enableReinitialize:!0})(tt);var nt=Object(q.b)(e=>({initialValues:{tgl_awal:Object(k.h)(),tgl_akhir:Object(k.h)()}}))(tt);var lt=class extends l.a.Component{constructor(e){super(e),this.state={isLoading:!1,export:!1,datamember:[]},this.handleSubmit=this.handleSubmit.bind(this)}handleSubmit(e){this.setState({isLoading:!0});let a={tgl_awal:Object(k.e)(He(new Date(e.tgl_awal)).format("YYYY-MM-DD")),tgl_akhir:Object(k.e)(He(new Date(e.tgl_akhir)).format("YYYY-MM-DD"))};Object(A.e)("member/get/by-tanggal",a).then(e=>{0===e.data.length?(Object(S.e)("info","Data Yang Anda Cari Tidak Ada"),this.setState({export:!1,datamember:[],isLoading:!1})):(Object(S.e)("success","Laporan Data Member Tersedia"),Object(k.m)("tgl_laporan",JSON.stringify(a)),this.setState({export:!0,datamember:e.data,isLoading:!1}))}).catch(e=>{Object(S.e)("info","Data Yang Anda Cari Tidak Ada"),this.setState({export:!1,datamember:[],isLoading:!1})})}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Laporan")),l.a.createElement("li",{className:"breadcrumb-item active"},"Laporan Member")),l.a.createElement("h1",{className:"page-header"},"Laporan Member "),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"Laporan Member"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement(nt,{isLoading:this.state.isLoading,export:this.state.export,datamember:this.state.datamember,onSubmit:e=>this.handleSubmit(e)})))),l.a.createElement("br",null)))}};var rt=class extends n.Component{constructor(e){super(e),this.state={}}render(){let e=0,a=0,t=0,n=0,r=0;return this.props.data.forEach((l,o)=>{l.detail.forEach((l,r)=>{e+=l.berat,a+=l.berat_nota,t+=l.harga_rata,n+=l.harga_nota}),r+=l.detail.length}),l.a.createElement(l.a.Fragment,null,l.a.createElement(Oa.a,{id:"test-table-xls-button",className:"btn btn-success btn-block",table:"table-to-xls",filename:"Laporan Batal Pembelian",sheet:"Laporan Batal Pembelian",buttonText:"Export Exel"}),l.a.createElement("table",{rowkey:"kode_member",id:"table-to-xls",style:{display:"none"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"13"}," LAPORAN BATAL PEMBELIAN ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"13"},"Periode"," ",0===Object(k.l)("tgl_laporan").length?null:JSON.parse(Object(k.l)("tgl_laporan")).tgl_awal+" s/d "+JSON.parse(Object(k.l)("tgl_laporan")).tgl_akhir," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"13"}," TOKO :  ",Object(k.j)().nama_toko," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"13"}," ALAMAT :  ",Object(k.j)().alamat_toko," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"13"})),l.a.createElement("tr",null,l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"Tanggal"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"Kode Sales"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"No Faktur Beli"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"Nama Customer"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NO HP"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NAMA BARANG"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BERAT"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BERAT NOTA"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"HARGA RATA"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"HARGA NOTA"))),l.a.createElement("tbody",null,this.props.data.map((e,a)=>l.a.createElement(l.a.Fragment,null,e.detail.map((e,a)=>l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("td",null," ",e.tgl_system),l.a.createElement("td",null," ",e.kode_sales),l.a.createElement("td",null," ",e.no_faktur_beli),l.a.createElement("td",null,e.nama_customer),l.a.createElement("td",null,e.no_hp),l.a.createElement("td",null," ",e.nama_barang),l.a.createElement("td",{style:{textAlign:"right"}}," ",Object(k.f)(e.berat,3)),l.a.createElement("td",{style:{textAlign:"right"}}," ",Object(k.f)(e.berat_nota,3)),l.a.createElement("td",{style:{textAlign:"right"}},e.harga_rata.toLocaleString("kr-KO")),l.a.createElement("td",{style:{textAlign:"right"}},e.harga_nota.toLocaleString("kr-KO"))))),l.a.createElement("tr",null,l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"},colSpan:"6"}," ","Sub Total :"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(k.f)(e.detail.map(e=>e.berat).reduce((e,a)=>e+a,0),3)," "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(k.f)(e.detail.map(e=>e.berat_nota).reduce((e,a)=>e+a,0),3)," "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},e.detail.map(e=>e.harga_rata).reduce((e,a)=>e+a,0).toLocaleString("kr-KO")," "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},e.detail.map(e=>e.harga_nota).reduce((e,a)=>e+a,0).toLocaleString("kr-KO")," "))))),l.a.createElement("tfoot",null)))}};var ot=(e="")=>{const a=new ga.default("L","mm");let t=[],n=[],l=[],r=30,o=0,s=0,i=0,c=0,m=0;a.setFontSize(15),a.text("LAPORAN BATAL PEMBELIAN",14,15),a.setFontSize(20),a.text(Object(k.j)().nama_toko,200,15),a.setFontSize(8);let d=Object(k.j)().alamat_toko.length;d>20&&a.text(Object(k.j)().alamat_toko.slice(0,48),200,20),d>50&&a.text(Object(k.j)().alamat_toko.slice(48,90),200,25),a.setFontSize(10),a.setProperties({title:"LAPORAN BATAL PEMBELIAN"}),a.text("PERIODE : ".concat(0===Object(k.l)("tgl_laporan").length?null:JSON.parse(Object(k.l)("tgl_laporan")).tgl_awal+" s/d "+JSON.parse(Object(k.l)("tgl_laporan")).tgl_akhir),14,25),l=[[{content:"Tanggal"},{content:"Kode Sales"},{content:"No Faktur Beli"},{content:"Nama Customer"},{content:"No Hp"},{content:"Nama Barang"},{content:"Berat",styles:{halign:"right"}},{content:"Berat Nota",styles:{halign:"right"}},{content:"Harga Rata",styles:{halign:"right"}},{content:"Harga Nota",styles:{halign:"right"}}]],e.forEach((e,a)=>{let n=0,l=0,r=0,d=0;e.detail.forEach((e,a)=>{let o=[{content:"".concat(e.tgl_system),styles:{cellWidth:20}},e.kode_sales,e.no_faktur_beli,e.nama_customer,e.no_hp,e.nama_barang,{content:"".concat(Object(k.f)(e.berat,3)),styles:{halign:"right"}},{content:"".concat(Object(k.f)(e.berat_nota,3)),styles:{halign:"right"}},{content:"".concat(e.harga_rata.toLocaleString("kr-KO")),styles:{halign:"right"}},{content:"".concat(e.harga_nota.toLocaleString("kr-KO")),styles:{halign:"right"}}];n+=e.berat,l+=e.berat_nota,r+=e.harga_rata,d+=e.harga_nota,s+=e.berat,i+=e.berat_nota,c+=e.harga_rata,m+=e.harga_nota,t.push(o)}),o+=e.detail.length;let g=[{content:"Subtotal :",colSpan:6,styles:{halign:"right",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(Object(k.f)(n,3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(Object(k.f)(l,3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(r.toLocaleString("kr-KO")),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(d.toLocaleString("kr-KO")),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}}];t.push(g)});let g=[{colSpan:9,content:"Printed By ".concat(JSON.parse(Object(k.l)("userdata")).user_id," / ").concat(Object(k.i)()),styles:{fontStyle:"italic",textColor:"#000"}}];t.push(g),a.autoTable({head:l,body:t,foot:n,startY:r,theme:"plain",rowPageBreak:"avoid",pageBreak:"avoid",margin:{top:10},footStyles:{lineWidth:.02,lineColor:"#000",fontSize:8},bodyStyles:{fontSize:8},headStyles:{fontSize:8,fillColor:"#E8E5E5",textColor:"#000"}}),r=a.autoTableEndPosY()+3,t=[],n=[];const p=a.internal.getNumberOfPages(),h=a.internal.pageSize.width,u=a.internal.pageSize.height;a.setFontSize(10);for(let _=1;_<p+1;_++){let e=h/2,t=u-10;a.setPage(_),a.text("".concat(_," of ").concat(p),e,t,{align:"center"})}var b=a.output("datauristring"),E=window.open();E.document.open(),E.document.write("<html><head><title>LAPORAN BATAL PEMBELIAN</title></head><body style='margin:0 !important'><embed width='100%' height='100%'  src="+b+"></embed></body></html>")};class st extends n.Component{constructor(e){super(e),this.state={date:new Date},this.setStartDate=this.setStartDate.bind(this),this.setLastDate=this.setLastDate.bind(this)}handleSubmit(e){console.log(e)}exportPdf(){ot(this.props.datapembelian)}setStartDate(e){this.setState({tgl_awal:new Date(e)})}setLastDate(e){this.setState({tgl_akhir:new Date(e)})}render(){let e=[],a=0,t=0,n=0,r=0;this.props.datapembelian.forEach(l=>{l.detail.forEach(l=>{e.push(l),a+=l.berat,t+=l.berat_nota,n+=l.harga_rata,r+=l.harga_nota})});const o=[{dataField:"kode_sales",text:"Kode Sales",footerAttrs:{colSpan:"4"},footer:(a,t,n,r)=>l.a.createElement("div",null,"Total Barang : ",e.length," ")},{dataField:"nama_customer",text:"Nama Customer"},{dataField:"no_hp",text:"No Hp"},{dataField:"nama_barang",text:"Nama Barang"},{dataField:"berat",text:"Berat",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",Object(k.f)(e,3)," "),footer:e=>l.a.createElement("div",{className:"text-right"}," ",Object(k.f)(e.reduce((e,a)=>e+a,0),3)," ")},{dataField:"berat_nota",text:"Berat Nota",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",Object(k.f)(e,3)," "),footer:e=>l.a.createElement("div",{className:"text-right"}," ",Object(k.f)(e.reduce((e,a)=>e+a,0),3)," ")},{dataField:"harga_rata",text:"Harga Rata",headerClasses:"text-right",footer:(e,a,t,r)=>l.a.createElement("div",{className:"text-right"},n.toLocaleString("kr-KO")," "),formatter:e=>l.a.createElement("div",{className:"text-right"},e.toLocaleString("kr-KO"))},{dataField:"harga_nota",text:"Harga Nota",headerClasses:"text-right",footer:(e,a,t,n)=>l.a.createElement("div",{className:"text-right"},r.toLocaleString("kr-KO")," "),formatter:e=>l.a.createElement("div",{className:"text-right"},e.toLocaleString("kr-KO"))}];return l.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(ee.a,{name:"tgl_awal",component:te.c,label:"Tanggal Dari",type:"text",selected:this.state.tgl_awal,onChange:e=>this.setStartDate(e),placeholder:"Masukan Tanggal Dari"})),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(ee.a,{name:"tgl_akhir",component:te.c,type:"text",selected:this.state.tgl_akhir,onChange:e=>this.setLastDate(e),label:"Tanggal Akhir",placeholder:"Masukan Tanggal Akhir"})),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("div",{className:"text-right"},l.a.createElement("label",null,"\xa0"),l.a.createElement("button",{type:"submit",value:"PDF",name:"type_btn",className:"btn btn-primary btn-block"},this.props.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Mencari"):"Cari Laporan"))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement($.a,{keyField:"no_hp",data:this.props.export?e:[],columns:o,empty:!0,textEmpty:"Data Laporan Batal Pembelian Kosong"})),l.a.createElement("div",{className:this.props.export?"col-lg-12":"col-lg-12 d-none"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("button",{onClick:()=>this.exportPdf(),className:"btn btn-warning btn-block"}," ","Export PDF"," ")),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(rt,{data:this.props.datapembelian}))))),this.props.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}st=Object(ae.a)({form:"HeadFormBatalBeli",enableReinitialize:!0})(st);var it=Object(q.b)(e=>({initialValues:{tgl_awal:Object(k.h)(),tgl_akhir:Object(k.h)()}}))(st);var ct=class extends l.a.Component{constructor(e){super(e),this.state={isLoading:!1,export:!1,datapembelian:[]},this.handleSubmit=this.handleSubmit.bind(this)}handleSubmit(e){this.setState({isLoading:!0});let a={tgl_awal:Object(k.e)(He(new Date(e.tgl_awal)).format("YYYY-MM-DD")),tgl_akhir:Object(k.e)(He(new Date(e.tgl_akhir)).format("YYYY-MM-DD"))};Object(A.e)("batalpembelian/get/report",a).then(e=>{0===e.data.length?(Object(S.e)("info","Data Yang Anda Cari Tidak Ada"),this.setState({isLoading:!1,datapembelian:[],export:!1})):(Object(S.e)("success","Laporan Batal Beli Tersedia"),Object(k.m)("tgl_laporan",JSON.stringify(a)),this.setState({export:!0,isLoading:!1,datapembelian:e.data}))}).catch(e=>{this.setState({isLoading:!1}),Object(S.e)("info","Data Yang Anda Cari Tidak Ada")})}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Laporan")),l.a.createElement("li",{className:"breadcrumb-item active"},"Laporan Batal Pembelian")),l.a.createElement("h1",{className:"page-header"},"Laporan Batal Pembelian "),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"Laporan Batal Pembelian"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement(it,{export:this.state.export,isLoading:this.state.isLoading,datapembelian:this.state.datapembelian,onSubmit:e=>this.handleSubmit(e)})))),l.a.createElement("br",null)))}};var mt=class extends n.Component{constructor(e){super(e),this.state={}}render(){let e=0,a=0,t=0,n=0;return this.props.data.forEach((l,r)=>{l.detail.forEach((l,r)=>{l.detail_barang.forEach((e,l)=>{t+=parseInt(e.ongkos)*parseInt(e.jumlah),n+=e.jumlah,a+=e.berat}),e+=l.detail_barang.length})}),l.a.createElement(l.a.Fragment,null,l.a.createElement(Oa.a,{id:"test-table-xls-button",className:"btn btn-success btn-block",table:"table-to-xls",filename:"Laporan Batal Service",sheet:"Laporan Batal Service",buttonText:"Export Exel"}),l.a.createElement("table",{rowkey:"kode_member",id:"table-to-xls",style:{display:"none"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"5",style:{textAlign:"center"}}," ","LAPORAN BATAL SERVICE"," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"5"}," Periode ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"5"}," ",0===Object(k.l)("tgl_laporan").length?null:JSON.parse(Object(k.l)("tgl_laporan")).tgl_awal+"s/d"+JSON.parse(Object(k.l)("tgl_laporan")).tgl_akhir," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"5"}," TOKO :  ",Object(k.j)().nama_toko," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"5"}," ALAMAT :  ",Object(k.j)().alamat_toko," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"5"})),l.a.createElement("tr",null,l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"TANGGAL TRANSAKSI"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NAMA CUSTOMER"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NO HP"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"ALAMAT CUSTOMER"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE GUDANG"))),l.a.createElement("tbody",null,this.props.data.map((e,a)=>l.a.createElement(l.a.Fragment,null,e._id.pembayaran.map((a,t)=>l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"5",style:{textAlign:"left"}},"No Service"," ",e._id.no_faktur_service," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"5",style:{textAlign:"left"}}," ",a.jenis," : ",a.jumlah_rp," ")))),e.detail.map((e,a)=>l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("td",null," ",e.tgl_system),l.a.createElement("td",null," ",e.nama_customer),l.a.createElement("td",null," ",e.no_hp),l.a.createElement("td",null," ",e.alamat_customer),l.a.createElement("td",{style:{textAlign:"center"}}," ",e.kode_gudang)),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"5"}," ","Detail Barang"," ")),l.a.createElement("tr",null,l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}}," ","NAMA BARANG"," "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}}," ","BERAT"," "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}}," ","JUMLAH"," "),l.a.createElement("th",{colSpan:"2",style:{backgroundColor:"#E8E5E5",color:"#000"}}," ","DESKRIPSI"," ")),l.a.createElement(l.a.Fragment,null,e.detail_barang.map((e,a)=>l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("td",null," ",e.nama_barang),l.a.createElement("td",null," ",e.berat.toFixed(3)),l.a.createElement("td",null," ",e.jumlah),l.a.createElement("td",{colSpan:"2"}," ",e.deskripsi)))))))))),l.a.createElement("tfoot",null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"5",style:{textAlign:"left"}},"Total Berat : ",a.toFixed(3),l.a.createElement("br",null),"Total Jumlah : ",n,l.a.createElement("br",null),"Total Ongkos : ",t," ",l.a.createElement("br",null),"Total Barang : ",e,l.a.createElement("br",null))))))}};var dt=(e="",a="",t="",n="")=>{const l=new ga.default("l","mm",[297,210]);let r=[],o=[],s=[],i=30,c=0,m=0,d=0,g=0;l.setFontSize(15),l.text("LAPORAN BATAL SERVICE",14,15),l.setFontSize(20),l.text(Object(k.j)().nama_toko,200,15),l.setFontSize(8);let p=Object(k.j)().alamat_toko.length;p>20&&l.text(Object(k.j)().alamat_toko.slice(0,48),200,20),p>50&&l.text(Object(k.j)().alamat_toko.slice(48,90),200,25),l.setFontSize(10),l.setProperties({title:"LAPORAN BATAL SERVICE"}),l.text("PERIODE : ".concat(0===Object(k.l)("tgl_laporan").length?null:JSON.parse(Object(k.l)("tgl_laporan")).tgl_awal+" s/d "+JSON.parse(Object(k.l)("tgl_laporan")).tgl_akhir),14,25),o=[[{content:"TANGGAL TRANSAKSI"},{content:"KODE SALES"},{content:"NAMA CUSTOMER"},{content:"NO HP"},{content:"ALAMAT CUSTOMER"},{content:"KODE GUDANG"}]],e.forEach((e,a)=>{e._id.pembayaran.forEach((a,t)=>{let n=[{content:"No Services : ".concat(e._id.no_faktur_service," \n").concat(a.jenis,"  (").concat(parseInt(a.jumlah_rp).toLocaleString("kr-KO"),")"),colSpan:7}];r.push(n)}),e.detail.forEach((e,a)=>{let t=[e.tgl_system,e.kode_sales,e.nama_customer,e.no_hp,e.alamat_customer,e.kode_gudang];r.push(t),e.detail_barang.forEach((e,a)=>{s=[{content:"Detail Barang",colSpan:6,styles:{halign:"center"}}],r.push(s),r.push([{content:"Nama Barang",styles:{fillColor:"#E8E5E5",textColor:"#000"}},{content:"BERAT",styles:{halign:"right",fillColor:"#E8E5E5",textColor:"#000"}},{content:"JUMLAH",styles:{halign:"right",fillColor:"#E8E5E5",textColor:"#000"}},{content:"Ongkos",styles:{halign:"right",fillColor:"#E8E5E5",textColor:"#000"}},{content:"Deskripsi",colSpan:3,styles:{fillColor:"#E8E5E5",textColor:"#000"}}]),g+=parseInt(e.ongkos)*parseInt(e.jumlah),d+=e.jumlah,m+=e.berat;let t=[{content:e.nama_barang},{content:Object(k.f)(e.berat,3),styles:{halign:"right"}},{content:e.jumlah,styles:{halign:"right"}},{content:(parseInt(e.ongkos)*parseInt(e.jumlah)).toLocaleString("kr-KO"),styles:{halign:"right"}},{content:e.deskripsi,colSpan:2}];r.push(t)}),c+=e.detail_barang.length})});let h=[{content:"Printed By ".concat(JSON.parse(Object(k.l)("userdata")).user_id," / ").concat(Object(k.i)()),colSpan:6,styles:{fontStyle:"italic",textColor:"#000"}}];r.push(h),l.autoTable({head:o,body:r,startY:i,theme:"plain",rowPageBreak:"avoid",margin:{top:10},footStyles:{fontSize:8},bodyStyles:{fontSize:8},headStyles:{fontSize:8,fillColor:"#E8E5E5",textColor:"#000"},tableLineColor:[255,255,255],tableLineWidth:1}),i=l.autoTableEndPosY()+3,r=[],l.text("Total Berat                : ".concat(m.toFixed(3)),14,i+22),l.text("Total Jumlah             : ".concat(d),14,i+28),l.text("Total Ongkos            : ".concat(parseInt(g).toLocaleString("kr-KO")),14,i+34),l.text("Total Barang             : ".concat(c),14,i+40);const u=l.internal.getNumberOfPages(),b=l.internal.pageSize.width,E=l.internal.pageSize.height;l.setFontSize(10);for(let k=1;k<u+1;k++){let e=b/2,a=E-10;l.setPage(k),l.text("".concat(k," of ").concat(u),e,a,{align:"center"})}var _=l.output("datauristring"),A=window.open();A.document.open(),A.document.write("<html><head><title>LAPORAN BATAL SERVICE</title></head><body style='margin:0 !important'><embed width='100%' height='100%'  src="+_+"></embed></body></html>")};class gt extends n.Component{constructor(e){super(e),this.state={date:new Date},this.handleSubmit=this.handleSubmit.bind(this),this.setStartDate=this.setStartDate.bind(this),this.setLastDate=this.setLastDate.bind(this)}handleSubmit(e){console.log(e)}exportPdf(){dt(this.props.dataservices)}setStartDate(e){this.setState({tgl_awal:new Date(e)})}setLastDate(e){this.setState({tgl_akhir:new Date(e)})}render(){let e=[];this.props.dataservices.forEach((a,t)=>{a.detail.forEach((a,t)=>{e.push(a)})});const a=[{dataField:"no_faktur_service",text:"No Faktur",footerAttrs:{colSpan:"7"},footer:(a,t,n,r)=>l.a.createElement("div",null,"Total Services : ",e.length," ")},{dataField:"tgl_system",text:"Tanggal Transaksi"},{dataField:"kode_sales",text:"Kode Sales"},{dataField:"nama_customer",text:"Nama Customer"},{dataField:"no_hp",text:"No Hp"},{dataField:"alamat_customer",text:"Alamat Customer"},{dataField:"kode_gudang",text:"Kode Gudang"}];return l.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(ee.a,{id:"tgl_awal",name:"tgl_awal",component:te.c,label:"Tanggal Dari",type:"text",selected:this.state.tgl_awal,onChange:e=>this.setStartDate(e),placeholder:"Masukan Tanggal Dari"})),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(ee.a,{name:"tgl_akhir",component:te.c,type:"text",selected:this.state.tgl_akhir,onChange:e=>this.setLastDate(e),label:"Tanggal Akhir",placeholder:"Masukan Tanggal Akhir"})),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("div",{className:"text-right"},l.a.createElement("label",null,"\xa0"),l.a.createElement("button",{type:"submit",value:"PDF",name:"type_btn",className:"btn btn-primary btn-block"},this.props.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Mencari"):"Cari Laporan"))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement($.a,{keyField:"no_hp",data:this.props.export?e:[],columns:a,empty:!0,textEmpty:"Data Laporan Batal Service Kosong"})),l.a.createElement("div",{className:this.props.export?"col-lg-12":"col-lg-12 d-none"},l.a.createElement("label",{htmlFor:""},"\xa0"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("button",{onClick:()=>this.exportPdf(),className:"btn btn-warning btn-block"}," Export PDF ")),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(mt,{data:this.props.dataservices}))))),this.props.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}gt=Object(ae.a)({form:"HeadFormBatalService",enableReinitialize:!0})(gt);var pt=Object(q.b)(e=>({initialValues:{tgl_awal:Object(k.h)(),tgl_akhir:Object(k.h)()}}))(gt);var ht=class extends l.a.Component{constructor(e){super(e),this.state={isLoading:!1,export:!1,dataservices:[]},this.handleSubmit=this.handleSubmit.bind(this)}handleSubmit(e){this.setState({isLoading:!0});let a={tgl_awal:Object(k.e)(He(new Date(e.tgl_awal)).format("YYYY-MM-DD")),tgl_akhir:Object(k.e)(He(new Date(e.tgl_akhir)).format("YYYY-MM-DD"))};Object(A.e)("service/get/servicebatal",a).then(e=>{0===e.data.length?(Object(S.e)("info","Data Yang Anda Cari Tidak Ada"),this.setState({export:!1,isLoading:!1,dataservices:[]})):(Object(S.e)("success","Laporan Batal Service Tersedia"),Object(k.m)("tgl_laporan",JSON.stringify(a)),this.setState({export:!0,isLoading:!1,dataservices:e.data}))}).catch(e=>{this.setState({export:!1,isLoading:!1}),Object(S.e)("info","Data Yang Anda Cari Tidak Ada")})}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Laporan")),l.a.createElement("li",{className:"breadcrumb-item active"},"Laporan Batal Services")),l.a.createElement("h1",{className:"page-header"},"Laporan Batal Services "),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"Laporan Batal Services"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement(pt,{export:this.state.export,isLoading:this.state.isLoading,dataservices:this.state.dataservices,onSubmit:e=>this.handleSubmit(e)})))),l.a.createElement("br",null)))}};const ut=Object(n.lazy)(()=>t.e(58).then(t.bind(null,1137)));var bt=class extends n.Component{constructor(e){super(e),this.state={export:!1,isLoading:!1,LaporanServices:[]},this.handleSubmit=this.handleSubmit.bind(this)}componentDidMount(){let e=JSON.parse(Object(k.l)("userdata"));this.setState({username:e.user_id})}handleSubmit(e){this.setState({isLoading:!0});let a={tgl_awal:Object(k.e)(He(new Date(e.tgl_awal)).format("YYYY-MM-DD")),tgl_akhir:Object(k.e)(He(new Date(e.tgl_akhir)).format("YYYY-MM-DD"))};Object(k.m)("tgl_laporan",JSON.stringify(a)),Object(A.e)("service/get/serviceambil",a).then(e=>{0===e.data.length?(Object(S.e)("info","Data Yang Di Cari Tidak Ada !!!"),this.setState({export:!1,isLoading:!1,LaporanServices:[]})):(Object(S.e)("success","Laporan Service Ambil Tersedia"),Object(k.m)("tgl_laporan",JSON.stringify(a)),this.setState({export:!0,isLoading:!1,LaporanServices:e.data}))}).catch(e=>{Object(S.e)("info","Data Yang Di Cari Tidak Ada !!!"),this.setState({export:!1,isLoading:!1})})}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Laporan")),l.a.createElement("li",{className:"breadcrumb-item active"},"Laporan Service Ambil")),l.a.createElement("h1",{className:"page-header"},"Laporan Service Ambil "),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"Laporan Service Ambil"),l.a.createElement(Q.b,null,l.a.createElement(ut,{export:this.state.export,isLoading:this.state.isLoading,LaporanServices:this.state.LaporanServices,onSubmit:e=>this.handleSubmit(e)}))))}};const Et=Object(n.lazy)(()=>t.e(59).then(t.bind(null,1138)));var _t=class extends n.Component{constructor(e){super(e),this.state={export:!1,isLoading:!1,LaporanServices:[]},this.handleSubmit=this.handleSubmit.bind(this)}componentDidMount(){let e=JSON.parse(Object(k.l)("userdata"));this.setState({username:e.user_id})}handleSubmit(e){this.setState({isLoading:!0});let a={tgl_awal:Object(k.e)(He(new Date(e.tgl_awal)).format("YYYY-MM-DD")),tgl_akhir:Object(k.e)(He(new Date(e.tgl_akhir)).format("YYYY-MM-DD"))};Object(k.m)("tgl_laporan",JSON.stringify(a)),Object(A.e)("service/get/report",a).then(e=>{0===e.data.length?(Object(S.e)("info","Data Yang Di Cari Tidak Ada !!!"),this.setState({export:!1,isLoading:!1,LaporanServices:[]})):(Object(S.e)("success","Laporan Transaksi Service Tersedia"),Object(k.m)("tgl_laporan",JSON.stringify(a)),this.setState({export:!0,isLoading:!1,LaporanServices:e.data}))}).catch(e=>{Object(S.e)("info","Data Yang Di Cari Tidak Ada !!!"),this.setState({export:!1,isLoading:!1})})}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Laporan")),l.a.createElement("li",{className:"breadcrumb-item active"},"Laporan Service")),l.a.createElement("h1",{className:"page-header"},"Laporan Service "),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"Laporan Service"),l.a.createElement(Q.b,null,l.a.createElement(Et,{export:this.state.export,isLoading:this.state.isLoading,LaporanServices:this.state.LaporanServices,onSubmit:e=>this.handleSubmit(e)}))))}},At=t(139),kt=t.n(At),St=(t(623),t(100));var ft=e=>{const a={};return e.user_id||(a.user_id="User Id Harus Diisi"),a};const yt=[{label:"Data Master",options:[{value:"/master-group",label:"Master Group"},{value:"/master-jenis",label:"Master jenis"},{value:"/master-gudang",label:"Master Gudang"},{value:"/master-baki",label:"Master Baki"},{value:"/master-bandrol",label:"Master Bandrol"},{value:"/master-sales",label:"Master Sales"},{value:"/master-kode-transaksi",label:"Master Kondisi Transaksi"},{value:"/master-kondisi-barang",label:"Master Kondisi Barang"},{value:"/master-kondisi-pembelian",label:"Master Kondisi Pembelian"},{value:"/master-data-hadiah",label:"Master Data Hadiah"},{value:"/master-parameter-point",label:"Master Parameter Point"},{value:"/master-parameter-harga-emas",label:"Master Parameter Harga Emas"}]},{label:"Data Barang",options:[{value:"/tambah-data-barang",label:"Tambah Data Barang"},{value:"/data-barang",label:"Data Barang"},{value:"/terima-barang",label:"Terima Barang"},{value:"/hancur-data-barang",label:"Hancur Data Barang"},{value:"/pindah-barang",label:"Pindah Barang"},{value:"/pindah-barang-satu-baki",label:"Pindah Barang Satu Baki"},{value:"/timbang-baki",label:"Timbang Baki"}]},{label:"Transaksi Penjualan",options:[{value:"/transaksi-penjualan",label:"Transaksi Penjualan"},{value:"/lihat-penjualan",label:"Lihat Penjualan"},{value:"/batal-penjualan",label:"Batal Penjualan"},{value:"/lihat-titipan",label:"Lihat Titipan"}]},{label:"Transaksi Pembelian",options:[{value:"/transaksi-pembelian",label:"Transaksi Pembelian"},{value:"/lihat-pembelian",label:"Lihat Pembelian"}]},{label:"Transaksi Service",options:[{value:"/transaksi-services",label:"Transaksi Service"},{value:"/lihat-services",label:"Lihat Setvice"}]},{label:"Transaksi Hutang",options:[{value:"/transaksi-hutang",label:"Transaksi Hutang"},{value:"/lihat-hutang",label:"Lihat Hutang"}]},{label:"Uang Kas",options:[{value:"/tambah-uang-kas",label:"Tambah Uang Kas"},{value:"/ambil-uang-kas",label:"Ambil Uang Kas"}]},{label:"Kasir",options:[{value:"/validasi-jual-beli",label:"Validasi Jual Beli"},{value:"/validasi-hutang",label:"Validasi Hutang"}]},{label:"Laporan Barang",options:[{value:"/laporan-detail-barang",label:"Laporan Barang Detail"},{value:"/laporan-tambah-barang",label:"Laporan Tambah Barang"},{value:"/laporan-timbang-baki",label:"Laporan Timbang Baki"},{value:"/laporan-terima-barang",label:"Laporan Terima Barang"},{value:"/laporan-hancur-barang",label:"Laporan Hancur Barang"},{value:"/laporan-pindah-barang",label:"Laporan Pindah Barang"},{value:"/laporan-barang-sumary",label:"Laporan Barang Sumary"}]},{label:"Laporan Penjualan",options:[{value:"/laporan-transaksi-penjualan",label:"Laporan Transaksi Penjualan"},{value:"/laporan-batal-penjualan",label:"Laporan Batal Penjualan"},{value:"/laporan-penjualan-sales",label:"Laporan Penjualan Sales"}]},{label:"Laporan Pembelian",options:[{value:"/laporan-transaksi-pembelian",label:"Laporan Transaksi Pembelian"},{value:"/laporan-batal-pembelian",label:"Laporan Batal Pembelian"},{value:"/laporan-pembelian-sales",label:"Laporan Pembelian Sales"}]},{label:"Laporan Service",options:[{value:"/laporan-services",label:"Laporan Transaksi Service"},{value:"/laporan-batal-service",label:"Laporan Batal Service"},{value:"/laporan-service-ambil",label:"Laporan Service Ambil"}]},{label:"Laporan Hutang",options:[{value:"/laporan-transaksi-hutang",label:"Laporan Transaksi Hutang"},{value:"/laporan-hutang-lunas",label:"Laporan Hutang Lunas"},{value:"/laporan-batal-hutang",label:"Laporan Batal Hutang"}]},{label:"Laporan Transaksi Keuangan",options:[{value:"/laporan-transaksi-keuangan-cash",label:"Laporan Transaksi Keuangan Cash"},{value:"/laporan-keuangan-non-cash",label:"Laporan Transaksi Keuangan Non Cash"}]},{label:"Laporan Daftar Member",options:[{value:"/laporan-daftar-member",label:"Laporan Daftar Member"}]},{label:"Manage User",options:[{value:"/data-users",label:"Data Users"},{value:"/hak-akses-users",label:"Hak Akses Users"}]},{label:"Utility",options:[{value:"/settingnota",label:"Setting Nota"},{value:"/settingsystem",label:"Setting System"},{value:"/cetak-barcode",label:"Cetak Barcode"}]},{label:"Stock Opname",value:"/stock-opname"}];class Ot extends n.Component{constructor(e){super(e),this.state={isLoading:!1}}componentDidMount(){this.props.dispatch(Object(St.e)())}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement(ee.a,{id:"user_id",name:"user_id",onChange:this.props.getDataUsers,label:"Pilih User Id",placeholder:"Pilih User Id",options:this.props.DataUsers.map(e=>{return{value:e.user_id,name:e.usere_name}}),component:te.f})),l.a.createElement("div",{className:"col-6"},l.a.createElement(ee.a,{id:"nama_user",name:"nama_user",component:te.e,type:"text",label:"Nama User",defaultValue:this.state.nama,placeholder:"Masukan Nama User",readOnly:!0})),l.a.createElement("div",{className:"col-12",style:{height:550}},l.a.createElement(kt.a,{options:yt,selected:this.props.selected,filterPlaceholder:"Filter...",onChange:this.props.selectedAkses})),l.a.createElement("div",{className:"col-12"}," \xa0 "),l.a.createElement("div",{className:"col-12"},l.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.props.isLoading,type:"submit"},this.props.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))),this.props.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}Ot=Object(ae.a)({form:"HeadFormHakAkses",enableReinitialize:!0,validate:ft})(Ot);var Ct=Object(q.b)(e=>({DataUsers:e.manageusers.getDataUser}),null)(Ot);class Nt extends l.a.Component{constructor(e){super(e),this.selectedAkses=(e=>{this.setState({selected:e})}),this.state={isLoading:!1,selected:[],nama:"samsul"},this.handleSubmit=this.handleSubmit.bind(this),this.selectedAkses=this.selectedAkses.bind(this)}handleSubmit(e){this.setState({isLoading:!0});var a=this.state.selected||[],t=[];a.forEach((a,n)=>{var l={user_id:e.user_id,menu_id:a,menu_name:a};t.push(l)}),console.log(t),Object(A.e)("akses-user/add",t).then(e=>{Object(S.e)("success","Hak Akses Berhasil Disimpan")}).then(()=>{this.setState({selected:[],isLoading:!1}),this.props.dispatch(Object(Z.d)("HeadFormHakAkses"))}).catch(e=>{this.setState({isLoading:!1}),Object(S.e)("info","Terjadi Kesalahan Saat Mengirim Data")})}getDataUsers(e){Object(A.c)("sales/get/by-kode-sales/"+e).then(a=>{console.log(a.data.nama_sales),document.getElementById("nama_user").value=void 0===a.data.nama_sales?e:a.data.nama_sales});let a=[];Object(A.c)("akses-user/id/"+e).then(e=>{e.data.forEach(e=>{a.push(e.menu_name)}),this.setState({selected:a})}).catch(e=>{console.log(e)})}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Manage Users")),l.a.createElement("li",{className:"breadcrumb-item active"},"Hak Akses")),l.a.createElement("h1",{className:"page-header"},"Hak Akses "),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"Hak Akses"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement(Ct,{selected:this.state.selected,isLoading:this.state.isLoading,getDataUsers:e=>this.getDataUsers(e),selectedAkses:e=>this.selectedAkses(e),onSubmit:e=>this.handleSubmit(e)})),l.a.createElement("br",null)))}}Nt=Object(ae.a)({form:"FormHakAkses",enableReinitialize:!0})(Nt);var xt=Object(q.b)()(Nt);class jt extends n.Component{constructor(e){super(e),this.state={date:new Date,kondisi_barang:"kosong"}}componentDidMount(){this.props.dispatch(Object(X.nb)())}render(){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(ee.a,{onChange:e=>this.props.getKodeMember(e.target.value),name:"kode_member",component:te.e,type:"text",label:"Kode Member",placeholder:"Masukan Kode Member"})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(ee.a,{onChange:e=>this.props.getNamaMember(e.target.value),name:"nama_member",component:te.e,type:"text",label:"Nama Member",placeholder:"Masukan Nama Member"})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(ee.a,{onChange:e=>this.props.getNohp(e.target.value),name:"no_hp",component:te.e,type:"text",label:"No Hp",placeholder:"Masukan No Hp"})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(ee.a,{onChange:e=>this.props.getAlamat(e.target.value),name:"alamat",component:te.e,type:"text",label:"Alamat",placeholder:"Masukan Alamat"})))}}jt=Object(ae.a)({form:"FIlterPencarianMember",enableReinitialize:!0})(jt);var vt=Object(q.b)(e=>({datakondisi:e.datamaster.getDataKondisiBarang,setHancurBarang:e.databarang.setHancurBarang}),null)(jt),Lt=t(153),Tt=t.n(Lt),It=t(204),Bt=t(306),Dt=t.n(Bt),Mt=t(32);class wt extends n.Component{constructor(e){var a;super(e),a=this,this.getValue=function(){var e=Object(It.a)(Tt.a.mark(function e(t){var n,l;return Tt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],e.next=3,Object(k.b)(n);case 3:l=e.sent,a.props.dispatch(Object(Mt.s)(l)),a.props.change("dataimage",l);case 6:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),this.state={perubahannama:!1,tgl_lahir:new Date},this.setStartDate=this.setStartDate.bind(this)}setStartDate(e){this.setState({tgl_lahir:new Date(e)})}componentDidMount(){setTimeout(()=>{void 0===this.props.tgl_lahir?this.setState({tgl_lahir:new Date}):this.setState({tgl_lahir:new Date(this.props.tgl_lahir)})},100)}otorisasi(){let e=document.getElementById("id_nama_customer").value;this.props.nama_customer===e?this.setState({perubahannama:!1}):this.setState({perubahannama:!0})}cekOtorisasi(){let e={user_id:document.getElementById("username").value,password:document.getElementById("password").value};Object(A.f)("authorization",e).then(e=>{Object(S.e)("success","Otorisasi Berhasil"),this.setState({perubahannama:!1})}).catch(e=>{Object(S.e)("info","Username Atau Password Salah !!"),this.setState({perubahannama:!0}),document.getElementById("username").focus(),this.props.change("password","")})}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-4"}),l.a.createElement("div",{className:"col-4 text-center"},l.a.createElement("img",{width:"200px",height:"200px",className:"rounded-circle",src:void 0===this.props.foto?!1===this.props.setCamera?Dt.a:this.props.setCamera:this.props.setCamera?this.props.setCamera:this.props.foto,alt:"userfound"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"input-group"},l.a.createElement("div",{className:"custom-file"},l.a.createElement("input",{type:"file",name:"photo",autoComplete:"off",className:"custom-file-input",id:"exampleInputFile",onChange:e=>this.getValue(e)}),l.a.createElement("label",{className:"custom-file-label",htmlFor:"exampleInputFile"},"Pilih gambar")))),l.a.createElement("div",{className:"col-4"}),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"kode_member",component:te.b,type:"hidden"}),l.a.createElement(ee.a,{name:"dataimage",component:te.b,type:"hidden"}),this.props.isEdit?l.a.createElement(ee.a,{id:"id_nama_customer",onChange:()=>this.otorisasi(),name:"nama_customer",component:te.e,type:"text",label:"Nama Customer",placeholder:"Masukan Nama Customer"}):l.a.createElement(ee.a,{name:"nama_customer",component:te.e,type:"text",label:"Nama Customer",placeholder:"Masukan Nama Customer"})),this.state.perubahannama?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col-2"},l.a.createElement("br",null),l.a.createElement("h3",{style:{marginTop:"10px",textAlign:"center"}},"Otorisasi Owner")),l.a.createElement("div",{className:"col-3"},l.a.createElement(ee.a,{id:"username",name:"username",component:te.e,type:"text",label:"Masukan username",placeholder:"Masukan username"})),l.a.createElement("div",{className:"col-3"},l.a.createElement(ee.a,{id:"password",onBlur:()=>this.cekOtorisasi(),name:"password",component:te.e,type:"password",label:"Masukan password",placeholder:"Masukan password"}))):null,l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"no_hp",component:te.e,type:"number",label:"No Hp",placeholder:"Masukan No Hp"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"kecamatan",component:te.e,type:"text",label:"Kecamatan",placeholder:"Masukan Kecamatan"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"kelurahan",component:te.e,type:"text",label:"Kelurahan",placeholder:"Masukan Kelurahan"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"kota",component:te.e,type:"text",label:"Kota",placeholder:"Masukan Kota"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"alamat_customer",component:te.e,type:"text",label:"Alamat",placeholder:"Masukan Alamat"})),l.a.createElement("div",{className:"col-6"},l.a.createElement(ee.a,{name:"tgl_lahir",component:te.c,label:"Tanggal Lahir",type:"text",selected:this.state.tgl_lahir,onChange:e=>this.setStartDate(e)})),l.a.createElement("div",{className:"col-6"},l.a.createElement("label",null,"\xa0"),this.state.perubahannama?l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{tabIndex:"2",className:"btn btn-primary btn-block",disabled:!0,type:"button"},"Simpan Data")):l.a.createElement("button",{tabIndex:"2",className:"btn btn-primary btn-block",disabled:this.props.isLoading,type:"submit"},this.props.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))))}}wt=Object(ae.a)({form:"FormTambahMember",enableReinitialize:!0})(wt);var Kt=Object(q.b)(e=>{if(null!==e.datamember.showEditMember)return{setCamera:e.databarang.setCamera,foto:e.datamember.showEditMember.dataimage,nama_customer:e.datamember.showEditMember.nama_customer,tgl_lahir:e.datamember.showEditMember.tgl_lahir,initialValues:{dataimage:e.datamember.showEditMember.dataimage,kode_member:e.datamember.showEditMember.kode_member,nama_customer:e.datamember.showEditMember.nama_customer,no_hp:e.datamember.showEditMember.no_hp,kecamatan:e.datamember.showEditMember.kecamatan,kelurahan:e.datamember.showEditMember.kelurahan,kota:e.datamember.showEditMember.kota,alamat_customer:e.datamember.showEditMember.alamat_customer,tgl_lahir:void 0===e.datamember.showEditMember.tgl_lahir?Object(k.h)():e.datamember.showEditMember.tgl_lahir}}},null)(wt);const Pt=e=>a=>{a({type:"SHOW_MODAL_EDIT_MEMBER",payload:{data:e}})},Ft=e=>a=>{a({type:"SHOW_MODAL_TUKAR_POIN",payload:{data:e}})};var Ht=Object(q.b)(null)(class extends l.a.Component{constructor(e){super(e),this.state={isEdit:!1,modalDialog:!1,isLoading:!1,formEdit:!1,loadingData:!1,tgl_lahir:"",datamember:[],columns:[{dataField:"kode_member",text:"Kode Member"},{dataField:"nama_customer",text:"Nama Member"},{dataField:"no_hp",text:"No Hp"},{dataField:"tgl_lahir",text:"Tgl Lahir"},{dataField:"point",text:"Point",formatter:(e,a)=>e||0},{dataField:"alamat_customer",text:"Alamat",formatter:(e,a)=>e+" "+a.kecamatan+" "+a.kelurahan+" "+a.kota},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(e,a)=>{let t=[];return Object(A.c)("member/get/image/"+a.kode_member).then(e=>{t={kode_member:a.kode_member,nama_customer:a.nama_customer,no_hp:a.no_hp,kecamatan:a.kecamatan,kelurahan:a.kelurahan,kota:a.kota,tgl_lahir:a.tgl_lahir,alamat_customer:a.alamat_customer,dataimage:e.data.dataimage}}).catch(e=>t={kode_member:a.kode_member,nama_customer:a.nama_customer,no_hp:a.no_hp,kecamatan:a.kecamatan,kelurahan:a.kelurahan,kota:a.kota,tgl_lahir:a.tgl_lahir,alamat_customer:a.alamat_customer}),l.a.createElement("div",{className:"row text-center"},l.a.createElement("div",{className:"col-12"},l.a.createElement("button",{onClick:()=>this.formEditMember(t),className:"btn btn-primary mr-3"},l.a.createElement("i",{className:"fa fa-edit"}))))}}]}}formEditMember(e){this.props.dispatch(Pt(e)),this.props.dispatch(Object(X.xb)()),this.props.dispatch(Object(Mt.s)(!1)),this.setState({isEdit:!0})}componentDidMount(){this.setState({isLoading:!0}),Object(A.c)("member/get/all").then(e=>{this.setState({isLoading:!1}),this.setState({datamember:e.data})}).catch(e=>{this.setState({isLoading:!1}),Object(S.e)("info","Data Kosong"),this.setState({datamember:[]})})}getKodeMember(e){clearTimeout(this.delay),this.delay=setTimeout(()=>{this.setState({isLoading:!0}),Object(A.c)("member/get/by-kode-member/"+e).then(e=>{0===e.data.length?(Object(S.e)("info","Kode Member Tidak Di Temukan"),this.setState({datamember:[],isLoading:!1})):this.setState({isLoading:!1,datamember:e.data})}).catch(e=>{Object(S.e)("info","Kode Member Tidak Ada Ditemukan"),this.setState({datamember:[]})})},1500)}getNamaMember(e){clearTimeout(this.delay),this.delay=setTimeout(()=>{let a={nama_customer:e};Object(A.e)("member/get/by-nama/",a).then(e=>{console.log(e.data),0===e.data.length?(Object(S.e)("info","Nama Tidak Di Temukan"),this.setState({datamember:[]})):this.setState({datamember:e.data})}).catch(e=>{Object(S.e)("info","Nama Tidak Tidak Ditemukan"),this.setState({datamember:[]})})},1500)}getAlamat(e){clearTimeout(this.delay),this.delay=setTimeout(()=>{let a={alamat:e};Object(A.e)("member/get/by-alamat",a).then(e=>{console.log(e.data),0===e.data.length?(Object(S.e)("info","Alamat Tidak Di Temukan"),this.setState({datamember:[]})):this.setState({datamember:e.data})}).catch(e=>{Object(S.e)("info","Alamat Tidak Di Temukan"),this.setState({datamember:[]})})},1500)}getNohp(e){clearTimeout(this.delay),this.delay=setTimeout(()=>{let a={hp:e};Object(A.e)("member/get/by-hp",a).then(e=>{console.log(e.data),0===e.data.length?(Object(S.e)("info","No Hp Tidak Di Temukan"),this.setState({datamember:[]})):this.setState({datamember:e.data})}).catch(e=>{Object(S.e)("info","No Hp Tidak Di Temukan"),this.setState({datamember:[]})})},1500)}tambahMember(){this.props.dispatch(Object(Mt.s)(!1)),this.props.dispatch(Pt(!1)),this.setState({isEdit:!1}),this.props.dispatch(Object(X.xb)())}simpanMember(e){this.setState({isLoading:!0});let a={nama_customer:e.nama_customer,alamat_customer:e.alamat_customer,no_hp:e.no_hp,kecamatan:e.kecamatan,kelurahan:e.kelurahan,kota:e.kota,tgl_lahir:Object(k.e)(He(new Date(e.tgl_lahir)).format("YYYY-MM-DD")),dataimage:e.dataimage};this.state.isEdit?Object(A.g)("member/edit/by-kode-member/"+e.kode_member,a).then(a=>{this.setState({isLoading:!1,isEdit:!1}),Object(S.e)("success","Data Berhasil Diedit"),this.props.dispatch(Object(Z.d)("FormTambahMember")),this.props.dispatch(Object(X.wb)()),Object(A.c)("member/get/by-kode-member/"+e.kode_member).then(e=>{0===e.data.length?Object(S.e)("info","Kode Member Tidak Di Temukan"):this.setState({datamember:e.data})}).catch(e=>{Object(S.e)("info","Kode Member Tidak Ada Ditemukan")})}).catch(e=>{this.setState({isLoading:!1}),Object(S.e)("info","Data Gagal Diedit")}):Object(A.e)("member/add",a).then(e=>{Object(S.e)("success","Data Member Berhasil Disimpan"),this.props.dispatch(Object(Z.d)("FormTambahMember")),this.props.dispatch(Object(X.wb)()),this.setState({isLoading:!1});let a={tgl_awal:Object(k.e)(He(new Date).format("YYYY-MM-DD")),tgl_akhir:Object(k.e)(He(new Date).format("YYYY-MM-DD"))};console.log(a),Object(A.e)("member/get/by-tanggal",a).then(e=>{let a=[];e.data.forEach(e=>{e.detail.forEach(e=>{let t={kode_member:e.kode_member,nama_customer:e.nama_customer,alamat_customer:e.alamat_customer,no_hp:e.no_hp,kecamatan:e.kecamatan,kelurahan:e.kelurahan,kota:e.kota,point:e.point,tgl_lahir:e.tgl_lahir};a.push(t)})}),this.setState({datamember:a})}).catch(e=>{Object(S.e)("info","Kode Member Tidak Ada Ditemukan")})}).catch(e=>{this.setState({isLoading:!1}),Object(S.e)("info","Data Member Gagal Disimpan")})}setStartDate(e){this.setState({tgl_lahir:new Date(e)})}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Member")),l.a.createElement("li",{className:"breadcrumb-item active"},"Data Member")),l.a.createElement("h1",{className:"page-header"},"Data Member "),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"Filter Pencarian Member"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement(vt,{getNamaMember:e=>this.getNamaMember(e),getKodeMember:e=>this.getKodeMember(e),getNohp:e=>this.getNohp(e),getAlamat:e=>this.getAlamat(e)}))),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,this.state.loadingData?l.a.createElement(l.a.Fragment,null," ",l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Mencari Data Member"," "):"Data Member"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement($.a,{keyField:"kode_Member",tambahData:!0,btnText:"Tambah Data Member",handleClick:e=>this.tambahMember(e),onChange:this.setStartDate,data:this.state.datamember,columns:this.state.columns,empty:!0})),l.a.createElement("br",null),l.a.createElement(ce.a,{title:this.state.isEdit?"Edit Data Member":"Tambah Data Member",content:l.a.createElement(Kt,{tgl_lahir:this.state.tgl_lahir,isEdit:this.state.isEdit,isLoading:this.state.isLoading,onSubmit:e=>this.simpanMember(e)})})),this.state.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}});class Rt extends n.Component{constructor(e){super(e),this.state={date:new Date,kondisi_barang:"kosong",isLoadingBatal:!1}}setStartDate(e){this.setState({tgl_awal:new Date(e)})}setLastDate(e){this.setState({tgl_akhir:new Date(e)})}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-8"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(ee.a,{onChange:this.props.getKodeMember,name:"kode_member",component:te.e,type:"text",label:"Kode Member",placeholder:"Masukan Kode Member"})),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(ee.a,{id:"lihat_transaksi_nama_member",name:"nama_member",readOnly:!0,component:te.e,type:"text",label:"Nama Member",placeholder:"Masukan Nama Member"})))),l.a.createElement("div",{className:"col-4 text-center"},l.a.createElement(l.a.Fragment,null," \xa0 "),l.a.createElement("h1",{style:"POINT"===this.props.point?{fontSize:"4.875rem",position:"absolute",left:"56px",top:"25px"}:{fontSize:"4.875rem",position:"absolute",left:"110px",top:"25px"}}," ",this.props.point," ")),l.a.createElement("div",{className:"col-8"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(ee.a,{id:"lihat_transaksi_alamat",name:"alamat",readOnly:!0,component:te.e,type:"text",label:"Alamat",placeholder:"Masukan Alamat"})),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(ee.a,{id:"lihat_transaksi_no_hp",name:"no_hp",readOnly:!0,component:te.e,type:"text",label:"No Hp",placeholder:"Masukan No Hp"})))),l.a.createElement("div",{className:"col-4 text-center"}),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(ee.a,{name:"dari_tanggal",component:te.c,type:"text",selected:this.state.tgl_awal,onChange:e=>this.setStartDate(e),label:"Dari Tanggal",placeholder:"Masukan Dari Tanggal"})),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(ee.a,{name:"sampai_tanggal",component:te.c,type:"text",selected:this.state.tgl_akhir,onChange:e=>this.setLastDate(e),label:"Sampai Tanggal",placeholder:"Masukan Sampai Tanggal"})),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("label",null,"\xa0"),l.a.createElement("button",{type:"submit",value:"PDF",name:"type_btn",className:"btn btn-primary btn-block"},this.props.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Lihat"):"Lihat")),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("label",null,"\xa0"),l.a.createElement("button",{type:"button",onClick:this.props.batalLihatTransaksi,className:"btn btn-warning btn-block"},this.props.isLoadingBatal?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Batal"):"Batal")))),l.a.createElement("div",{className:"col-12"},l.a.createElement($.a,{keyField:"tgl_trx",exportCsv:!0,data:this.props.datatransaksimember,columns:this.props.columns,empty:!0,textEmpty:"Data Transaksi Member Kosong"}))),this.props.isLoadingBatal||this.props.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}Rt=Object(ae.a)({form:"HeadTransaksiMember",enableReinitialize:!0})(Rt);var Jt=Object(q.b)(e=>({initialValues:{dari_tanggal:Object(k.h)(),sampai_tanggal:Object(k.h)()},datakondisi:e.datamaster.getDataKondisiBarang,setHancurBarang:e.databarang.setHancurBarang}),null)(Rt);class zt extends l.a.Component{constructor(e){super(e),this.state={isLoading:!1,isLoadingBatal:!1,point:"POINT",datatransaksimember:[],columns:[{dataField:"tgl_trx",text:"Tanggal Trx",sort:!0},{dataField:"kategori",text:"Kategori"},{dataField:"deskripsi",text:"Deskripsi"},{dataField:"berat",text:"Berat",formatter:e=>l.a.createElement("span",null,parseFloat(e).toFixed(3))},{dataField:"jumlah_rp",text:"Jumlah Rp",formatter:e=>l.a.createElement("span",null,parseFloat(e).toLocaleString("kr-KO"))},{dataField:"poin_awal",text:"Poin Awal",formatter:(e,a)=>e||0},{dataField:"poin",text:"Poin",formatter:(e,a)=>e||0},{dataField:"poin_akhir",text:"Poin Akhir",formatter:(e,a)=>e||0}]},this.handleSubmit=this.handleSubmit.bind(this),this.getKodeMember=this.getKodeMember.bind(this)}batalLihatTransaksi(){this.setState({isLoadingBatal:!0}),setTimeout(()=>{this.setState({isLoadingBatal:!1,datatransaksimember:[]}),this.props.dispatch(Object(Z.d)("HeadTransaksiMember"))},1e3)}getKodeMember(e){clearTimeout(this.delay),this.delay=setTimeout(()=>{if(void 0===e.kode_member)return!1;this.setState({isLoading:!0}),Object(A.c)("member/get/by-kode-member/"+e.kode_member).then(e=>{this.setState({isLoading:!1}),e.data.forEach((e,a)=>{document.getElementById("lihat_transaksi_nama_member").value=e.nama_customer,document.getElementById("lihat_transaksi_alamat").value=e.alamat_customer,document.getElementById("lihat_transaksi_no_hp").value=e.no_hp,this.setState({datatransaksimember:[],point:e.point||0,isLoading:!1})})}).catch(e=>{Object(S.e)("info","Data member tidak ada"),this.setState({datatransaksimember:[],isLoading:!1})})},1500)}handleSubmit(e){let a={kode_member:e.kode_member,tgl_awal:Object(k.e)(He(new Date(e.dari_tanggal)).format("YYYY-MM-DD")),tgl_akhir:Object(k.e)(He(new Date(e.sampai_tanggal)).format("YYYY-MM-DD"))};Object(A.e)("trxmember/get/by-tanggal",a).then(e=>{0===e.data.length?(Object(S.e)("info","Data Yang Di Cari Tidak Ada !!!"),this.setState({isLoading:!1,export:!1})):(Object(S.e)("success","Laporan Transaksi Member Tersedia"),Object(k.m)("tgl_laporan",JSON.stringify(a)),this.setState({export:!0,isLoading:!1,datatransaksimember:e.data}))}).catch(e=>{Object(S.e)("info","Data Yang Di Cari Tidak Ada !!!"),this.setState({isLoading:!1,export:!1})})}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Member")),l.a.createElement("li",{className:"breadcrumb-item active"},"Lihat Transaksi Member")),l.a.createElement("h1",{className:"page-header"},"Lihat Transaksi Member "),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"Lihat Transaksi Member"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement(Jt,{onChange:e=>this.getKodeMember(e),batalLihatTransaksi:()=>this.batalLihatTransaksi(),onSubmit:e=>this.handleSubmit(e),columns:this.state.columns,point:this.state.point,isLoadingBatal:this.state.isLoadingBatal,datatransaksimember:this.state.datatransaksimember}),l.a.createElement("br",null)),l.a.createElement("br",null)),this.state.isLoadingBatal||this.state.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}zt=Object(ae.a)({form:"LihatTransaksiMember",enableReinitialize:!0})(zt);var Gt=Object(q.b)(null)(zt);class Ut extends n.Component{constructor(...e){super(...e),this.state={}}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement(ee.a,{name:"jumlah_poin",component:te.e,type:"number",label:"Jumlah Tambah Poin",placeholder:"Masukan Jumlah Tambah Poin"})),l.a.createElement("div",{className:"col-6"},l.a.createElement("label",{htmlFor:""}," \xa0 "),l.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.props.isLoadingAmbilPoin,type:"submit"},this.props.isLoadingAmbilPoin?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))),this.props.isLoadingAmbilPoin?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}Ut=Object(ae.a)({form:"AmbilPoin",enableReinitialize:!0})(Ut);var Yt=Object(q.b)()(Ut);class Vt extends n.Component{constructor(...e){super(...e),this.state={}}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement(ee.a,{name:"jumlah_poin",component:te.e,type:"number",label:"Jumlah Tambah Poin",placeholder:"Masukan Jumlah Tambah Poin"})),l.a.createElement("div",{className:"col-6"},l.a.createElement("label",{htmlFor:""}," \xa0 "),l.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.props.isLoadingTambahPoin,type:"submit"},this.props.isLoadingTambahPoin?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))),this.props.isLoadingTambahPoin?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}Vt=Object(ae.a)({form:"TambahPoin",enableReinitialize:!0})(Vt);var Wt=Object(q.b)()(Vt);class Qt extends n.Component{constructor(e){super(e),this.state={date:new Date,kondisi_barang:"kosong",isLoadingTambahPoin:!1,isLoadingAmbilPoin:!1,FormModal:""}}simpanTambahPoint(e){this.setState({isLoadingTambahPoin:!0});let a=JSON.parse(localStorage.getItem("data_member")||[]),t={kode_member:a[0].kode_member,nama_customer:a[0].nama_customer,alamat_customer:a[0].alamat_customer,poin:parseInt(e.jumlah_poin)};Object(A.e)("trxmember/poin/tambah",t).then(e=>{Object(S.e)("success",e.data.message),localStorage.setItem("data_member",JSON.stringify([])),this.props.dispatch(Object(Z.d)("HeadFormPoint")),document.getElementById("transaksi_poin_nama_member").value="",document.getElementById("transaksi_poin_alamat").value="",document.getElementById("transaksi_poin_no_hp").value="",this.setState({isLoadingTambahPoin:!1}),this.props.dispatch(Object(X.wb)())}).catch(e=>{this.setState({isLoadingTambahPoin:!1}),Object(S.e)("info","Terjadi Kesalahan Saat Mengirim Data")})}simpanAmbilPoint(e){console.log(e),this.setState({isLoadingAmbilPoin:!0});let a=JSON.parse(localStorage.getItem("data_member")||[]),t={kode_member:a[0].kode_member,nama_customer:a[0].nama_customer,alamat_customer:a[0].alamat_customer,poin:parseInt(e.jumlah_poin)};Object(A.e)("trxmember/poin/ambil",t).then(e=>{Object(S.e)("success",e.data.message),localStorage.setItem("data_member",JSON.stringify([])),this.props.dispatch(Object(Z.d)("HeadFormPoint")),document.getElementById("transaksi_poin_nama_member").value="",document.getElementById("transaksi_poin_alamat").value="",document.getElementById("transaksi_poin_no_hp").value="",this.setState({isLoadingAmbilPoin:!1}),this.props.dispatch(Object(X.wb)())}).catch(e=>{this.setState({isLoadingAmbilPoin:!1}),Object(S.e)("info","Terjadi Kesalahan Saat Mengirim Data")})}ShowModalTambahPoin(){0===(localStorage.getItem("data_member")||[]).length?Object(S.e)("info","Kode Member Belum Diisi"):(this.props.dispatch(Object(X.xb)()),this.setState({FormModal:"ShowModalTambahPoin"}))}ShowModalAmbilPoin(){0===(localStorage.getItem("data_member")||[]).length?Object(S.e)("info","Kode Member Belum Diisi"):(this.props.dispatch(Object(X.xb)()),this.setState({FormModal:"ShowModalAmbilPoin"}))}render(){return l.a.createElement(Q.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-8"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(ee.a,{onChange:this.props.getKodeMember,name:"kode_member",component:te.e,type:"text",label:"Kode Member",placeholder:"Masukan Kode Member"})),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(ee.a,{id:"transaksi_poin_nama_member",name:"nama_member",readOnly:!0,component:te.e,type:"text",label:"Nama Member",placeholder:"Masukan Nama Member"})))),l.a.createElement("div",{className:"col-4 text-center"},l.a.createElement(l.a.Fragment,null," \xa0 "),l.a.createElement("h1",{style:"POINT"===this.props.point?{fontSize:"4.875rem",position:"absolute",left:"56px",top:"25px"}:{fontSize:"4.875rem",position:"absolute",left:"110px",top:"25px"}}," ",this.props.point," ")),l.a.createElement("div",{className:"col-8"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(ee.a,{id:"transaksi_poin_alamat",name:"alamat",readOnly:!0,component:te.e,type:"text",label:"Alamat",placeholder:"Masukan Alamat"})),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(ee.a,{id:"transaksi_poin_no_hp",name:"no_hp",readOnly:!0,component:te.e,type:"text",label:"No Hp",placeholder:"Masukan No Hp"})))),l.a.createElement("div",{className:"col-4 text-center"}),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("label",null,"\xa0"),l.a.createElement("button",{type:"button",onClick:()=>this.ShowModalTambahPoin(),className:"btn btn-primary btn-block"},this.props.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Tambah Poin"):"Tambah Poin")),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("label",null,"\xa0"),l.a.createElement("button",{type:"button",onClick:()=>this.ShowModalAmbilPoin(),className:"btn btn-warning btn-block"},this.props.isLoadingBatal?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Ambil Poin"):"Ambil Poin"))),l.a.createElement(ce.a,{size:"L",title:"ShowModalTambahPoin"===this.state.FormModal?"Tambah Poin":"Ambil Poin",content:"ShowModalTambahPoin"===this.state.FormModal?l.a.createElement(Wt,{isLoadingTambahPoin:this.state.isLoadingTambahPoin,onSubmit:e=>this.simpanTambahPoint(e)}):l.a.createElement(Yt,{isLoadingAmbilPoin:this.state.isLoadingAmbilPoin,onSubmit:e=>this.simpanAmbilPoint(e)})}),this.state.isLoadingAmbilPoin||this.state.isLoadingTambahPoin?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}Qt=Object(ae.a)({form:"HeadFormPoint",enableReinitialize:!0})(Qt);var Xt=Object(q.b)(e=>({datakondisi:e.datamaster.getDataKondisiBarang,setHancurBarang:e.databarang.setHancurBarang}),null)(Qt);var qt=Object(q.b)(null)(class extends l.a.Component{constructor(e){super(e),this.state={isLoading:!1,point:"POINT"},this.handleSubmit=this.handleSubmit.bind(this),this.getKodeMember=this.getKodeMember.bind(this)}handleSubmit(e){}getKodeMember(e){clearTimeout(this.delay),this.delay=setTimeout(()=>{if(void 0===e.kode_member)return!1;this.setState({isLoading:!0}),Object(A.c)("member/get/by-kode-member/"+e.kode_member).then(e=>{0===e.data.length?(Object(S.e)("info","Kode Member Tersebut Tidak Ada"),document.getElementById("transaksi_poin_nama_member").value="",document.getElementById("transaksi_poin_alamat").value="",document.getElementById("transaksi_poin_no_hp").value="",this.setState({datatransaksimember:[],point:0,isLoading:!1})):(localStorage.setItem("data_member",JSON.stringify(e.data)),e.data.forEach((e,a)=>{document.getElementById("transaksi_poin_nama_member").value=e.nama_customer,document.getElementById("transaksi_poin_alamat").value=e.alamat_customer,document.getElementById("transaksi_poin_no_hp").value=e.no_hp,this.setState({datatransaksimember:[],point:e.point||0,isLoading:!1})}))})},1500)}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Member")),l.a.createElement("li",{className:"breadcrumb-item active"},"Transaksi Poin")),l.a.createElement("h1",{className:"page-header"},"Transaksi Poin "),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"Transaksi Poin"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement(Xt,{onChange:e=>this.getKodeMember(e),point:this.state.point})),l.a.createElement("br",null)),this.state.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}});class Zt extends n.Component{constructor(e){super(e),this.state={date:new Date,kondisi_barang:"kosong",FormModal:""}}ShowModalTambahPoin(){0===(localStorage.getItem("data_member")||[]).length?Object(S.e)("info","Kode Member Belum Diisi"):(this.props.dispatch(Object(X.xb)()),this.setState({FormModal:"ShowModalTambahPoin"}))}render(){return l.a.createElement(Q.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-8"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(ee.a,{id:"kode_member",onChange:this.props.getKodeMember,name:"kode_member",component:te.e,type:"text",label:"Kode Member",placeholder:"Masukan Kode Member"})),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(ee.a,{id:"transaksi_poin_nama_member",name:"nama_member",readOnly:!0,component:te.e,type:"text",label:"Nama Member",placeholder:"Masukan Nama Member"})))),l.a.createElement("div",{className:"col-4 text-center"},l.a.createElement(l.a.Fragment,null," \xa0 "),l.a.createElement("h1",{style:"POINT"===this.props.point?{fontSize:"4.875rem",position:"absolute",left:"56px",top:"25px"}:{fontSize:"4.875rem",position:"absolute",left:"110px",top:"25px"}}," ",this.props.point," ")),l.a.createElement("div",{className:"col-8"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(ee.a,{id:"transaksi_poin_alamat",name:"alamat",readOnly:!0,component:te.e,type:"text",label:"Alamat",placeholder:"Masukan Alamat"})),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(ee.a,{id:"transaksi_poin_no_hp",name:"no_hp",readOnly:!0,component:te.e,type:"text",label:"No Hp",placeholder:"Masukan No Hp"})))),l.a.createElement("div",{className:"col-4 text-center"})))}}Zt=Object(ae.a)({form:"HeadTukarPoin",enableReinitialize:!0})(Zt);var $t=Object(q.b)()(Zt),en=t(651),an=t(649),tn=t(650),nn=t(662),ln=t(288);class rn extends n.Component{constructor(...e){super(...e),this.state={}}render(){return l.a.createElement(en.a,{isOpen:this.props.isOpen,backdrop:"static",keyboard:!1,toggle:()=>this.props.dispatch(Object(X.wb)())},l.a.createElement(an.a,null," ",this.props.title," "),l.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off"},l.a.createElement(tn.a,null,l.a.createElement(ee.a,{name:"kode_hadiah",component:te.e,type:"text",readOnly:!0,label:" Kode Hadiah",placeholder:"Masukan  Kode Hadiah"}),l.a.createElement(ee.a,{name:"nama_hadiah",component:te.e,type:"text",readOnly:!0,label:" Nama Hadiah",placeholder:"Masukan  Nama Hadiah"}),l.a.createElement(ee.a,{name:"poin",component:te.e,type:"number",readOnly:!0,label:"Poin",placeholder:"Masukan Poin"})),l.a.createElement(nn.a,null,l.a.createElement("button",{className:"btn btn-white",onClick:()=>this.props.dispatch(Object(X.wb)()),type:"button",disabled:this.props.isLoading},"Batal"),l.a.createElement("button",{className:"btn btn-primary",disabled:this.props.submitting,type:"submit"},this.props.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data")),this.props.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null))}}rn=Object(ae.a)({form:"ModalHadiah",enableReinitialize:!0,validate:ln.a})(rn);var on=Object(q.b)(e=>{if(null!==e.datamember.ShowModalTukarPoin)return{initialValues:{nama_hadiah:e.datamember.ShowModalTukarPoin.nama_hadiah,poin:e.datamember.ShowModalTukarPoin.poin,kode_hadiah:e.datamember.ShowModalTukarPoin.kode_hadiah}}},null)(rn);class sn extends l.a.Component{constructor(e){super(e),this.state={point:"POINT",isLoading:!1,isLoadingTukarPoin:!1,columns:[{dataField:"nama_hadiah",text:"Nama Hadiah",sort:!0},{dataField:"poin",text:"Poin"},{dataField:"stock",text:"Stock"},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(e,a)=>{let t={kode_hadiah:a.kode_hadiah,nama_hadiah:a.nama_hadiah,poin:a.poin};return l.a.createElement("div",{className:"row text-center"},l.a.createElement("div",{className:"col-12"},l.a.createElement("button",{onClick:()=>this.showDataHadiah(t),className:"btn btn-primary mr-3"},l.a.createElement("i",{className:"fa fa-exchange-alt"}))))}}]},this.handleSubmit=this.handleSubmit.bind(this),this.getKodeMember=this.getKodeMember.bind(this)}showDataHadiah(e){0===(localStorage.getItem("data_member")||[]).length?Object(S.e)("info","Kode Member Belum Diisi"):(this.props.dispatch(Ft(e)),this.props.dispatch(Object(X.xb)()))}handleSubmit(e){this.setState({isLoading:!0});let a=JSON.parse(localStorage.getItem("data_member")||[]),t={kode_member:a[0].kode_member,nama_customer:a[0].nama_customer,alamat_customer:a[0].alamat_customer,poin:parseInt(e.poin),kode_hadiah:e.kode_hadiah,nama_hadiah:e.nama_hadiah};Object(A.e)("trxmember/poin/tukar",t).then(e=>{this.props.dispatch(Object(Z.d)("ModalHadiah")),this.props.dispatch(Object(Z.d)("HeadTukarPoin")),Object(S.e)("success",e.data.message),localStorage.setItem("data_member",JSON.stringify([])),this.props.dispatch(Object(Z.d)("HeadFormPoint")),document.getElementById("transaksi_poin_nama_member").value="",document.getElementById("transaksi_poin_nama_member").value="",document.getElementById("transaksi_poin_alamat").value="",document.getElementById("transaksi_poin_no_hp").value="",this.setState({isLoading:!1}),this.props.dispatch(Object(X.wb)()),Object(A.c)("member/get/by-kode-member/"+a[0].kode_member).then(e=>{0===e.data.length?(Object(S.e)("info","Kode Member Tersebut Tidak Ada"),document.getElementById("transaksi_poin_nama_member").value="",document.getElementById("transaksi_poin_alamat").value="",document.getElementById("transaksi_poin_no_hp").value="",this.setState({datatransaksimember:[],point:0,isLoading:!1})):(localStorage.setItem("data_member",JSON.stringify(e.data)),e.data.forEach((e,a)=>{document.getElementById("kode_member").value=e.kode_member,document.getElementById("transaksi_poin_nama_member").value=e.nama_customer,document.getElementById("transaksi_poin_alamat").value=e.alamat_customer,document.getElementById("transaksi_poin_no_hp").value=e.no_hp,this.setState({datatransaksimember:[],point:e.point||0,isLoading:!1})}))})}).catch(e=>{Object(S.e)("info",e.response.data||"Terjadi kesalahan"),this.setState({isLoadingTukarPoin:!1,isLoading:!1})})}getKodeMember(e){clearTimeout(this.delay),this.delay=setTimeout(()=>{if(void 0===e.kode_member)return!1;this.setState({isLoading:!0}),Object(A.c)("member/get/by-kode-member/"+e.kode_member).then(e=>{0===e.data.length?(Object(S.e)("info","Kode Member Tersebut Tidak Ada"),document.getElementById("transaksi_poin_nama_member").value="",document.getElementById("transaksi_poin_alamat").value="",document.getElementById("transaksi_poin_no_hp").value="",this.setState({datatransaksimember:[],point:0,isLoading:!1})):(localStorage.setItem("data_member",JSON.stringify(e.data)),e.data.forEach((e,a)=>{document.getElementById("transaksi_poin_nama_member").value=e.nama_customer,document.getElementById("transaksi_poin_alamat").value=e.alamat_customer,document.getElementById("transaksi_poin_no_hp").value=e.no_hp,this.setState({datatransaksimember:[],point:e.point||0,isLoading:!1})}))})},1500)}componentDidMount(){this.props.dispatch(Object(X.kb)())}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Member")),l.a.createElement("li",{className:"breadcrumb-item active"},"Tukar Poin")),l.a.createElement("h1",{className:"page-header"},"Tukar Poin "),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"Tukar Poin"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement($t,{onChange:e=>this.getKodeMember(e),point:this.state.point}),l.a.createElement($.a,{keyField:"kode_hadiah",exportCsv:!0,data:this.props.datahadiah,columns:this.state.columns,textEmpty:"Data Transaksi Member Kosong"})),l.a.createElement("br",null),l.a.createElement(on,{isLoading:this.state.isLoading,isEdit:this.state.isEdit,title:"FormTukar Point",isOpen:this.props.hideModal,onSubmit:e=>this.handleSubmit(e)})),this.state.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}sn=Object(ae.a)({form:"FormTukarPoin",enableReinitialize:!0})(sn);var cn=Object(q.b)(e=>({datahadiah:e.datamaster.getDataHadiah,hideModal:e.datamaster.modalDialog}),null)(sn);const mn=e=>a=>{a({type:"SHOW_MODAL_BATAL_PEMBELIAN",payload:{data:e}})};class dn extends n.Component{constructor(e){super(e),this.state={date:new Date("Y-m-d"),columns:[{dataField:"nama_barang",text:"Nama Barang",footer:""},{dataField:"berat",text:"Berat",formatter:e=>l.a.createElement("span",null,parseFloat(e).toFixed(1)),footer:e=>parseFloat(e.reduce((e,a)=>e+a,0)).toFixed(1)},{dataField:"berat_nota",text:"Berat Nota",formatter:e=>l.a.createElement("span",null,parseFloat(e).toFixed(1)),footer:e=>parseFloat(e.reduce((e,a)=>e+a,0)).toFixed(1)},{dataField:"harga_nota",text:"Harga Nota",formatter:e=>l.a.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")},{dataField:"harga",text:"Harga",formatter:e=>l.a.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")},{dataField:"harga_rata",text:"Harga Rata",formatter:e=>l.a.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")},{dataField:"kondisi",text:"Kondisi",footer:""}]}}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{id:"no_faktur_group",name:"no_faktur_group",component:te.b,type:"hidden",readOnly:!0}),l.a.createElement(ee.a,{name:"nama_customer",component:te.e,type:"text",readOnly:!0,label:"Nama Customer",placeholder:"Masukan Nama Customer"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"no_hp",component:te.e,type:"text",readOnly:!0,label:"No Hp",placeholder:"Masukan No Hp"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"alamat_customer",component:te.e,type:"text",readOnly:!0,label:"Alamat Customer",placeholder:"Masukan Alamat Customer"})),l.a.createElement("div",{className:"col-12"},l.a.createElement($.a,{keyField:"nama_barang",exportCsv:!1,data:this.props.detail_barang,columns:this.state.columns,pagination:"off",empty:!0,textEmpty:"Data Barang Kosong"})),l.a.createElement("div",{className:"col-3"},l.a.createElement("button",{type:"button",onClick:this.props.back,className:"btn btn-primary btn-block"},l.a.createElement("i",{className:"fa fa-arrow-left"})," Kembali")),l.a.createElement("div",{className:"col-9"},l.a.createElement("button",{tabIndex:"2",className:"btn btn-primary btn-block",disabled:this.props.isLoadingBatalBeli,type:"submit"},this.props.isLoadingBatalBeli?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Membatal"):"Batal Pembelian"))),l.a.createElement("br",null),this.props.isLoadingBatalBeli?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}dn=Object(ae.a)({form:"HeadBatalBeli",enableReinitialize:!0,validate:Be})(dn);var gn=Object(q.b)(e=>({detail_barang:e.pembelian.showModalBatalBeli.detail_barang,initialValues:{no_faktur_group:e.pembelian.showModalBatalBeli.no_faktur_group,nama_customer:e.pembelian.showModalBatalBeli.nama_customer,no_hp:e.pembelian.showModalBatalBeli.no_hp,alamat_customer:e.pembelian.showModalBatalBeli.alamat_customer}}))(dn);class pn extends n.Component{constructor(e){super(e),this.state={isLoading:!1,isLoadingBatal:!1,FormModal:""},this.setStartDate=this.setStartDate.bind(this),this.setLastDate=this.setLastDate.bind(this)}componentDidMount(){}setStartDate(e){this.setState({tgl_awal:new Date(e)})}setLastDate(e){this.setState({tgl_akhir:new Date(e)})}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(ee.a,{name:"tgl_awal",component:te.c,label:"Tanggal Dari",type:"text",selected:this.state.tgl_awal,onChange:e=>this.setStartDate(e),placeholder:"Masukan Tanggal Dari"})),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(ee.a,{name:"tgl_akhir",component:te.c,type:"text",selected:this.state.tgl_akhir,onChange:e=>this.setLastDate(e),label:"Tanggal Akhir",placeholder:"Masukan Tanggal Akhir"})),l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null," \xa0"),l.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.props.isLoading,type:"submit"},this.props.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Mencari"):"Cari Pembelian"))),this.props.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}pn=Object(ae.a)({form:"HeadPembelian",enableReinitialize:!0,validate:Je.a})(pn);var hn=Object(q.b)(e=>({initialValues:{tgl_awal:Object(k.h)(),tgl_akhir:Object(k.h)()}}))(pn);var un=Object(q.b)(null)(class extends l.a.Component{constructor(e){super(e),this.state={isLoadingServicesSelesai:!1,isLoadingBatalBeli:!1,isLoading:!1,dataservices:[],FormModal:!1,pembayaran:!1,columns:[{dataField:"no_faktur_beli",text:"No FB",footerAttrs:{colSpan:"3"},footer:"Total"},{dataField:"nama_customer",text:"Nama Customer"},{dataField:"no_hp",text:"No Hp"},{dataField:"harga",text:"Harga",formatter:e=>l.a.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")},{dataField:"harga_nota",text:"Harga Nota",formatter:e=>l.a.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")},{dataField:"harga_rata",text:"Harga Rata",formatter:e=>l.a.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")},{dataField:"kondisi",text:"Kondisi",footer:""},{dataField:"ambil",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(e,a,t)=>l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("button",{type:"button","data-tooltip":"Batal Pembelian",onClick:()=>this.shoBatalPembelian(a),className:"btn btn-danger"},l.a.createElement("i",{className:"fa fa-file-export"})),"\xa0",l.a.createElement("button",{"data-tooltip":"Reprint Pembelian",type:"button",onClick:()=>this.ReprintPembelian(a),className:"btn btn-success mr-3"},l.a.createElement("i",{className:"fa fa-print"})))),footer:""}]},this.handleSubmit=this.handleSubmit.bind(this)}ReprintPembelian(e){let a={no_faktur_group:e.no_faktur_group};Object(A.e)("pembelian/get/bynota",a).then(e=>{let a="";e.data.notabeli.forEach((e,t)=>{let n=e.head.n_alamat_customer.length;a="========================================\n      Tanggal          : ".concat(e.head.tgl_system,"\n      Nama Customer    : ").concat(e.head.nama_customer,"\n      No Hp            : ").concat(e.head.no_hp,"\n      Alamat Customer  : ").concat(e.head.n_alamat_customer.split(0,20),"\n      "),n>20&&(a+="                   ".concat(e.head.n_alamat_customer.split(0,20),"\n      ")),n>40&&(a+="                   ".concat(e.head.n_alamat_customer.split(40,20),"\n      ")),a+="========================================\n",a+="Keterangan\n",a+="========================================\n";let l=0,r=0;e.detail.forEach((e,t)=>{l+=e.harga,r+=e.harga_nota,a+="No Faktur Beli : ".concat(e.no_faktur_beli,"\n"),a+="Jenis Barang   : ".concat(e.kode_dept,"\n"),a+="Nama Barang    : ".concat(e.nama_barang,"\n"),a+="Berat          : ".concat(e.berat.toFixed(3),"\n"),a+="Harga          : ".concat(e.harga.toLocaleString("kr-KO"),"\n"),a+="========================================\n"}),a+="Total          : ".concat(l.toLocaleString("kr-KO"),"\n"),a+="========================================\n",a+="Harga Waktu Beli   : ".concat(l.toLocaleString("kr-KO"),"\n"),a+="Harga Waktu Jual   : ".concat(r.toLocaleString("kr-KO"),"\n"),a+="\n\n\n\n\n\n\n      "}),document.getElementById("myInput").value=a}).then(()=>{console.log("masuk");const e=document.createElement("a"),a=new Blob([document.getElementById("myInput").value],{type:"text/plain;charset=utf-8"});e.href=URL.createObjectURL(a),e.download="autoprint_pembelian.txt",document.body.appendChild(e),e.click()}).catch(e=>{})}shoBatalPembelian(e){let a={no_faktur_group:e.no_faktur_group};Object(A.e)("batalpembelian/get/by-faktur",a).then(e=>{0===e.data.length?(Object(S.e)("info",e.data.message),this.setState({FormModal:!1})):(this.setState({FormModal:!0}),e.data.forEach((e,a)=>{let t={no_faktur_group:e._id.no_faktur_group,tgl_system:e._id.tgl_system,kode_sales:e._id.kode_sales,nama_customer:e._id.nama_customer,no_hp:e._id.no_hp,alamat_customer:e._id.alamat_customer,kode_gudang:e._id.kode_gudang,detail_barang:e.detail_barang};this.props.dispatch(mn(t))}))}).catch(e=>{console.log(e),Object(S.e)("info","Terjadi Kesalahan Saat Request Data"),this.setState({FormModal:!1})})}handleSubmit(e){let a={tgl_awal:Object(k.e)(He(new Date(e.tgl_awal)).format("YYYY-MM-DD")),tgl_akhir:Object(k.e)(He(new Date(e.tgl_akhir)).format("YYYY-MM-DD"))};Object(k.m)("tgl_laporan",JSON.stringify(a)),this.setState({isLoading:!0}),Object(A.e)("pembelian/get/by-tanggal",a).then(e=>{0===e.data.length?(Object(S.e)("info","Data Pembelian Tidak Ada"),this.setState({isLoading:!1,datapembelian:[]})):(Object(S.e)("success","Data Pembelian Tersedia"),this.setState({isLoading:!1,datapembelian:e.data}))}).catch(e=>{Object(S.e)("info","Data Pembelian Tidak Ada"),this.setState({isLoading:!1,datapembelian:[]})})}batalPembelian(e){this.setState({isLoadingBatalBeli:!0}),setTimeout(()=>{let a={no_faktur_group:e.no_faktur_group};Object(A.e)("batalpembelian/simpan",a).then(e=>{Object(S.e)("success",e.data.message),this.setState({FormModal:!1,isLoadingBatalBeli:!1});let a=0===Object(k.l)("tgl_laporan").length?[]:JSON.parse(Object(k.l)("tgl_laporan"));Object(A.e)("pembelian/get/by-tanggal",a).then(e=>{this.setState({datapembelian:e.data})})}).catch(e=>{Object(S.e)("info","Data Pembelian Tidak Ada"),this.setState({FormModal:!1,isLoading:!1,isLoadingBatalBeli:!1})})},500)}back(){this.setState({FormModal:!1})}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Pembelian")),l.a.createElement("li",{className:"breadcrumb-item active"},"Lihat Pembelian")),l.a.createElement("h1",{className:"page-header"},"Lihat Pembelian "),l.a.createElement(Q.a,null,l.a.createElement("textarea",{style:{display:"none"},id:"myInput",rows:"100",cols:"100"}),l.a.createElement(Q.c,null," ",!0===this.state.FormModal?"Batal Pembelian":"Lihat Pembelian"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},!0===this.state.FormModal?l.a.createElement(gn,{back:()=>this.back(),isLoadingBatalBeli:this.state.isLoadingBatalBeli,onSubmit:e=>this.batalPembelian(e)}):l.a.createElement(l.a.Fragment,null,l.a.createElement(hn,{onSubmit:e=>this.handleSubmit(e),isLoading:this.state.isLoading}),l.a.createElement($.a,{keyField:"no_faktur_group",exportCsv:!1,data:this.state.datapembelian,columns:this.state.columns,empty:!0,textEmpty:"Data Barang Kosong"}))),l.a.createElement("br",null)),this.state.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}),bn=t(1);class En extends bn.m.Component{constructor(e){super(e),this.state={date:new Date},this.setStartDate=this.setStartDate.bind(this),this.setLastDate=this.setLastDate.bind(this)}handleSubmit(e){}setStartDate(e){this.setState({tgl_awal:new Date(e)})}setLastDate(e){this.setState({tgl_akhir:new Date(e)})}render(){return bn.m.createElement("div",null,bn.m.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},bn.m.createElement("div",{className:"row"},bn.m.createElement("div",{className:"col-lg-4"},bn.m.createElement(bn.c,{name:"tgl_awal",component:bn.f,label:"Tanggal Dari",type:"text",selected:this.state.tgl_awal,onChange:e=>this.setStartDate(e),placeholder:"Masukan Tanggal Dari"})),bn.m.createElement("div",{className:"col-lg-4"},bn.m.createElement(bn.c,{name:"tgl_akhir",component:bn.f,type:"text",selected:this.state.tgl_akhir,onChange:e=>this.setLastDate(e),label:"Tanggal Akhir",placeholder:"Masukan Tanggal Akhir"})),bn.m.createElement("div",{className:"col-lg-4"},bn.m.createElement("div",{className:"text-right"},bn.m.createElement("label",null,"\xa0"),bn.m.createElement("button",{type:"submit",value:"PDF",name:"type_btn",className:"btn btn-primary btn-block"},this.props.isLoading?bn.m.createElement(bn.m.Fragment,null,bn.m.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Mencari"):"Cari Titipan"))))),this.props.isLoading?bn.m.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}En=Object(bn.I)({form:"HeadBatalTitipan",enableReinitialize:!0})(En);var _n=Object(bn.t)(e=>({initialValues:{tgl_awal:Object(bn.A)(),tgl_akhir:Object(bn.A)()}}))(En);class An extends bn.m.Component{constructor(e){super(e),this.state={isLoading:!1,datatitipan:[],databaki:[],columns:[{dataField:"no_titip_group",text:"No Titip",footerAttrs:{colSpan:"4"},footer:"Total"},{dataField:"kode_barcode",text:"Kode Barcode"},{dataField:"nama_barang",text:"Nama Barang"},{dataField:"nama_customer",text:"Nama Customer"},{dataField:"total_dp",text:"Total Dp",formatter:e=>bn.m.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")},{dataField:"harga_total",text:"Total Harga",formatter:e=>bn.m.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(e,a,t)=>bn.m.createElement("div",{className:"row text-center"},bn.m.createElement("div",{className:"col-12"},bn.m.createElement("button",{type:"button",disabled:a.tgl_system!==Object(bn.B)(),"data-tooltip":a.tgl_system===Object(bn.B)()?"Batal Titipan":"Tidak Bisa Dibatal",onClick:()=>this.showPilihBaki(a.no_titip_group),className:"btn btn-danger mr-3"},bn.m.createElement("i",{className:"fa fa-window-close"})))),footer:""}]},this.handleSubmit=this.handleSubmit.bind(this)}batalTitipan(){bn.q.fire({title:"Anda Yakin !!",text:"Ingin Membatalkan Titipan Ini ?",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(e=>{if(e.isConfirmed){let e=Object(bn.z)("tgl_laporan");Object(A.h)("titip/cancel",{no_titip_group:this.state.no_titip_group,kode_toko:this.state.kode_baki}).then(a=>{Object(bn.s)("success","Titipan Berhasil Di Batal"),this.props.dispatch(Object(bn.C)()),Object(A.d)("titip/date/"+e.tgl_awal+"/"+e.tgl_akhir).then(e=>{this.setState({datatitipan:e.data})})}).catch(e=>{Object(bn.s)("info",/conflict/i.test(e.response.data.message||"Error")?"Terjadi Kesalahan Saat Mengirim Data":e.response.data.message)})}})}showPilihBaki(e){this.setState({no_titip_group:e}),this.props.dispatch(Object(bn.L)())}handleSubmit(e){this.setState({isLoading:!0}),Object(A.d)("baki/get/tambah-barang").then(e=>{this.setState({databaki:e.data})}),Object(A.d)("titip/date/"+e.tgl_awal+"/"+e.tgl_akhir).then(a=>{if(0===a.data.length)Object(bn.s)("info","Data Yang Anda Cari Tidak Ada"),this.setState({isLoading:!1});else{Object(bn.s)("success","Data Titipan Tersedia");let t={tgl_awal:Object(bn.x)(Object(bn.G)(new Date(e.tgl_awal)).format("YYYY-MM-DD")),tgl_akhir:Object(bn.x)(Object(bn.G)(new Date(e.tgl_akhir)).format("YYYY-MM-DD"))};this.setState({isLoading:!1,datatitipan:a.data}),Object(bn.K)("tgl_laporan",t)}}).catch(e=>{Object(bn.s)("info",e.response.data.message),this.setState({isLoading:!1})})}render(){const e={renderer:e=>bn.m.createElement("div",{className:"container"},bn.m.createElement("div",{className:"row"},bn.m.createElement("div",{className:"col-12"},"NONMEMBER"===e.kode_customer?"":"kode Customer :"+e.kode_customer+bn.m.createElement(bn.m.Fragment,null," ",bn.m.createElement("br",null)," "),"No Hp : ",e.no_hp," ",bn.m.createElement("br",null),"Alamat Customer : ",e.alamat_customer," ",bn.m.createElement("br",null),"Nama Atribut : ",e.nama_atribut," ",bn.m.createElement("br",null),"Betat Atribut : ",e.berat_atribut.toFixed(3)," ",bn.m.createElement("br",null),"Harga Atribut : ",e.harga_atribut.toLocaleString("kr-KO")," ",bn.m.createElement("br",null),"Ongkos : ",e.ongkos.toLocaleString("kr-KO")," ",bn.m.createElement("br",null)))),showExpandColumn:!0,expandByColumnOnly:!0};return bn.m.createElement("div",null,bn.m.createElement("ol",{className:"breadcrumb float-xl-right"},bn.m.createElement("li",{className:"breadcrumb-item"},bn.m.createElement(bn.g,{to:"#"},"Penjualan")),bn.m.createElement("li",{className:"breadcrumb-item active"},"Lihat Titipan")),bn.m.createElement("h1",{className:"page-header"},"Lihat Titipan "),bn.m.createElement(bn.k,null,bn.m.createElement(bn.l,null,"Lihat Titipan"),bn.m.createElement("br",null),bn.m.createElement("div",{className:"container"},bn.m.createElement(_n,{isLoading:this.state.isLoading,onSubmit:e=>this.handleSubmit(e)}),bn.m.createElement(bn.r,{keyField:"kode_barcode",exportCsv:!1,data:this.state.datatitipan,columns:this.state.columns,empty:!0,textEmpty:"Data Barang Kosong",expandRow:e})),bn.m.createElement("br",null)),bn.m.createElement(bn.i,{title:"Pilih Baki",size:"l",content:bn.m.createElement(bn.m.Fragment,null,bn.m.createElement("div",{className:"col-lg-12"},bn.m.createElement(bn.c,{name:"kode_baki",component:bn.p,options:this.state.databaki.filter(e=>void 0!==e.kode_baki).map(e=>{return{value:e.kode_baki+"~"+e.kode_gudang,name:e.kode_baki}}),onChange:e=>this.setState({kode_baki:e}),label:"Kode Baki",placeholder:"Silahkan Pilih Kode Lokasi"})),bn.m.createElement("div",{className:"col-lg-12"},bn.m.createElement("button",{className:"btn btn-primary",onClick:()=>this.batalTitipan(),type:"button"},"Batal Titipan")))}),this.state.isLoading?bn.m.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}An=Object(bn.I)({form:"BatalTitipan",enableReinitialize:!0})(An);var kn=Object(bn.t)()(An);class Sn extends n.Component{constructor(e){super(e),this.state={isLoading:!1,isLoadingBatal:!1,FormModal:""},this.setStartDate=this.setStartDate.bind(this),this.setLastDate=this.setLastDate.bind(this)}componentDidMount(){}setStartDate(e){this.setState({tgl_awal:new Date(e)})}setLastDate(e){this.setState({tgl_akhir:new Date(e)})}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(ee.a,{name:"tgl_awal",component:te.c,label:"Tanggal Dari",type:"text",selected:this.state.tgl_awal,onChange:e=>this.setStartDate(e),placeholder:"Masukan Tanggal Dari"})),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(ee.a,{name:"tgl_akhir",component:te.c,type:"text",selected:this.state.tgl_akhir,onChange:e=>this.setLastDate(e),label:"Tanggal Akhir",placeholder:"Masukan Tanggal Akhir"})),l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null," \xa0"),l.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.props.isLoading,type:"submit"},this.props.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Mencari"):"Cari Penjualan"))),this.props.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}Sn=Object(ae.a)({form:"HeadLihatPenjualan",enableReinitialize:!0,validate:fa.a})(Sn);var fn=Object(q.b)(e=>({initialValues:{tgl_awal:Object(k.h)(),tgl_akhir:Object(k.h)()}}))(Sn);var yn=Object(q.b)(null)(class extends l.a.Component{constructor(e){super(e),this.state={isLoadingServicesSelesai:!1,isLoadingBatalBeli:!1,isLoading:!1,dataservices:[],FormModal:!1,pembayaran:!1,datapembelian:[],columns:[{dataField:"no_faktur_jual",text:"No FJ",footerAttrs:{colSpan:"4"},footer:"Total"},{dataField:"kode_sales",text:"Kode Sales"},{dataField:"kode_barcode",text:"Kode Barcode"},{dataField:"nama_barang",text:"Nama Barang"},{dataField:"harga_jual",text:"Harga",formatter:e=>l.a.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")},{dataField:"ongkos",text:"Ongkos",formatter:e=>l.a.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")},{dataField:"berat",text:"Berat",formatter:e=>l.a.createElement("span",null,e.toFixed(3)),footer:e=>parseFloat(e.reduce((e,a)=>e+a,0)).toFixed(3)},{dataField:"harga_total",text:"Harga Total",formatter:e=>l.a.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")},{dataField:"ambil",text:"Reprint",csvExport:!1,headerClasses:"text-center",formatter:(e,a,t)=>l.a.createElement("div",{className:"row text-center"},l.a.createElement("div",{className:"col-12"},l.a.createElement("button",{type:"button","data-tooltip":"Reprint Penjualan",onClick:()=>this.printUlangFaktur(a),className:"btn btn-success mr-3"},l.a.createElement("i",{className:"fa fa-file-export"})))),footer:""}]},this.handleSubmit=this.handleSubmit.bind(this)}printUlangFaktur(e){let a={no_faktur_group:e.no_faktur_group};Object(A.e)("penjualan/get/bynota",a).then(e=>{ua(e.data)}).catch(e=>{Object(S.e)("info","Terjadi Kesalahan Saat Request Data")})}handleSubmit(e){let a={tgl_awal:Object(k.e)(He(new Date(e.tgl_awal)).format("YYYY-MM-DD")),tgl_akhir:Object(k.e)(He(new Date(e.tgl_akhir)).format("YYYY-MM-DD"))};Object(k.m)("tgl_laporan",JSON.stringify(a)),this.setState({isLoading:!0}),Object(A.e)("penjualan/get/lihatjual",a).then(e=>{0===e.data.length?(Object(S.e)("info","Data Penjualan Tidak Ada"),this.setState({isLoading:!1,datapembelian:[]})):(Object(S.e)("success","Data Penjualan Tersedia"),this.setState({isLoading:!1,datapembelian:e.data}))}).catch(e=>{Object(S.e)("info","Data Penjualan Tidak Ada"),this.setState({datapembelian:[],isLoading:!1})})}render(){const e={renderer:e=>l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},"Kode Member: ",e.kode_member," ",l.a.createElement("br",null),"Nama Member: ",e.nama_customer," ",l.a.createElement("br",null),"Nama Atribut : ",e.nama_atribut," ",l.a.createElement("br",null),"Betat Atribut : ",e.berat_atribut.toFixed(2)," ",l.a.createElement("br",null),"Harga Atribut : ",e.harga_atribut.toLocaleString("kr-KO")," ",l.a.createElement("br",null)))),showExpandColumn:!0,expandByColumnOnly:!0};return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Penjualan")),l.a.createElement("li",{className:"breadcrumb-item active"},"Lihat Penjualan")),l.a.createElement("h1",{className:"page-header"},"Lihat Penjualan "),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"Lihat Penjualan"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement(fn,{onSubmit:e=>this.handleSubmit(e),isLoading:this.state.isLoading}),l.a.createElement($.a,{keyField:"kode_barcode",exportCsv:!1,data:this.state.datapembelian,columns:this.state.columns,empty:!0,textEmpty:"Data Barang Kosong",expandRow:e})),l.a.createElement("br",null)))}});var On=Object(q.b)(e=>({hideModal:e.datamaster.modalDialog}),null)(class extends l.a.Component{constructor(e){super(e),this.state={isEdit:!1,modalDialog:!1,isLoading:!1,formEdit:!1,loadingData:!1,FormValidasiPenjualan:[],columns:[{dataField:"kode_barang",text:"Kode Barang ",sort:!0},{dataField:"kode_barcode",text:"Kode Barcode"},{dataField:"kode_group",text:"Kode Group"},{dataField:"kode_dept",text:"Kode Jenis"},{dataField:"nama_barang",text:"Nama Barang"},{dataField:"berat",text:"Berat"},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(e,a)=>l.a.createElement("div",{className:"row text-center"},l.a.createElement("div",{className:"col-12"},l.a.createElement("button",{type:"button",className:"btn btn-primary mr-3"},l.a.createElement("i",{className:"fa fa-edit"}))))}]}}getKodeBarcode(e){Object(k.m)("databarang_validasi",JSON.stringify([])),this.setState({loadingData:!0}),Object(A.c)("barang/get/by-kode-barcode/"+e).then(e=>{0===e.data.length?this.setState({FormValidasiPenjualan:[]}):this.setState({FormValidasiPenjualan:e.data}),this.setState({loadingData:!1})}).catch(e=>{this.setState({loadingData:!1}),Object(S.e)("info","Kode Barcode Yang Anda Dicari Tidak Ada")})}getNamaBarang(e){Object(k.m)("databarang_validasi",JSON.stringify([])),this.setState({loadingData:!0}),Object(A.c)("barang/get/by-nama-barang/"+e).then(e=>{0===e.data.length?this.setState({FormValidasiPenjualan:[]}):this.setState({FormValidasiPenjualan:e.data}),this.setState({loadingData:!1})}).catch(e=>{this.setState({loadingData:!1}),Object(k.m)("databarang_validasi",JSON.stringify([])),Object(S.e)("info","Nama Barang Yang Dicari Tidak Ada")})}render(){const e={renderer:e=>l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},"Nama Atribut : ",e.nama_atribut," ",l.a.createElement("br",null),"Betat Atribut : ",e.berat_atribut," ",l.a.createElement("br",null),"Harga Atribut : ",e.harga_atribut," ",l.a.createElement("br",null),"Kode Intern : ",e.kode_intern," ",l.a.createElement("br",null),"Kadar : ",e.kadar," ",l.a.createElement("br",null),"Kadar Cetak : ",e.kadar_cetak," ",l.a.createElement("br",null),"Kode Toko : ",e.kode_toko," ",l.a.createElement("br",null),"Kode Gudang : ",e.kode_gudang," ",l.a.createElement("br",null),"Stock : ",e.stock_on_hand," ",l.a.createElement("br",null)))),showExpandColumn:!0,expandByColumnOnly:!0};return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Penjualan")),l.a.createElement("li",{className:"breadcrumb-item active"},"Validasi Penjualan")),l.a.createElement("h1",{className:"page-header"},"Validasi Penjualan "),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,this.state.loadingData?l.a.createElement(l.a.Fragment,null," ",l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Mencari Validasi Penjualan"," "):"Validasi Penjualan"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement($.a,{keyField:"kode_barang",exportCsv:!0,data:this.state.FormValidasiPenjualan,columns:this.state.columns,empty:!0,textEmpty:this.state.loadingData?l.a.createElement(l.a.Fragment,null," ",l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Mencari Data"):"Validasi Penjualan Kosong",expandRow:e})),l.a.createElement("br",null)))}});const Cn=[{value:"MEMBER",name:"MEMBER"},{value:"NONMEMBER",name:"NON MEMBER"}];class Nn extends bn.b{constructor(e){super(e),this.state={showMember:!0}}componentDidMount(){this.props.dispatch(Object(X.ob)());let e=0===Object(bn.E)("data_customer_tmp").length?[]:JSON.parse(Object(bn.E)("data_customer_tmp")||[]);e&&"MEMBER"===e.jenis_pelanggan?this.setState({showMember:!1}):this.setState({showMember:!0}),this.props.change("jenis_pelanggan","NONMEMBER"),this.props.change("kode_customer","NONMEMBER")}changemember(e){"MEMBER"===e?(this.setState({showMember:!1}),document.getElementById("kode_member").focus(),this.props.change("kode_customer","")):(this.props.change("kode_customer","NONMEMBER"),document.getElementById("nama_customer").focus(),this.props.change("nama_customer",""),this.props.change("no_hp",""),this.props.change("alamat_customer",""),this.setState({showMember:!0}))}getMember(e){Object(bn.y)("member/get/by-kode-member/"+e).then(e=>{0===e.data.length?Object(bn.s)("info","Member Yang Anda Masukan Tidak Ada !!!"):e.data.forEach((e,a)=>{this.props.change("nama_customer",e.nama_customer),this.props.change("no_hp",e.no_hp),this.props.change("alamat_customer",e.alamat_customer)})}).catch(e=>{Object(bn.s)("info","Terjadi Kesalahan SIlahkan Ulangi Kembali !!!")})}render(){return bn.m.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},bn.m.createElement("div",{className:"row"},bn.m.createElement("div",{className:"col-4"},bn.m.createElement(bn.c,{name:"kode_sales",label:"Pilih Kode Sales",placeholder:"Masukan Kode Sales",options:this.props.DataSales.filter(e=>void 0!==e.kode_sales).map(e=>{return{value:e.kode_sales,name:e.kode_sales}}),component:bn.p})),bn.m.createElement("div",{className:"col-4"},bn.m.createElement(bn.c,{id:"jenis_pelanggan",name:"jenis_pelanggan",label:"Pilih Pelanggan",onChange:e=>this.changemember(e),placeholder:"Silahkan Pilih Pelanggan",options:Cn,component:bn.p})),bn.m.createElement("div",{className:"col-4"},bn.m.createElement(bn.c,{id:"kode_member",name:"kode_customer",onChange:e=>this.getMember(e.target.value),component:bn.o,type:"text",readOnly:this.state.showMember,label:"Kode Customer",placeholder:"Masukan Kode Customer"})),bn.m.createElement("div",{className:"col-4"},bn.m.createElement(bn.c,{id:"nama_customer",name:"nama_customer",component:bn.o,type:"text",label:"Nama Customer",placeholder:"Masukan Nama Customer"})),bn.m.createElement("div",{className:"col-4"},bn.m.createElement(bn.c,{name:"no_hp",component:bn.o,type:"text",normalize:bn.j,label:"No Hp",placeholder:"Masukan No Hp"})),bn.m.createElement("div",{className:"col-4"},bn.m.createElement(bn.c,{name:"alamat_customer",component:bn.o,type:"textarea",label:"Alamat Customer",placeholder:"Masukan Alamat Customer"}))),bn.m.createElement("div",{className:"row"},bn.m.createElement("div",{className:"col-8"}),bn.m.createElement("div",{className:"col-4"},bn.m.createElement("button",{className:"btn btn-primary btn-block",disabled:this.props.isLoadingDataCustomer,type:"submit"},this.props.isLoadingDataCustomer?bn.m.createElement(bn.m.Fragment,null,bn.m.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))))}}Nn=Object(bn.I)({form:"ModalDataCustomer",enableReinitialize:!0,validate:ze.a})(Nn);var xn=Object(bn.t)(e=>{let a=0===Object(bn.E)("data_customer_tmp").length?[]:JSON.parse(Object(bn.E)("data_customer_tmp")||[]);return{initialValues:{kode_sales:a.kode_sales||"",jenis_pelanggan:a.jenis_pelanggan||"",kode_customer:a.kode_customer||"",nama_customer:a.nama_customer||"",no_hp:a.no_hp||"",alamat_customer:a.alamat_customer||""},DataSales:e.datamaster.getDataSales}})(Nn);const jn=Object(bn.v)({prefix:"Rp. ",locale:"kr-KO"}),vn=[{value:"CASH",name:"CASH"},{value:"DEBET",name:"DEBET"},{value:"TRANSFER",name:"TRANSFER"},{value:"CREDIT",name:"CREDIT"}];class Ln extends bn.b{constructor(e){super(e),this.state={isLoading:!1,type_pembayaran:"CASH",lebih:!1,columns:[{dataField:"type",text:"Type",footerAttrs:{colSpan:"1"},footer:"Grand Total"},{dataField:"Total",text:"Total",footer:""}]},this.setStartDate=this.setStartDate.bind(this)}componentDidMount(){this.props.dispatch(Object(X.ob)());let e=JSON.parse(Object(bn.E)("data_barang_pesanan")),a=0;e.forEach((e,t)=>{a+=e.sub_total,this.props.change("grand_total_pembayaran",a),this.props.change("harus_bayar_rp",a)}),this.props.change("jenis","CASH"),setTimeout(()=>{document.getElementById("cash_trx_penjualan").focus()},100)}hitungTotal(){this.props.change("kembali",this.props.kembali),this.props.change("nominal_kembali",this.props.nominal_kembali)}pilihPembyaran(e){"CASH"===e?this.setState({type_pembayaran:"CASH"}):"TRANSFER"===e?this.setState({type_pembayaran:"TRANSFER"}):"DEBET"===e?this.setState({type_pembayaran:"DEBET"}):this.setState({type_pembayaran:"CREDIT"}),this.props.change("cash","")}setStartDate(e){this.setState({tgl_awal:new Date(e)})}copyValue(e){this.props.change("cash",parseInt(Object(bn.j)(e)))}render(){return bn.m.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},bn.m.createElement("div",{className:"row"},bn.m.createElement("div",{className:"col-6"},bn.m.createElement(bn.c,Object.assign({name:"grand_total_pembayaran",component:bn.o,type:"text",onChange:this.hitungTotal(),readOnly:!0},jn,{label:"Total Harga Jual",placeholder:"Total Harga Jual"}))),bn.m.createElement("div",{className:"col-6"},bn.m.createElement(bn.c,Object.assign({id:"harus_bayar_rp",name:"harus_bayar_rp",component:bn.o,type:"text",onChange:this.hitungTotal(),readOnly:!0},jn,{label:"Harus Bayar Rp",placeholder:"Harus Bayar Rp"}))),bn.m.createElement("div",{className:"col-6"},bn.m.createElement(bn.c,{name:"jenis",label:"Pilih Jenis Bayar",placeholder:"Pilih Jenis Pembayaran",options:vn,onChange:e=>this.pilihPembyaran(e),component:bn.p})),bn.m.createElement("div",{className:"col-6",style:{display:"CASH"===this.state.type_pembayaran?"none":(this.state.type_pembayaran,"block")}},bn.m.createElement(bn.c,{tabIndex:"1",name:"nama_bank",id:"nama_bank",component:bn.o,type:"text",label:"Bank",placeholder:"Masukan Nama Bank"})),bn.m.createElement("div",{className:"col-6",style:{display:"CASH"===this.state.type_pembayaran?"none":"DEBET"===this.state.type_pembayaran?"none":"block"}},bn.m.createElement(bn.c,{tabIndex:"1",name:"no_card",id:"no_card",component:bn.o,type:"text",label:"TRANSFER"===this.state.type_pembayaran?"No Rek":"Card No",placeholder:"TRANSFER"===this.state.type_pembayaran?"Masukan No Rek":"Masukan Card No"})),bn.m.createElement("div",{className:"col-6"},bn.m.createElement(bn.c,Object.assign({tabIndex:"1",name:"cash",id:"cash_trx_penjualan",component:bn.o,type:"text",label:"Nominal",onChange:this.hitungTotal()},jn,{normalize:bn.j,placeholder:"Masukan Nominal"}))),bn.m.createElement("div",{className:"col-6",style:{display:"CREDIT"===this.state.type_pembayaran?"block":"none"}},bn.m.createElement(bn.c,{tabIndex:"1",name:"fee",id:"fee",component:bn.o,type:"text",label:"Fee (%)",normalize:bn.j,placeholder:"5"})),bn.m.createElement("div",{className:"col-6 d-none"},bn.m.createElement(bn.c,{tabIndex:"1",name:"nominal_kembali",component:bn.o,type:"text",label:"Nominal",placeholder:"Masukan Nominal"})),bn.m.createElement("div",{className:"col-6"},bn.m.createElement(bn.c,{name:"kembali",id:"sisa_bayar",component:bn.o,type:"text",readOnly:!0,label:"Sisa",onFocus:e=>this.copyValue(e.target.value),placeholder:"Sisa Pembayaran"})),bn.m.createElement("div",{className:"CASH"===this.state.type_pembayaran?"col-6 text-right":"TRANSFER"===this.state.type_pembayaran?"col-6 text-right":"col-12 text-right"},bn.m.createElement("br",null),bn.m.createElement("label",null,"\xa0"),bn.m.createElement("button",{tabIndex:"2",disabled:this.props.notif,className:"btn btn-primary"}," ",bn.m.createElement("i",{className:"fa fa-plus"}))),bn.m.createElement("div",{className:"col-12"},bn.m.createElement(bn.c,{name:"estimasi_pesanan",component:bn.f,type:"text",label:"Estimasi Pesanan Selesai",defaultValue:Object(bn.A)(),selected:this.state.tgl_awal,onChange:e=>this.setStartDate(e),placeholder:"Estimasi Pesanan"}))))}}Ln=Object(bn.I)({form:"HeadInputPembayaran",enableReinitialize:!0,validate:Ce.a})(Ln);const Tn=Object(bn.w)("HeadInputPembayaran");var In=Object(bn.t)(e=>{const a=Tn(e,"grand_total_pembayaran","harus_bayar_rp","cash"),t=a.cash,n=a.harus_bayar_rp;let l=JSON.parse(localStorage.getItem("trx_pemabayaran_pesanan"))||[],r=0;l.forEach(e=>{r=e.nominal+r});let o=parseFloat(r||0)-parseFloat(n||0);return{kembali:o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),nominal_kembali:o+parseInt(t),initialValues:{estimasi_pesanan:Object(bn.A)()}}})(Ln);class Bn extends bn.b{constructor(e){super(e),this.state={isLoading:!1,type_pembayaran:"CASH",columns:[{dataField:"jenis",text:"Jenis",footerAttrs:{colSpan:"2"},footer:"Grand Total"},{dataField:"keterangan",text:"Keterangan"},{dataField:"nominal",text:"Total",formatter:e=>bn.m.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(e,a,t)=>bn.m.createElement("div",{className:"row text-center"},bn.m.createElement("div",{className:"col-12"},bn.m.createElement("button",{type:"button",disabled:"TITIPAN"===a.keterangan,onClick:()=>this.hapusdata(t),className:"btn btn-danger mr-3"},bn.m.createElement("i",{className:"fa fa-trash"})))),footer:""}]}}hapusdata(e){bn.q.fire({title:"Anda Yakin !!",text:"Ingin Menghapus Data Ini ?",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(a=>{if(a.isConfirmed){let a=Object(bn.z)("trx_pemabayaran_pesanan");a.splice(e,1),Object(bn.K)("trx_pemabayaran_pesanan",a),this.setState({status:"berhasil"})}})}simpanPembayaran(e){if(void 0===e.no_card&&"CASH"!==e.jenis&&"DEBET"!==e.jenis)return Object(bn.s)("info","Nomor kartu tidak boleh kosong"),!1;let a={total_transaksi:e.harus_bayar_rp,sisa_bayar:e.nominal_kembali};Object(bn.K)("sisa_bayar_pesanan",a);let t=JSON.parse(localStorage.getItem("trx_pemabayaran_pesanan"))||[];if("CASH"===e.jenis||t.length){if("CASH"!==e.jenis){if(e.kembali.replace(/[^0-9]/g,"")-e.cash<0&&0!==parseInt(e.kembali))return Object(bn.s)("info","Pembayaran tidak boleh lebih dari sisa"),!1;if(t.reduce((e,a)=>e+a.nominal,0)>=e.harus_bayar_rp)return Object(bn.s)("info","Pembayaran Sudah Cukup"),!1}}else if(e.kembali.replace(/[^0-9]/g,"")-e.cash<0)return Object(bn.s)("info","Pembayaran tidak boleh lebih dari sisa"),!1;if(t.findIndex(e=>"CASH"===e.jenis)>=0){if(e.kembali.replace(/[^0-9]/g,"")-e.cash<0&&t.reduce((e,a)=>e+a.nominal,0)>e.harus_bayar_rp)return Object(bn.s)("info","Pembayaran Sudah Cukup"),!1;if(t.reduce((e,a)=>e+a.nominal,0)>=e.harus_bayar_rp)return Object(bn.s)("info","Pembayaran Sudah Cukup"),!1}if(Object(bn.K)("estimasi_pesanan",Object(bn.x)(Object(bn.G)(new Date(e.estimasi_pesanan)).format("YYYY-MM-DD"))),-1===t.findIndex(a=>a.jenis===e.jenis)){let a="";a="CASH"===e.jenis?"CASH":"TRANSFER"===e.jenis?e.no_card+" - "+e.nama_bank:e.nama_bank;let n={jenis:e.jenis,nominal:parseInt(e.cash||0),nama_bank:void 0!==e.nama_bank?e.nama_bank.toUpperCase():"-",fee:"CREDIT"===e.jenis?parseInt(e.fee):0,no_card:e.no_card||"-",keterangan:a.toUpperCase()};t.push(n),this.setState({masuk:!0}),Object(bn.K)("trx_pemabayaran_pesanan",t)}else{let a=Object(bn.z)("trx_pemabayaran_pesanan");a=a.map(a=>(a.jenis===e.jenis&&(a.nominal+=parseInt(e.cash)),a)),Object(bn.K)("trx_pemabayaran_pesanan",a),this.setState({status:!0})}}render(){return bn.m.createElement(bn.m.Fragment,null,bn.m.createElement(In,{onSubmit:e=>this.simpanPembayaran(e)}),bn.m.createElement("hr",null),bn.m.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},bn.m.createElement(bn.r,{keyField:"jenis",exportCsv:!1,data:Object(bn.z)("trx_pemabayaran_pesanan")||[],columns:this.state.columns,empty:!0,pagination:"off",textEmpty:"Data Pembayaran Kosong"}),bn.m.createElement("div",{className:"row"},bn.m.createElement("div",{className:"col-6"}),bn.m.createElement("div",{className:"col-6 text-right"},bn.m.createElement("button",{className:"btn btn-primary",disabled:this.props.isLoadingPembayranTitipan,onClick:()=>this.props.bayarSekarang(),type:"button"},this.props.isLoadingPembayranTitipan?bn.m.createElement(bn.m.Fragment,null,bn.m.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Diproses"):"Bayar Sekarang"))),this.props.isLoadingPembayranTitipan?bn.m.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null))}}Bn=Object(bn.I)({form:"ModalPembayaran",enableReinitialize:!0,validate:Ce.a})(Bn);var Dn=Object(bn.t)(e=>{let a=Object(bn.z)("data_barang_penjualan_tmp")||[],t="PENJUALAN";return a.forEach(e=>{t="-"===e.no_titip_group?"PENJUALAN":"TITIPAN"}),{status:t}})(Bn);const Mn=Object(bn.v)({prefix:"Rp. ",locale:"kr-KO"});class wn extends bn.m.Component{constructor(e){super(e),this.state={isLoading:!1,bawa_sendiri:!1,dari_toko:!0,isChecked:!0}}componentDidMount(){this.props.dispatch(Object(X.t)())}hitungTotal(){this.props.change("sub_total",this.props.sub_total)}chnageValue(e){"dari_toko"===e.target.value?(document.getElementById("kode_dari_toko").focus(),this.props.change("deskripsi_bawa_sediri",""),this.props.change("berat_bawa_sendiri",""),this.setState({dari_toko:!1,bawa_sendiri:!0,isChecked:!1})):(document.getElementById("deskripsi_bawa_sediri").focus(),this.props.change("kode_dari_toko",""),this.props.change("deskripsi_dari_toko",""),this.props.change("berat_dari_toko",""),this.setState({dari_toko:!0,bawa_sendiri:!1,isChecked:!0}))}getBarcode(e){Object(bn.y)("barang/get/by-kode-barcode/"+e).then(e=>{e.data.forEach(e=>{this.props.change("deskripsi_dari_toko",e.nama_barang),this.props.change("berat_dari_toko",e.berat)})}).catch(e=>{404!==e.response.status&&Object(bn.s)("info",e.response.data)})}hideModal(){this.props.dispatch(Object(X.wb)())}setIndex(){document.getElementById("jenis_barang").focus()}render(){return bn.m.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},bn.m.createElement("div",{className:"row"},bn.m.createElement("div",{className:"col-2"},bn.m.createElement(bn.c,{name:"kode_group",label:"Kategori",onChange:()=>this.setIndex(),placeholder:"Pilih Kategori",options:this.props.DataGroup.filter(e=>void 0!==e.kode_group).map(e=>{return{value:e.kode_group,name:e.kode_group}}),component:bn.p})),bn.m.createElement("div",{className:"col-4"},bn.m.createElement(bn.c,{id:"jenis_barang",name:"jenis_barang",component:bn.o,type:"text",label:"Nama Barang",placeholder:"Masukan Nama Barang"})),bn.m.createElement("div",{className:"col-2"},bn.m.createElement(bn.c,{id:"betat",name:"berat",component:bn.o,type:"text",onChange:this.hitungTotal(),normalize:bn.d,label:"Berat",placeholder:"Masukan Berat"})),bn.m.createElement("div",{className:"col-2"},bn.m.createElement(bn.c,{id:"kadar",name:"kadar",component:bn.o,type:"text",onChange:this.hitungTotal(),normalize:bn.j,label:"Kadar",placeholder:"Masukan Kadar"})),bn.m.createElement("div",{className:"col-2"},bn.m.createElement(bn.c,Object.assign({name:"harga_pergram",component:bn.o,type:"text",onChange:this.hitungTotal()},Mn,{label:"Harga / Gram",placeholder:"Masukan Harga / Gram"}))),bn.m.createElement("div",{className:"col-6"},bn.m.createElement(bn.c,{id:"atribut",name:"atribut",component:bn.o,type:"text",label:"Atribut",placeholder:"Masukan Atribut"})),bn.m.createElement("div",{className:"col-2"},bn.m.createElement(bn.c,Object.assign({name:"harga_atribut",component:bn.o,type:"text"},Mn,{label:"Harga Atribut",onChange:this.hitungTotal(),placeholder:"Masukan Harga"}))),bn.m.createElement("div",{className:"col-2"},bn.m.createElement(bn.c,Object.assign({name:"ongkos",component:bn.o,type:"text"},Mn,{onChange:this.hitungTotal(),label:"Ongkos",placeholder:"Masukan Ongkos"}))),bn.m.createElement("div",{className:"col-2"},bn.m.createElement(bn.c,Object.assign({name:"sub_total",component:bn.o,type:"text"},Mn,{readOnly:!0,label:"Sub Total",placeholder:"Masukan Sub Total"}))),bn.m.createElement("div",{className:"col-12"},bn.m.createElement(bn.c,{name:"deskripsi_pesanan",component:bn.o,type:"text",label:"Deskripsi",placeholder:"Masukan Deskripsi"})),bn.m.createElement("div",{className:"col-2"},bn.m.createElement("div",{className:"form-group"},bn.m.createElement("label",null,"\xa0"),bn.m.createElement("br",null),bn.m.createElement("label",null,bn.m.createElement(bn.c,{name:"options_value",component:"input",onClick:e=>this.chnageValue(e),type:"radio",checked:this.state.isChecked,value:"bawa_sendiri"})," ","Bawa Sendiri"))),bn.m.createElement("div",{className:"col-7"},bn.m.createElement(bn.c,{id:"deskripsi_bawa_sediri",name:"deskripsi_bawa_sediri",component:bn.o,type:"text",readOnly:this.state.bawa_sendiri,label:"Deskripsi",placeholder:"Masukan Deskripsi"})),bn.m.createElement("div",{className:"col-3"},bn.m.createElement(bn.c,{readOnly:this.state.bawa_sendiri,name:"berat_bawa_sendiri",component:bn.o,type:"text",normalize:bn.d,label:"Berat",placeholder:"Masukan Berat"})),bn.m.createElement("div",{className:"col-2"},bn.m.createElement("div",{className:"form-group"},bn.m.createElement("label",null,"\xa0"),bn.m.createElement("br",null),bn.m.createElement("label",null,bn.m.createElement(bn.c,{name:"options_value",component:"input",type:"radio",onClick:e=>this.chnageValue(e),value:"dari_toko"})," ","Dari Toko"))),bn.m.createElement("div",{className:"col-3"},bn.m.createElement(bn.c,{id:"kode_dari_toko",name:"kode_dari_toko",onChange:e=>this.getBarcode(e.target.value),component:bn.o,type:"text",label:"Kode Barcode",readOnly:this.state.dari_toko,placeholder:"Masukan Kode Barcode"})),bn.m.createElement("div",{className:"col-4"},bn.m.createElement(bn.c,{name:"deskripsi_dari_toko",component:bn.o,type:"text",label:"Deskripsi",readOnly:!0,placeholder:"Masukan Deskripsi"})),bn.m.createElement("div",{className:"col-3"},bn.m.createElement(bn.c,{name:"berat_dari_toko",component:bn.o,type:"text",normalize:bn.d,label:"Berat",readOnly:!0,placeholder:"Masukan Berat"})),bn.m.createElement("div",{className:"col-6"},bn.m.createElement("button",{className:"btn btn-warning",type:"button",onClick:()=>this.hideModal()}," ","Close"," ")),bn.m.createElement("div",{className:"col-6 text-right"},bn.m.createElement("button",{className:"btn btn-primary"}," Add "))))}}wn=Object(bn.I)({form:"ModalTambahBarangPesanan",enableReinitialize:!0})(wn);var Kn=Object(bn.t)(e=>{const a=Object(bn.w)("ModalTambahBarangPesanan")(e,"kadar","berat","harga_pergram","ongkos","harga_atribut"),t=a.ongkos,n=a.kadar,l=a.harga_pergram,r=a.berat,o=a.harga_atribut;let s=Object(k.n)(parseInt(l||0)*parseInt(n||0)/parseInt(100)*parseFloat(r||0)),i=parseInt(s||0)+parseInt(t||0)+parseInt(o||0);return{DataGroup:e.datamaster.GetDataGroup,sub_total:parseFloat(i)}})(wn);class Pn extends bn.m.Component{constructor(e){super(e),this.state={isLoading:!1,loadingreset:!1,FormModal:"",isLoadingPembayranTitipan:!1,isLoadingPembayran:!1,columns:[{dataField:"kode_kategori",text:"Kategori",footerAttrs:{colSpan:"5"},footer:"Total"},{dataField:"kode_barcode",text:"Kode Barcode"},{dataField:"keterangan",text:"Nama Barang"},{dataField:"perkiraan_berat",text:"Perkiraan Berat"},{dataField:"perkiraan_kadar",text:"Perkiraan Kadar"},{dataField:"harga_gram",text:"Harga / Gram",formatter:e=>bn.m.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")},{dataField:"sub_total",text:"Sub Total",formatter:e=>bn.m.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(e,a,t)=>bn.m.createElement("div",{className:"row text-center"},bn.m.createElement("div",{className:"col-12"},bn.m.createElement("button",{type:"button",onClick:()=>this.hapusdata(t,a),className:"btn btn-danger mr-3"},bn.m.createElement("i",{className:"fa fa-trash"})))),footer:""}]},this.handleSubmit=this.handleSubmit.bind(this)}handleSubmit(e){let a={alamat_customer:e.alamat_customer||"-",jenis_pelanggan:e.jenis_pelanggan||"NONMEMBER",kode_customer:e.kode_member||"NONMEMBER",kode_sales:e.kode_sales,nama_customer:e.nama_customer||"REGULER",no_hp:e.no_hp||"-"};Object(bn.F)("data_customer_tmp",JSON.stringify(a)),this.setState({isLoadingDataCustomer:!0}),setTimeout(()=>{this.setState({isLoadingDataCustomer:!1}),this.props.dispatch(Object(bn.C)())},500)}ShowModalCustomer(){this.setState({FormModal:"ShowModalCustomer"}),this.props.dispatch(Object(bn.L)())}ShowModalBarang(){this.setState({FormModal:"ShowModalBarang"}),this.props.dispatch(Object(bn.L)())}simpanBarang(e){let a=[],t={kode_kategori:e.kode_group,perkiraan_berat:parseFloat(e.berat),perkiraan_kadar:parseInt(e.kadar),harga_gram:parseInt(e.harga_pergram),attribut:e.atribut||"-",harga_atribut:parseInt(e.harga_atribut||0),ongkos:parseInt(e.ongkos||0),sub_total:parseInt(e.sub_total),keterangan:e.jenis_barang||"-",deskripsi:e.deskripsi_pesanan||"-",barang_contoh_internal:"dari_toko"===e.options_value,kode_barcode:e.kode_dari_toko||"-",deskripsi_contoh:"dari_toko"===e.options_value?e.deskripsi_dari_toko||"-":e.deskripsi_bawa_sediri||"-",berat_barang_contoh:"dari_toko"===e.options_value?e.berat_dari_toko||0:e.berat_bawa_sendiri||0};a.push(t),Object(bn.K)("data_barang_pesanan",a),this.setState({status:!0}),this.props.dispatch(Object(bn.J)("ModalTambahBarangPesanan")),this.props.dispatch(Object(bn.C)())}hapusdata(e,a){bn.q.fire({title:"Anda Yakin !!",text:"Ingin Menghapus Data Ini ?",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(a=>{if(a.isConfirmed){let a=Object(bn.z)("data_barang_pesanan");a.splice(e,1),Object(bn.K)("data_barang_pesanan",a),this.setState({status:"berhasil"})}})}bayarSekarang(){this.setState({isLoadingPembayranTitipan:!0});let e=Object(bn.z)("estimasi_pesanan"),a=Object(bn.z)("trx_pemabayaran_pesanan"),t=[],n=0;a.forEach(e=>{console.log("JUMLAH RP - NOMINAL",e.nominal),console.log("JUMLAH RP - SISA BAYAR",Object(bn.z)("sisa_bayar_pesanan").sisa_bayar);let a={jenis:e.jenis,keterangan:e.keterangan,fee:"CREDIT"===e.jenis?e.fee:0,jumlah_rp:e.nominal>=parseInt(Object(bn.z)("sisa_bayar_pesanan").total_transaksi)?parseInt(e.nominal)-parseInt(Object(bn.z)("sisa_bayar_pesanan").sisa_bayar):parseInt(e.nominal)};n=e.nominal+n,t.push(a)});let l=JSON.parse(Object(bn.E)("data_customer_tmp")),r=Object(bn.z)("data_barang_pesanan"),o=[],s=0;r.forEach((e,a)=>{s=e.sub_total+s;let t={kode_kategori:e.kode_kategori,perkiraan_berat:parseFloat(e.perkiraan_berat),perkiraan_kadar:parseInt(e.perkiraan_kadar),harga_gram:parseInt(e.harga_gram),attribut:e.attribut||"-",kode_barcode:e.kode_barcode||"-",harga_atribut:parseInt(e.harga_atribut),ongkos:parseInt(e.ongkos||0),sub_total:parseInt(e.sub_total),keterangan:e.keterangan||"-",deskripsi:e.deskripsi||"-",barang_contoh_internal:e.barang_contoh_internal||!1,deskripsi_contoh:e.deskripsi_contoh||"-",berat_barang_contoh:parseFloat(e.berat_barang_contoh)};o.push(t)});let i={status:"PESANAN",estimasi_tanggal:e,kode_sales:l.kode_sales,kode_customer:"NONMEMBER"===l.jenis_pelanggan?l.jenis_pelanggan:l.kode_customer,nama_customer:l.nama_customer,alamat_customer:l.alamat_customer,no_hp:l.no_hp,detail_barang:o,pembayaran:t,total_harga:s,jumlah_bayar:n,sisa_bayar:Math.abs(parseInt(s)-parseInt(n))};Object(A.f)("pesanan/create",i).then(e=>{if(Object(bn.K)("data_barang_pesanan",[]),Object(bn.s)("success","Transaksi Pesanan Berhasil"),0!==e.data.length){let a=[];for(let t=0;t<2;t++){let t="";t+="========================================\n",t+="               NOTA PESANAN             \n",t+="========================================\nTanggal          : ".concat(e.data.tanggal,"\nNama Customer    : ").concat(e.data.nama_customer,"\nNo Hp            : ").concat(e.data.no_hp,"\n"),t+="========================================\n",t+="Keterangan\n",t+="========================================\n",e.data.detail_barang.forEach((a,n)=>{t+="No Faktur Pesanan  : ".concat(e.data.no_pesanan,"\n"),t+="Dp                 : ".concat(e.data.dp.toLocaleString("kr-KO"),"\n"),t+="Estimasi Pesanan   : ".concat(e.data.estimasi_tanggal,"\n"),t+="========================================\n"}),t+="\n\n\n\n",a.push(t)}document.getElementById("nota_pesanan").value=a.join(""),setTimeout(()=>{this.TextFilenotapesanan()},100)}}).then(()=>{this.props.dispatch(Object(bn.C)())}).then(()=>{this.props.dispatch(Object(bn.J)("ModalPembayaran"))}).then(()=>{Object(bn.K)("data_barang_pesanan",[]),Object(bn.K)("trx_pemabayaran_pesanan",[]),Object(bn.K)("data_customer_tmp",[]),Object(bn.K)("estimasi_pesanan",[])}).then(()=>{this.setState({isLoadingPembayranTitipan:!1})}).catch(e=>{this.setState({isLoadingPembayranTitipan:!1}),Object(bn.s)("info",void 0===e.response?"Terjadi Kesalahan Saat Request Data, Silahkan Ulangi Lagi":e.response.data.message||"Terjadi Kesalahan Saat Request Data, Silahkan Ulangi Lagi")})}showModalPembayaran(){let e=Object(bn.z)("data_customer_tmp")||[],a=Object(bn.z)("data_barang_pesanan")||[];0===e.length||0===a.length?Object(bn.s)("info","Data Customer Atau Data Barang Belum Diisi !!!"):(this.setState({FormModal:"ShowModalPembayaran"}),this.props.dispatch(Object(bn.L)()))}TextFilenotapesanan(){const e=document.createElement("a"),a=new Blob([document.getElementById("nota_pesanan").value],{type:"text/plain;charset=utf-8"});e.href=URL.createObjectURL(a),e.download="autoprint_pesanan.txt",document.body.appendChild(e),e.click()}reset(){this.setState({loadingreset:!0}),setTimeout(()=>{Object(bn.K)("data_barang_pesanan",[]),Object(bn.K)("trx_pemabayaran_pesanan",[]),Object(bn.K)("data_customer_tmp",[]),Object(bn.K)("estimasi_pesanan",[]),this.setState({loadingreset:!1})},100)}render(){const e={renderer:e=>bn.m.createElement("div",{className:"container"},bn.m.createElement("div",{className:"row"},bn.m.createElement("div",{className:"col-12"},"Ongkos : ",e.ongkos.toLocaleString("kr-KO")," ",bn.m.createElement("br",null),"Nama Atribut : ",e.attribut," ",bn.m.createElement("br",null),"Harga Atribut : ",e.harga_atribut.toLocaleString("kr-KO")," ",bn.m.createElement("br",null),"Betar Barang Contoh : ",e.berat_barang_contoh," ",bn.m.createElement("br",null),"Deskripsi Contoh : ",e.deskripsi_contoh," ",bn.m.createElement("br",null),"Deskripsi Pesanan : ",e.deskripsi," ",bn.m.createElement("br",null)))),showExpandColumn:!0,expandByColumnOnly:!0};return bn.m.createElement("div",null,bn.m.createElement("ol",{className:"breadcrumb float-xl-right"},bn.m.createElement("li",{className:"breadcrumb-item"},bn.m.createElement(bn.g,{to:"#"},"Pesanan")),bn.m.createElement("li",{className:"breadcrumb-item active"},"Transaksi Pesanan")),bn.m.createElement("h1",{className:"page-header"},"Transaksi Pesanan "),bn.m.createElement("textarea",{style:{display:"none"},id:"nota_pesanan",rows:"100",cols:"100"}),bn.m.createElement(bn.k,null,bn.m.createElement(bn.l,null,"Transaksi Pesanan"),bn.m.createElement("br",null),bn.m.createElement("div",{className:"container"},bn.m.createElement(bn.r,{keyField:"kode_barcode",exportCsv:!1,data:Object(bn.z)("data_barang_pesanan")||[],tambahData:!0,btnText:"Data Customer",columns:this.state.columns,btnOptional:!0,namaCustomer:!0,jenisCustomer:!0,form:"Penjualan",btnTextOptional:"Data Barang",handleClick:()=>this.ShowModalCustomer(),handleClickOptional:()=>this.ShowModalBarang(),empty:!0,textEmpty:"Data Barang Kosong",expandRow:e,margin:!0}),bn.m.createElement("div",{className:"row"},bn.m.createElement("div",{className:"col-6 text-left"},bn.m.createElement("button",{className:"btn btn-primary",onClick:()=>this.showModalPembayaran()}," ","Simpan Pesanan"," "),"\xa0",bn.m.createElement("button",{className:"btn btn-warning",onClick:()=>this.reset()},this.state.loadingreset?bn.m.createElement(bn.m.Fragment,null,bn.m.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Reset"):"Reset")))),bn.m.createElement("br",null)),bn.m.createElement(bn.i,{size:"ShowModalCustomer"===this.state.FormModal?"xl":"ShowModalBarang"===this.state.FormModal?"xl":"l",title:"ShowModalCustomer"===this.state.FormModal?"Data Customer":"ShowModalBarang"===this.state.FormModal?"Tambah Barang Pesanan":"Form Pembayaran",content:"ShowModalCustomer"===this.state.FormModal?bn.m.createElement(xn,{isLoadingDataCustomer:this.state.isLoadingDataCustomer,onSubmit:e=>this.handleSubmit(e)}):"ShowModalBarang"===this.state.FormModal?bn.m.createElement(Kn,{isLoadingTopBar:this.props.isLoadingTopBar,hideModal:()=>this.hideModa(),onSubmit:e=>this.simpanBarang(e)}):bn.m.createElement(Dn,{isLoadingPembayranTitipan:this.state.isLoadingPembayranTitipan,isLoadingPembayran:this.state.isLoadingPembayran,bayarSekarang:e=>this.bayarSekarang(e),simpanPembayaran:e=>this.simpanPembayaran(e)})}),this.props.isLoadingPembayranTitipan?bn.m.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}Pn=Object(bn.I)({form:"Pesanan",enableReinitialize:!0})(Pn);var Fn=Object(bn.t)()(Pn);class Hn extends bn.m.Component{constructor(e){super(e),this.state={date:new Date},this.setStartDate=this.setStartDate.bind(this),this.setLastDate=this.setLastDate.bind(this)}handleSubmit(e){}setStartDate(e){this.setState({tgl_awal:new Date(e)})}setLastDate(e){this.setState({tgl_akhir:new Date(e)})}render(){return bn.m.createElement("div",null,bn.m.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},bn.m.createElement("div",{className:"row"},bn.m.createElement("div",{className:"col-lg-4"},bn.m.createElement(bn.c,{name:"tgl_awal",component:bn.f,label:"Tanggal Dari",type:"text",selected:this.state.tgl_awal,onChange:e=>this.setStartDate(e),placeholder:"Masukan Tanggal Dari"})),bn.m.createElement("div",{className:"col-lg-4"},bn.m.createElement(bn.c,{name:"tgl_akhir",component:bn.f,type:"text",selected:this.state.tgl_akhir,onChange:e=>this.setLastDate(e),label:"Tanggal Akhir",placeholder:"Masukan Tanggal Akhir"})),bn.m.createElement("div",{className:"col-lg-4"},bn.m.createElement("div",{className:"text-right"},bn.m.createElement("label",null,"\xa0"),bn.m.createElement("button",{type:"submit",value:"PDF",name:"type_btn",className:"btn btn-primary btn-block"},this.props.isLoading?bn.m.createElement(bn.m.Fragment,null,bn.m.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Mencari"):"Cari Pesanan")))),this.props.isLoading?bn.m.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null))}}Hn=Object(bn.I)({form:"HeadPesanan",enableReinitialize:!0})(Hn);var Rn=Object(bn.t)(e=>({initialValues:{tgl_awal:Object(bn.A)(),tgl_akhir:Object(bn.A)()}}))(Hn);const Jn=Object(bn.v)({prefix:"Rp. ",locale:"kr-KO"}),zn=[{value:"CASH",name:"CASH"},{value:"DEBET",name:"DEBET"},{value:"TRANSFER",name:"TRANSFER"},{value:"CREDIT",name:"CREDIT"}];class Gn extends bn.b{constructor(e){super(e),this.state={isLoading:!1,type_pembayaran:"CASH",columns:[{dataField:"type",text:"Type",footerAttrs:{colSpan:"1"},footer:"Grand Total"},{dataField:"Total",text:"Total",footer:""}]}}componentDidMount(){this.props.dispatch(Object(X.ob)());let e=JSON.parse(Object(bn.E)("data_barang_ambil_pesanan"));setTimeout(()=>{let e=JSON.parse(localStorage.getItem("trx_pemabayran_ambil_pesanan"))||[],a=0;e.forEach(e=>{a=e.nominal+a});let t=Object(bn.j)(document.getElementById("grand_total_pembayaran").value);this.props.change("harus_bayar_rp",parseInt(t)-parseInt(a))},100),this.props.change("grand_total_pembayaran",e.total_harga),this.props.change("jenis","CASH"),setTimeout(()=>{document.getElementById("cash_trx_penjualan").focus()},100)}hitungTotal(){this.props.change("kembali",this.props.kembali),this.props.change("nominal_kembali",this.props.nominal_kembali)}pilihPembyaran(e){"CASH"===e?this.setState({type_pembayaran:"CASH"}):"TRANSFER"===e?this.setState({type_pembayaran:"TRANSFER"}):"DEBET"===e?this.setState({type_pembayaran:"DEBET"}):this.setState({type_pembayaran:"CREDIT"}),this.props.change("cash","")}render(){return bn.m.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},bn.m.createElement("div",{className:"row"},bn.m.createElement("div",{className:"col-6"},bn.m.createElement(bn.c,Object.assign({id:"grand_total_pembayaran",name:"grand_total_pembayaran",component:bn.o,type:"text",onChange:this.hitungTotal(),readOnly:!0},Jn,{label:"Total Harga Jual",placeholder:"Total Harga Jual"}))),bn.m.createElement("div",{className:"col-6"},bn.m.createElement(bn.c,Object.assign({id:"harus_bayar_rp",name:"harus_bayar_rp",component:bn.o,type:"text",onChange:this.hitungTotal(),readOnly:!0},Jn,{label:"Harus Bayar Rp",placeholder:"Harus Bayar Rp"}))),bn.m.createElement("div",{className:"col-6"},bn.m.createElement(bn.c,{name:"jenis",label:"Pilih Jenis Bayar",placeholder:"Pilih Jenis Pembayaran",options:zn,onChange:e=>this.pilihPembyaran(e),component:bn.p})),bn.m.createElement("div",{className:"col-6",style:{display:"CASH"===this.state.type_pembayaran?"none":(this.state.type_pembayaran,"block")}},bn.m.createElement(bn.c,{tabIndex:"1",name:"nama_bank",id:"nama_bank",component:bn.o,type:"text",label:"Bank",placeholder:"Masukan Nama Bank"})),bn.m.createElement("div",{className:"col-6",style:{display:"CASH"===this.state.type_pembayaran?"none":"DEBET"===this.state.type_pembayaran?"none":"block"}},bn.m.createElement(bn.c,{tabIndex:"1",name:"no_card",id:"no_card",component:bn.o,type:"text",label:"Card No",placeholder:"Masukan Card No"})),bn.m.createElement("div",{className:"col-6"},bn.m.createElement(bn.c,Object.assign({tabIndex:"1",name:"cash",id:"cash_trx_penjualan",component:bn.o,type:"text",label:"Nominal",onChange:this.hitungTotal()},Jn,{normalize:bn.j,placeholder:"Masukan Nominal"}))),bn.m.createElement("div",{className:"col-6",style:{display:"CREDIT"===this.state.type_pembayaran?"block":"none"}},bn.m.createElement(bn.c,{tabIndex:"1",name:"fee",id:"fee",component:bn.o,type:"text",label:"Fee (%)",normalize:bn.j,placeholder:"5"})),bn.m.createElement("div",{className:"col-6 d-none"},bn.m.createElement(bn.c,{tabIndex:"1",name:"nominal_kembali",component:bn.o,type:"text",label:"Nominal",placeholder:"Masukan Nominal"})),bn.m.createElement("div",{className:"col-6"},bn.m.createElement(bn.c,{name:"kembali",id:"sisa_bayar",component:bn.o,type:"text",readOnly:!0,label:"Sisa",normalize:bn.j,placeholder:"Sisa Pembayaran"})),bn.m.createElement("div",{className:"CASH"===this.state.type_pembayaran?"col-6 text-right":"TRANSFER"===this.state.type_pembayaran?"col-6 text-right":"col-12 text-right"},bn.m.createElement("br",null),bn.m.createElement("label",null,"\xa0"),bn.m.createElement("button",{tabIndex:"2",className:"btn btn-primary"}," ",bn.m.createElement("i",{className:"fa fa-plus"})))))}}Gn=Object(bn.I)({form:"HeadInputPembayaran",enableReinitialize:!0,validate:Ce.a})(Gn);const Un=Object(bn.w)("HeadInputPembayaran");var Yn=Object(bn.t)(e=>{const a=Un(e,"grand_total_pembayaran","cash"),t=a.cash,n=a.grand_total_pembayaran;let l=JSON.parse(localStorage.getItem("trx_pemabayran_ambil_pesanan"))||[],r=0;l.forEach(e=>{r=e.nominal+r});let o=parseFloat(r||0)-parseFloat(n||0);return{harus_bayar_rp:o,kembali:o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),nominal_cash:t,nominal_kembali:o+parseInt(t)}})(Gn);class Vn extends bn.b{constructor(e){super(e),this.state={isLoading:!1,type_pembayaran:"CASH",kembalian:"",columns:[{dataField:"jenis",text:"Jenis",footerAttrs:{colSpan:"2"},footer:"Grand Total"},{dataField:"keterangan",text:"Keterangan"},{dataField:"nominal",text:"Total",formatter:e=>bn.m.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(e,a,t)=>bn.m.createElement("div",{className:"row text-center"},bn.m.createElement("div",{className:"col-12"},bn.m.createElement("button",{type:"button",disabled:"DONE"===a.status,onClick:()=>this.hapusdata(t),className:"btn btn-danger mr-3"},bn.m.createElement("i",{className:"fa fa-trash"})))),footer:""}]}}hapusdata(e){bn.q.fire({title:"Anda Yakin !!",text:"Ingin Menghapus Data Ini ?",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(a=>{if(a.isConfirmed){let a=Object(bn.z)("trx_pemabayran_ambil_pesanan");a.splice(e,1),Object(bn.K)("trx_pemabayran_ambil_pesanan",a),this.setState({status:"berhasil"})}})}simpanPembayaran(e){if(void 0===e.no_card&&"CASH"!==e.jenis&&"DEBET"!==e.jenis)return Object(bn.s)("info","Nomor kartu tidak boleh kosong"),!1;let a={total_transaksi:e.grand_total_pembayaran,sisa_bayar:e.nominal_kembali};console.log(e),Object(bn.K)("sisa_bayar_pesanan",a);let t=JSON.parse(localStorage.getItem("trx_pemabayran_ambil_pesanan"))||[];if("CASH"===e.jenis||t.length){if("CASH"!==e.jenis){if(e.kembali.replace(/[^0-9]/g,"")-e.cash<0&&0!==parseInt(e.kembali))return Object(bn.s)("info","Pembayaran tidak boleh lebih dari sisa"),!1;if(console.log(e.grand_total_pembayaran),t.reduce((e,a)=>e+a.nominal,0)>=e.grand_total_pembayaran)return Object(bn.s)("info","Pembayaran Sudah Cukup1"),!1}}else if(e.kembali.replace(/[^0-9]/g,"")-e.cash<0)return Object(bn.s)("info","Pembayaran tidak boleh lebih dari sisa"),!1;if(t.findIndex(e=>"CASH"===e.jenis)>=0){if(e.kembali.replace(/[^0-9]/g,"")-e.cash<0&&t.reduce((e,a)=>e+a.nominal,0)>e.grand_total_pembayaran)return Object(bn.s)("info","Pembayaran Sudah Cukup2"),!1;if(t.reduce((e,a)=>e+a.nominal,0)>=e.grand_total_pembayaran)return Object(bn.s)("info","Pembayaran Sudah Cukup3"),!1}if(-1===t.findIndex(a=>a.jenis===e.jenis)){let a="";a="CASH"===e.jenis?"CASH":"TRANSFER"===e.jenis?e.no_card+" - "+e.nama_bank:e.nama_bank;let n={jenis:e.jenis,nominal:parseInt(e.cash)*parseInt(e.fee||0)/100+parseInt(e.cash),nama_bank:e.nama_bank,fee:e.fee||0,no_card:e.no_card||"-",keterangan:a,kembali:e.nominal_kembali};t.push(n),this.setState({masuk:!0,kembalian:e.kembali}),Object(bn.K)("trx_pemabayran_ambil_pesanan",t)}else{let a=Object(bn.z)("trx_pemabayran_ambil_pesanan");a=a.map(a=>(a.jenis===e.jenis&&(a.nominal+=parseInt(e.cash)),a)),Object(bn.K)("trx_pemabayran_ambil_pesanan",a),this.setState({status:!0,kembalian:e.kembalian})}}render(){return bn.m.createElement(bn.m.Fragment,null,bn.m.createElement(Yn,{onSubmit:e=>this.simpanPembayaran(e)}),bn.m.createElement("hr",null),bn.m.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},bn.m.createElement(bn.r,{keyField:"jenis",exportCsv:!1,data:Object(bn.z)("trx_pemabayran_ambil_pesanan")||[],columns:this.state.columns,empty:!0,pagination:"off",textEmpty:"Data Pembayaran Kosong"}),bn.m.createElement("div",{className:"row"},bn.m.createElement("div",{className:"col-12 text-right"},bn.m.createElement("button",{className:"btn btn-primary",disabled:this.props.isLoadingPembayran,onClick:()=>this.props.simpanPembayaran(),type:"button"},this.props.isLoadingPembayran?bn.m.createElement(bn.m.Fragment,null,bn.m.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Diproses"):"Bayar Sekarang")))))}}Vn=Object(bn.I)({form:"ModalPembayaran",enableReinitialize:!0,validate:Ce.a})(Vn);var Wn=Object(bn.t)(e=>{let a=Object(bn.z)("data_barang_pesanan")||[],t="PENJUALAN";return a.forEach(e=>{"-"===e.no_titip_group&&(t="PENJUALAN"),t="-"===e.no_pesanan?"PESANAN":"TITIPAN"}),{status:t}})(Vn);class Qn extends bn.m.Component{constructor(e){super(e),this.state={isLoading:!1,datapesanan:[],columns:[{dataField:"no_pesanan",text:"No Pesanan",footerAttrs:{colSpan:"3"},footer:"Total"},{dataField:"tanggal_transaksi",text:"Tgl Transaksi"},{dataField:"nama_customer",text:"Nama Customer"},{dataField:"no_hp",text:"Nomor HP"},{dataField:"total_harga",text:"Total Harga",formatter:e=>bn.m.createElement("span",null,parseInt(e).toLocaleString("kr-KO"))},{dataField:"jumlah_bayar",text:"Jumlah Pembayaran",formatter:e=>bn.m.createElement("span",null,parseInt(e).toLocaleString("kr-KO"))},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(e,a,t)=>bn.m.createElement("div",{className:"row text-center"},bn.m.createElement("div",{className:"col-12"},bn.m.createElement("button",{type:"button",disabled:a.tanggal_transaksi!==Object(bn.B)(),"data-tooltip":a.tanggal_transaksi===Object(bn.B)()?"Batal Pesanan":"Tidak Bisa Dibatal",onClick:()=>this.batalPesanan(a),className:"btn btn-danger mr-3"},bn.m.createElement("i",{className:"fa fa-window-close"})))),footer:""}]},this.handleSubmit=this.handleSubmit.bind(this)}ambilpesanan(e){let a=[];e.pembayaran.forEach(e=>{let t={jenis:e.jenis,keterangan:e.keterangan,nominal:e.jumlah_rp,status:"DONE"};a.push(t)}),Object(bn.K)("trx_pemabayran_ambil_pesanan",a),Object(A.f)("pesanan/ambil/no",{no_pesanan:e.no_pesanan}).then(e=>{Object(bn.K)("data_barang_ambil_pesanan",e.data),this.props.dispatch(Object(bn.L)())}).catch(e=>{Object(bn.s)("info","Terjadi Kesalahaan Saat Request Data")})}batalPesanan(e){bn.q.fire({title:"Anda Yakin !!",text:"Ingin Membatalkan Pesanan Ini ?",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(a=>{if(a.isConfirmed){let a=Object(bn.z)("tgl_laporan");this.setState({isLoading:!0}),Object(A.h)("pesanan/cancel",{no_pesanan:e.no_pesanan}).then(e=>{this.setState({isLoading:!1}),Object(bn.s)("success","Pesanan Berhasil Di Batal"),Object(A.d)("pesanan/"+a.tgl_awal+"/"+a.tgl_akhir).then(e=>{let a=[];e.data.forEach(e=>{let t={no_pesanan:e.no_pesanan,nama_customer:e.nama_customer,no_hp:e.no_hp,sisa_bayar:e.sisa_bayar,jumlah_bayar:e.jumlah_bayar,total_harga:e.total_harga,tanggal_transaksi:e.tanggal,detail_barang:e.detail_barang,pembayaran:e.pembayaran,status_pesanan:e.status_pesanan};a.push(t)}),this.setState({datapesanan:a,isLoading:!1})})}).catch(e=>{this.setState({isLoading:!1}),Object(bn.s)("info",/conflict/i.test(e.response.data.message||"Error")?"Terjadi Kesalahan Saat Mengirim Data":e.response.data.message)})}})}handleSubmit(e){this.setState({isLoading:!0}),Object(A.d)("pesanan/"+e.tgl_awal+"/"+e.tgl_akhir).then(a=>{0===a.data.length&&Object(bn.s)("info","Data Pesanan Tidak Ada");let t=[];a.data.forEach(e=>{let a={no_pesanan:e.no_pesanan,nama_customer:e.nama_customer,no_hp:e.no_hp,sisa_bayar:e.sisa_bayar,jumlah_bayar:e.jumlah_bayar,total_harga:e.total_harga,tanggal_transaksi:e.tanggal,detail_barang:e.detail_barang,pembayaran:e.pembayaran,status_pesanan:e.status_pesanan};t.push(a)});let n={tgl_awal:Object(bn.x)(Object(bn.G)(new Date(e.tgl_awal)).format("YYYY-MM-DD")),tgl_akhir:Object(bn.x)(Object(bn.G)(new Date(e.tgl_akhir)).format("YYYY-MM-DD"))};this.setState({isLoading:!1,datapesanan:t}),Object(bn.K)("tgl_laporan",n)}).catch(e=>{Object(bn.s)("info",/conflict/i.test(e.response.data.message||"Error")?"Terjadi Kesalahan Saat Mengirim Data":e.response.data.message),this.setState({isLoading:!1})})}render(){const e={renderer:e=>bn.m.createElement("div",{className:"container"},bn.m.createElement("div",{className:"row"},bn.m.createElement("div",{className:"col-12"},"Detail Barang",bn.m.createElement("table",null,bn.m.createElement("tr",null,bn.m.createElement("td",null," Kode Kategori "),bn.m.createElement("td",null," Perkiraan Berat "),bn.m.createElement("td",null," Perkiraan Kadar "),bn.m.createElement("td",null," Harga / Gram "),bn.m.createElement("td",null," Attribut "),bn.m.createElement("td",null," Harga Attribut "),bn.m.createElement("td",null," Kode Barcode "),bn.m.createElement("td",null," Ongkos "),bn.m.createElement("td",null," Total "),bn.m.createElement("td",null," keterangan "),bn.m.createElement("td",null," Deskripsi "),bn.m.createElement("td",null," Deskripsi Contoh ")),e.detail_barang.map((e,a)=>bn.m.createElement(bn.m.Fragment,null,bn.m.createElement("tr",null,bn.m.createElement("td",null," ",e.kode_kategori),bn.m.createElement("td",null," ",e.perkiraan_berat.toFixed(3)),bn.m.createElement("td",null," ",e.perkiraan_kadar),bn.m.createElement("td",null," ",e.harga_gram.toLocaleString("kr-KO")),bn.m.createElement("td",null," ",e.attribut),bn.m.createElement("td",null," ",e.harga_atribut.toLocaleString("kr-KO")),bn.m.createElement("td",null," ",e.kode_barcode),bn.m.createElement("td",null," ",e.ongkos.toLocaleString("kr-KO")),bn.m.createElement("td",null," ",e.sub_total.toLocaleString("kr-KO")),bn.m.createElement("td",null," ",e.keterangan),bn.m.createElement("td",null," ",e.deskripsi),bn.m.createElement("td",null," ",e.deskripsi_contoh)))))))),showExpandColumn:!0};return bn.m.createElement("div",null,bn.m.createElement("ol",{className:"breadcrumb float-xl-right"},bn.m.createElement("li",{className:"breadcrumb-item"},bn.m.createElement(bn.g,{to:"#"},"Pesanan")),bn.m.createElement("li",{className:"breadcrumb-item active"},"Lihat Pesanan")),bn.m.createElement("h1",{className:"page-header"},"Lihat Pesanan "),bn.m.createElement(bn.k,null,bn.m.createElement(bn.l,null,"Lihat Pesanan"),bn.m.createElement("br",null),bn.m.createElement("div",{className:"container"},bn.m.createElement(Rn,{isLoading:this.state.isLoading,onSubmit:e=>this.handleSubmit(e)}),bn.m.createElement(bn.r,{keyField:"no_pesanan",exportCsv:!1,data:this.state.datapesanan,columns:this.state.columns,empty:!0,textEmpty:"Data Barang Kosong",expandRow:e})),bn.m.createElement("br",null),bn.m.createElement(bn.i,{size:"l",title:"Form Pembayaran",content:bn.m.createElement(Wn,{isLoadingPembayranTitipan:this.state.isLoadingPembayranTitipan,isLoadingPembayran:this.state.isLoadingPembayran,bayarTitipan:e=>this.bayarTitipan(e),simpanPembayaran:e=>this.simpanPembayaranAmbilPesanan(e)})})),this.state.isLoading?bn.m.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}Qn=Object(bn.I)({form:"LihatPesanan",enableReinitialize:!0})(Qn);var Xn=Object(bn.t)()(Qn);const qn=e=>a=>{a({type:"SET_TRANSAKSI_SERVICES",payload:{data:e}})},Zn=e=>a=>{a({type:"SHOW_MODAL_SERVICE_SELESAI",payload:{data:e}})},$n=e=>a=>{a({type:"SHOW_MODAL_SERVICE_AMBIL",payload:{data:e}})};class el extends n.Component{constructor(e){super(e),this.state={isLoading:!1,isLoadingBatal:!1,FormModal:""},this.setStartDate=this.setStartDate.bind(this),this.setLastDate=this.setLastDate.bind(this)}componentDidMount(){}setStartDate(e){this.setState({tgl_awal:new Date(e)})}setLastDate(e){this.setState({tgl_akhir:new Date(e)})}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(ee.a,{name:"tgl_awal",component:te.c,label:"Tanggal Dari",type:"text",selected:this.state.tgl_awal,onChange:e=>this.setStartDate(e),placeholder:"Masukan Tanggal Dari"})),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(ee.a,{name:"tgl_akhir",component:te.c,type:"text",selected:this.state.tgl_akhir,onChange:e=>this.setLastDate(e),label:"Tanggal Akhir",placeholder:"Masukan Tanggal Akhir"})),l.a.createElement("div",{className:"col-4"},l.a.createElement("label",null," \xa0"),l.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.props.isLoading,type:"submit"},this.props.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Mencari"):"Cari Services"))),this.props.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}el=Object(ae.a)({form:"HeadLihatServices",enableReinitialize:!0,validate:fa.a})(el);var al=Object(q.b)(e=>({setTransaksiServices:e.services.setTransaksiServices,DataSales:e.datamaster.getDataSales,hideModal:e.datamaster.modalDialog,initialValues:{tgl_awal:Object(k.h)(),tgl_akhir:Object(k.h)()}}))(el);const tl=Object(bn.v)({prefix:"Rp. ",locale:"kr-KO"}),nl=[{value:"CASH",name:"CASH"},{value:"DEBET",name:"DEBET"},{value:"TRANSFER",name:"TRANSFER"},{value:"CREDIT",name:"CREDIT"}];class ll extends bn.b{constructor(e){super(e),this.state={isLoading:!1,type_pembayaran:"CASH",columns:[{dataField:"type",text:"Type",footerAttrs:{colSpan:"1"},footer:"Grand Total"},{dataField:"Total",text:"Total",footer:""}]}}componentDidMount(){setTimeout(()=>{let e=Object(bn.j)(document.getElementById("grand_total_pembayaran").value),a=Object(bn.j)(document.getElementById("total_dp").value);this.props.change("harus_bayar_rp",parseInt(e)-parseInt(a))},100),this.props.dispatch(Object(X.ob)());let e=JSON.parse(localStorage.getItem("data_service_barang"));this.props.change("total_dp",e.dp_rp),this.props.change("grand_total_pembayaran",e.total),this.props.change("harus_bayar_rp",e.total),this.props.change("jenis","CASH")}hitungTotal(){this.props.change("kembali",this.props.kembali),this.props.change("nominal_kembali",this.props.nominal_kembali)}pilihPembyaran(e){"CASH"===e?this.setState({type_pembayaran:"CASH"}):"TRANSFER"===e?this.setState({type_pembayaran:"TRANSFER"}):"DEBET"===e?this.setState({type_pembayaran:"DEBET"}):this.setState({type_pembayaran:"CREDIT"}),this.props.change("cash","")}copyValue(e){this.props.change("cash",parseInt(Object(bn.j)(e)))}render(){return bn.m.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},bn.m.createElement("div",{className:"row"},bn.m.createElement("div",{className:"col-4"},bn.m.createElement(bn.c,Object.assign({id:"grand_total_pembayaran",name:"grand_total_pembayaran",component:bn.o,type:"text",onChange:this.hitungTotal(),readOnly:!0},tl,{label:"Total Harga Jual",placeholder:"Total Harga Jual"}))),bn.m.createElement("div",{className:"col-4"},bn.m.createElement(bn.c,Object.assign({id:"total_dp",name:"total_dp",component:bn.o,type:"text",onChange:this.hitungTotal(),readOnly:!0},tl,{label:"Total Dp",placeholder:"Total Dp"}))),bn.m.createElement("div",{className:"col-4"},bn.m.createElement(bn.c,Object.assign({id:"harus_bayar_rp",name:"harus_bayar_rp",component:bn.o,type:"text",onChange:this.hitungTotal(),readOnly:!0},tl,{label:"Harus Bayar Rp",placeholder:"Harus Bayar Rp"}))),bn.m.createElement("div",{className:"col-6"},bn.m.createElement(bn.c,{name:"jenis",label:"Pilih Jenis Bayar",placeholder:"Pilih Jenis Pembayaran",options:nl,onChange:e=>this.pilihPembyaran(e),component:bn.p})),bn.m.createElement("div",{className:"col-6",style:{display:"CASH"===this.state.type_pembayaran?"none":(this.state.type_pembayaran,"block")}},bn.m.createElement(bn.c,{tabIndex:"1",name:"nama_bank",id:"nama_bank",component:bn.o,type:"text",label:"Bank",placeholder:"Masukan Nama Bank"})),bn.m.createElement("div",{className:"col-6",style:{display:"CASH"===this.state.type_pembayaran?"none":"DEBET"===this.state.type_pembayaran?"none":"block"}},bn.m.createElement(bn.c,{tabIndex:"1",name:"no_card",id:"no_card",component:bn.o,type:"text",normalize:bn.j,label:"TRANSFER"===this.state.type_pembayaran?"No Rek":"Card No",placeholder:"TRANSFER"===this.state.type_pembayaran?"Masukan No Rek":"Masukan Card No"})),bn.m.createElement("div",{className:"col-6"},bn.m.createElement(bn.c,Object.assign({tabIndex:"1",name:"cash",id:"cash_trx_penjualan",component:bn.o,type:"text",label:"Nominal",onChange:this.hitungTotal()},tl,{normalize:bn.j,placeholder:"Masukan Nominal"}))),bn.m.createElement("div",{className:"col-6",style:{display:"CREDIT"===this.state.type_pembayaran?"block":"none"}},bn.m.createElement(bn.c,{tabIndex:"1",name:"fee",id:"fee",component:bn.o,type:"text",label:"Fee (%)",normalize:bn.j,placeholder:"5"})),bn.m.createElement("div",{className:"col-6 d-none"},bn.m.createElement(bn.c,{tabIndex:"1",id:"nominal_kembali",name:"nominal_kembali",component:bn.o,type:"text",label:"Nominal",placeholder:"Masukan Nominal"})),bn.m.createElement("div",{className:"col-6"},bn.m.createElement(bn.c,{name:"kembali",id:"sisa_bayar",component:bn.o,type:"text",readOnly:!0,label:"Sisa",onFocus:e=>this.copyValue(e.target.value),placeholder:"Sisa Pembayaran"})),bn.m.createElement("div",{className:"CASH"===this.state.type_pembayaran?"col-6 text-right":"TRANSFER"===this.state.type_pembayaran?"col-6 text-right":"col-12 text-right"},bn.m.createElement("br",null),bn.m.createElement("label",null,"\xa0"),bn.m.createElement("button",{tabIndex:"2",className:"btn btn-primary"}," ",bn.m.createElement("i",{className:"fa fa-plus"})))))}}ll=Object(bn.I)({form:"HeadInputPembayaran",enableReinitialize:!0,validate:Ce.a})(ll);const rl=Object(bn.w)("HeadInputPembayaran");var ol=Object(bn.t)(e=>{const a=rl(e,"grand_total_pembayaran","harus_bayar_rp","cash"),t=a.harus_bayar_rp,n=a.cash;let l=JSON.parse(localStorage.getItem("trx_pemabayran_service"))||[],r=0;l.forEach(e=>{r=e.nominal+r});let o=parseFloat(r||0)-parseFloat(t||0);return{kembali:o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),nominal_cash:n,nominal_kembali:o+parseInt(n)}})(ll);class sl extends bn.b{constructor(e){super(e),this.state={isLoading:!1,type_pembayaran:"CASH",kembalian:"",columns:[{dataField:"jenis",text:"Jenis",footerAttrs:{colSpan:"2"},footer:"Grand Total"},{dataField:"keterangan",text:"Keterangan"},{dataField:"nominal",text:"Total",formatter:e=>bn.m.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(e,a,t)=>bn.m.createElement("div",{className:"row text-center"},bn.m.createElement("div",{className:"col-12"},bn.m.createElement("button",{type:"button",disabled:"DP-SERVICE"===a.keterangan,onClick:()=>this.hapusdata(t),className:"btn btn-danger mr-3"},bn.m.createElement("i",{className:"fa fa-trash"})))),footer:""}]}}hapusdata(e){bn.q.fire({title:"Anda Yakin !!",text:"Ingin Menghapus Data Ini ?",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(a=>{if(a.isConfirmed){let a=Object(bn.z)("trx_pemabayran_service");a.splice(e,1),Object(bn.K)("trx_pemabayran_service",a),this.setState({status:"berhasil"})}})}simpanPembayaran(e){let a={total_transaksi:e.harus_bayar_rp,sisa_bayar:e.nominal_kembali};Object(bn.K)("sisa_bayar_service",a);let t=JSON.parse(localStorage.getItem("trx_pemabayran_service"))||[];if("CASH"===e.jenis||t.length){if("CASH"!==e.jenis){if(e.kembali.replace(/[^0-9]/g,"")-e.cash<0&&0!==parseInt(e.kembali))return Object(bn.s)("info","Pembayaran tidak boleh lebih dari sisa"),!1;if(t.reduce((e,a)=>e+a.nominal,0)>=e.harus_bayar_rp)return Object(bn.s)("info","Pembayaran Sudah Cukup"),!1}}else if(e.kembali.replace(/[^0-9]/g,"")-e.cash<0)return Object(bn.s)("info","Pembayaran tidak boleh lebih dari sisa"),!1;if(t.findIndex(e=>"CASH"===e.jenis)>=0){if(e.kembali.replace(/[^0-9]/g,"")-e.cash<0&&t.reduce((e,a)=>e+a.nominal,0)>e.harus_bayar_rp)return Object(bn.s)("info","Pembayaran Sudah Cukup"),!1;if(t.reduce((e,a)=>e+a.nominal,0)>=e.harus_bayar_rp)return Object(bn.s)("info","Pembayaran Sudah Cukup"),!1}if(-1===t.findIndex(a=>a.jenis===e.jenis)){let a="";a="CASH"===e.jenis?"CASH":"TRANSFER"===e.jenis?e.no_card+" - "+e.nama_bank:e.nama_bank;let n={jenis:e.jenis,nominal:parseInt(e.cash),nama_bank:void 0!==e.nama_bank?e.nama_bank.toUpperCase():"-",no_card:e.no_card,fee:"CREDIT"===e.jenis?parseInt(e.fee):0,keterangan:a,kembali:e.nominal_kembali};t.push(n),this.setState({masuk:!0,kembalian:e.kembali}),Object(bn.K)("trx_pemabayran_service",t)}else{let a=Object(bn.z)("trx_pemabayran_service");a=a.map(a=>(a.jenis===e.jenis&&(a.nominal+=parseInt(e.cash)),a)),Object(bn.K)("trx_pemabayran_service",a),this.setState({status:!0,kembalian:e.kembalian})}}render(){return bn.m.createElement(bn.m.Fragment,null,bn.m.createElement(ol,{onSubmit:e=>this.simpanPembayaran(e)}),bn.m.createElement("hr",null),bn.m.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},bn.m.createElement(bn.r,{keyField:"jenis",exportCsv:!1,data:Object(bn.z)("trx_pemabayran_service")||[],columns:this.state.columns,empty:!0,pagination:"off",textEmpty:"Data Pembayaran Kosong"}),bn.m.createElement("div",{className:"row"},bn.m.createElement("div",{className:"col-12 text-right"},bn.m.createElement("button",{className:"btn btn-primary",disabled:this.props.isLoadingPembayran,type:"submit"},this.props.isLoadingPembayran?bn.m.createElement(bn.m.Fragment,null,bn.m.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Diproses"):"Bayar Sekarang"))),this.props.isLoading?bn.m.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null))}}sl=Object(bn.I)({form:"ModalPembayaran",enableReinitialize:!0,validate:Ce.a})(sl);var il=Object(bn.t)(e=>{let a=Object(bn.z)("data_barang_penjualan_tmp")||[],t="PENJUALAN";return a.forEach(e=>{t="-"===e.no_titip_group?"PENJUALAN":"TITIPAN"}),{status:t}})(sl);const cl=Object(ne.createNumberMask)({prefix:"Rp. ",locale:"kr-KO"});class ml extends n.Component{constructor(e){super(e),this.state={date:new Date("Y-m-d"),columns:[{dataField:"nama_barang",text:"Nama Barang",footer:""},{dataField:"berat",text:"Berat",formatter:e=>l.a.createElement("span",null,parseFloat(e).toFixed(1)),footer:e=>parseFloat(e.reduce((e,a)=>e+a,0)).toFixed(1)},{dataField:"jumlah",text:"Jumlah",formatter:e=>l.a.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")},{dataField:"ongkos",text:"Ongkos",formatter:e=>l.a.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")},{dataField:"total",text:"Total Rp",formatter:(e,a,t)=>this.getTotal(t),footer:(e,a,t)=>this.getTotalAll()}]}}getTotalAll(){let e=JSON.parse(localStorage.getItem("total_rp_service_ambil"))||[],a=0;return e.forEach((e,t)=>{a+=e.jml}),parseInt(a).toLocaleString("kr-KO")}getTotal(e){let a=JSON.parse(localStorage.getItem("total_rp_service_ambil"))||[],t={jml:parseInt(this.props.detail_barang[e].ongkos*this.props.detail_barang[e].jumlah)};return a.push(t),localStorage.setItem("total_rp_service_ambil",JSON.stringify(a)),parseInt(this.props.detail_barang[e].ongkos*this.props.detail_barang[e].jumlah).toLocaleString("kr-KO")}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{id:"no_faktur_services_ambil",name:"no_faktur_services",component:te.b,type:"hidden",readOnly:!0}),l.a.createElement(ee.a,{name:"nama_customer",component:te.e,type:"text",readOnly:!0,label:"Nama Customer",placeholder:"Masukan Nama Customer"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"alamat_customer",component:te.e,type:"text",readOnly:!0,label:"Alamat Customer",placeholder:"Masukan Alamat Customer"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"no_hp",component:te.e,type:"text",readOnly:!0,label:"No Hp",placeholder:"Masukan No Hp"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{id:"total_bayar",name:"total_bayar",component:te.b,type:"hidden",readOnly:!0}),l.a.createElement(ee.a,{id:"total_dp",name:"total_dp_pembayarn",component:te.b,type:"hidden",readOnly:!0}),l.a.createElement(ee.a,Object.assign({id:"total_rp",name:"total_rp",component:te.e},cl,{type:"text",label:"Total Rp",readOnly:!0}))),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,Object.assign({name:"total_dp",component:te.e,type:"telp"},cl,{label:"Total DP",readOnly:!0}))),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,Object.assign({name:"sisa_rp",component:te.e,type:"telp"},cl,{label:"Sisa Rp",readOnly:!0}))),l.a.createElement("div",{className:"col-3 d-none"},l.a.createElement(ee.a,{defaultValue:this.state.date,id:"tgl_ambil",name:"tgl_ambil",component:te.e,type:"date",label:"Tanggal Ambil"})),l.a.createElement("div",{className:"col-12"},l.a.createElement($.a,{keyField:"nama_barang",exportCsv:!1,data:this.props.detail_barang,columns:this.state.columns,pagination:"off",empty:!0,textEmpty:"Data Barang Kosong"})),l.a.createElement("div",{className:"col-3"},l.a.createElement("button",{type:"button",onClick:this.props.back,className:"btn btn-primary btn-block"},l.a.createElement("i",{className:"fa fa-arrow-left"})," Kembali")),l.a.createElement("div",{className:"col-9"},0===JSON.parse(localStorage.getItem("sisa_bayar_service_ambil"))?l.a.createElement("button",{type:"submit",className:"btn btn-success btn-block"},"Service Ambil"):l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{type:"button",onClick:()=>this.props.showModalPembayaran(),className:"btn btn-success btn-block"},"Service Ambil")))),l.a.createElement("br",null),this.props.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}ml=Object(ae.a)({form:"ModalServicesAmbil",enableReinitialize:!0,validate:Be})(ml);var dl=Object(q.b)(e=>(localStorage.setItem("sisa_bayar_service_ambil",parseFloat(e.services.showModalServiceAmbil.total||0)-parseFloat(e.services.showModalServiceAmbil.dp_rp||0)||0),{detail_barang:e.services.showModalServiceAmbil.detail_barang,initialValues:{sisa_rp:parseFloat(e.services.showModalServiceAmbil.total||0)-parseFloat(e.services.showModalServiceAmbil.dp_rp||0)||0,no_faktur_services:e.services.showModalServiceAmbil.no_faktur_service,nama_customer:e.services.showModalServiceAmbil.nama_customer,alamat_customer:e.services.showModalServiceAmbil.alamat_customer,no_hp:e.services.showModalServiceAmbil.no_hp,total_dp_pembayarn:e.services.showModalServiceAmbil.dp_rp,total_dp:e.services.showModalServiceAmbil.dp_rp,total_rp:e.services.showModalServiceAmbil.total,total_bayar:e.services.showModalServiceAmbil.total,tgl_ambil:Object(k.i)()}}))(ml);const gl=Object(ne.createNumberMask)({prefix:"Rp. ",locale:"kr-KO"});class pl extends n.Component{constructor(e){super(e),this.state={date:new Date("Y-m-d"),columns:[{dataField:"nama_barang",text:"Nama Barang",footer:""},{dataField:"berat",text:"Berat",formatter:e=>l.a.createElement("span",null,parseFloat(e).toFixed(1)),footer:e=>parseFloat(e.reduce((e,a)=>e+a,0)).toFixed(1)},{dataField:"jumlah",text:"Jumlah",formatter:e=>l.a.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")},{dataField:"ongkos",text:"Ongkos",formatter:e=>l.a.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")},{dataField:"total",text:"Total Rp",formatter:(e,a,t)=>this.getTotal(t),footer:(e,a,t)=>this.getTotalAll()}]}}getTotalAll(){let e=JSON.parse(localStorage.getItem("total_rp_service_ambil"))||[],a=0;return e.forEach((e,t)=>{a+=e.jml}),parseInt(a).toLocaleString("kr-KO")}getTotal(e){let a=JSON.parse(localStorage.getItem("total_rp_service_ambil"))||[],t={jml:parseInt(this.props.detail_barang[e].ongkos*this.props.detail_barang[e].jumlah)};return a.push(t),localStorage.setItem("total_rp_service_ambil",JSON.stringify(a)),parseInt(this.props.detail_barang[e].ongkos*this.props.detail_barang[e].jumlah).toLocaleString("kr-KO")}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{id:"no_faktur_services_ambil",name:"no_faktur_services",component:te.b,type:"hidden",readOnly:!0}),l.a.createElement(ee.a,{name:"nama_customer",component:te.e,type:"text",readOnly:!0,label:"Nama Customer",placeholder:"Masukan Nama Customer"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"alamat_customer",component:te.e,type:"text",readOnly:!0,label:"Alamat Customer",placeholder:"Masukan Alamat Customer"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"no_hp",component:te.e,type:"text",readOnly:!0,label:"No Hp",placeholder:"Masukan No Hp"})),l.a.createElement("div",{className:"col-3"},l.a.createElement(ee.a,{id:"total_bayar",name:"total_bayar",component:te.b,type:"hidden",readOnly:!0}),l.a.createElement(ee.a,Object.assign({id:"total_rp",name:"total_rp",component:te.e},gl,{type:"text",label:"Total Rp",readOnly:!0}))),l.a.createElement("div",{className:"col-3"},l.a.createElement(ee.a,Object.assign({name:"total_dp",component:te.e,type:"telp"},gl,{label:"Total DP",readOnly:!0}))),l.a.createElement("div",{className:"col-3"},l.a.createElement(ee.a,Object.assign({name:"sisa_rp",component:te.e,type:"telp"},gl,{label:"Sisa Rp",readOnly:!0}))),l.a.createElement("div",{className:"col-3"},l.a.createElement(ee.a,{defaultValue:this.state.date,id:"tgl_ambil",name:"tgl_ambil",component:te.e,type:"date",label:"Tanggal Ambil"})),l.a.createElement("div",{className:"col-12"},l.a.createElement($.a,{keyField:"nama_barang",exportCsv:!1,data:this.props.detail_barang,columns:this.state.columns,pagination:"off",empty:!0,textEmpty:"Data Barang Kosong"})),l.a.createElement("div",{className:"col-3"},l.a.createElement("button",{type:"button",onClick:this.props.back,className:"btn btn-primary btn-block"},l.a.createElement("i",{className:"fa fa-arrow-left"})," Kembali")),l.a.createElement("div",{className:"col-9"},0===JSON.parse(localStorage.getItem("sisa_bayar_service_ambil"))?l.a.createElement("button",{type:"submit",className:"btn btn-success btn-block"},"Batal Service"):l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{type:"submit",className:"btn btn-success btn-block"},"Batal Service")))),l.a.createElement("br",null))}}pl=Object(ae.a)({form:"ModalServicesBatal",enableReinitialize:!0,validate:Be})(pl);var hl=Object(q.b)(e=>(localStorage.setItem("sisa_bayar_service_ambil",parseFloat(e.services.showModalServiceAmbil.total||0)-parseFloat(e.services.showModalServiceAmbil.dp_rp||0)||0),{detail_barang:e.services.showModalServiceAmbil.detail_barang,initialValues:{sisa_rp:parseFloat(e.services.showModalServiceAmbil.total||0)-parseFloat(e.services.showModalServiceAmbil.dp_rp||0)||0,no_faktur_services:e.services.showModalServiceAmbil.no_faktur_service,nama_customer:e.services.showModalServiceAmbil.nama_customer,alamat_customer:e.services.showModalServiceAmbil.alamat_customer,no_hp:e.services.showModalServiceAmbil.no_hp,total_dp:e.services.showModalServiceAmbil.dp_rp,total_rp:e.services.showModalServiceAmbil.total,total_bayar:e.services.showModalServiceAmbil.total,tgl_ambil:Object(k.i)()}}))(pl);class ul extends n.Component{constructor(e){super(e),this.state={columns:[{dataField:"nama_barang",text:"Nama Barang",footer:""},{dataField:"berat",text:"Berat",formatter:e=>l.a.createElement("span",null,parseFloat(e).toFixed(1)),footer:e=>parseFloat(e.reduce((e,a)=>e+a,0)).toFixed(1)},{dataField:"jumlah",text:"Jumlah",formatter:e=>l.a.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")},{dataField:"ongkos",text:"Ongkos",formatter:e=>l.a.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")},{dataField:"total",text:"Total Rp",formatter:(e,a,t)=>this.getTotal(t),footer:(e,a,t)=>this.getTotalAll()}]}}getTotalAll(){let e=JSON.parse(localStorage.getItem("total_rp_services"))||[],a=0;return e.forEach((e,t)=>{a+=e.jml}),parseInt(a).toLocaleString("kr-KO")}getTotal(e){let a=JSON.parse(localStorage.getItem("total_rp_services"))||[],t={jml:parseInt(this.props.detail_barang[e].ongkos*this.props.detail_barang[e].jumlah)};return a.push(t),localStorage.setItem("total_rp_services",JSON.stringify(a)),parseInt(this.props.detail_barang[e].ongkos*this.props.detail_barang[e].jumlah).toLocaleString("kr-KO")}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement(ee.a,{name:"no_faktur_services",component:te.b,type:"hidden",readOnly:!0}),l.a.createElement(ee.a,{name:"nama_customer",component:te.e,type:"text",readOnly:!0,label:"Nama Customer",placeholder:"Masukan Nama Cistomer"})),l.a.createElement("div",{className:"col-6"},l.a.createElement(ee.a,{name:"alamat_customer",component:te.e,type:"text",readOnly:!0,label:"Nama Customer",placeholder:"Masukan Alamat Cistomer"})),l.a.createElement("div",{className:"col-6"},l.a.createElement(ee.a,{name:"no_hp",component:te.e,type:"number",label:"No Hp",placeholder:"Masukan No Hp"})),l.a.createElement("div",{className:"col-12"},l.a.createElement($.a,{keyField:"nama_barang",exportCsv:!1,data:this.props.detail_barang,columns:this.state.columns,pagination:"off",empty:!0,textEmpty:"Data Barang Kosong"})),l.a.createElement("div",{className:"col-12"},l.a.createElement("button",{type:"submit",disabled:this.props.isLoadingServicesSelesai,className:"btn btn-primary btn-block"},this.props.isLoadingServicesSelesai?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan Data"):"Service Selesai"))),this.props.isLoadingServicesSelesai?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}ul=Object(ae.a)({form:"ModalServicesSelesai",enableReinitialize:!0,validate:Be})(ul);var bl=Object(q.b)(e=>({detail_barang:e.services.showModalServiceSelesai.detail_barang,initialValues:{no_faktur_services:e.services.showModalServiceSelesai.no_faktur_service,nama_customer:e.services.showModalServiceSelesai.nama_customer,alamat_customer:e.services.showModalServiceSelesai.alamat_customer,no_hp:e.services.showModalServiceSelesai.no_hp,tgl_selesai:Object(k.i)()}}))(ul);class El extends l.a.Component{constructor(e){super(e),this.state={isLoadingServicesSelesai:!1,isLoading:!1,dataservices:[],FormModal:"",pembayaran:!1,columns:[{dataField:"no_faktur_service",text:"No Faktur",footerAttrs:{colSpan:"4"},footer:"Total"},{dataField:"nama_customer",text:"Nama Customer"},{dataField:"alamat_customer",text:"Alamat Customer"},{dataField:"no_hp",text:"No Hp"},{dataField:"dp_rp",text:"Dp Rp",formatter:e=>l.a.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")},{dataField:"total",text:"Total Rp",formatter:e=>l.a.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")},{dataField:"selesai",text:"Selesai",csvExport:!1,headerClasses:"text-center",formatter:(e,a,t)=>l.a.createElement("div",{className:"row text-center"},l.a.createElement("div",{className:"col-12"},"OPEN"===a.status_proses?l.a.createElement("button",{type:"button","data-tooltip":"Service Selesai",onClick:()=>this.showModalServiceSelesai(a),className:"btn btn-success "},l.a.createElement("i",{className:"fas fa-check"})):null,"DONE"===a.status_proses?l.a.createElement("button",{type:"button","data-tooltip":"Service Ambil",onClick:()=>this.showModalServiceAmbil(a),className:"btn btn-warning"},l.a.createElement("i",{className:"fa fa-file-export"})):null,"OPEN"===a.status_proses||"DONE"===a.status_proses?l.a.createElement(l.a.Fragment,null," ",l.a.createElement("br",null),l.a.createElement("br",null)," "):l.a.createElement(l.a.Fragment,null),l.a.createElement("button",{type:"button","data-tooltip":"Service Batal",onClick:()=>this.showBatalServices(a),className:"btn btn-danger"},l.a.createElement("i",{className:"fa fa-window-close"})),"\xa0",l.a.createElement("button",{type:"button","data-tooltip":"Reprint Service",onClick:()=>this.Reprint(a),className:"btn btn-secondary"},l.a.createElement("i",{className:"fa fa-print"})))),footer:""}]},this.handleSubmit=this.handleSubmit.bind(this)}componentDidMount(){localStorage.setItem("total_rp_services",JSON.stringify([])),!1===this.state.pembayaran&&(Object(k.p)("sisa_bayar_service",[]),Object(k.p)("trx_pemabayran_service",[]))}showBatalServices(e){localStorage.setItem("total_rp_service_ambil",JSON.stringify([])),this.setState({FormModal:"SERVICE_BATAL",pembayaran:!0}),this.props.dispatch($n(e))}Reprint(e){let a={no_faktur_service:e.no_faktur_service};Object(A.e)("service/get/bynota",a).then(e=>{let a=[];for(let t=0;t<2;t++){let t="";e.data.notaservice.forEach((e,a)=>{let n=e.n_alamat_customer.length;t+="========================================\n",t+="             NOTA SERVICE               \n",t+="========================================\nTanggal          : ".concat(e.tgl_system,"\nKode Sales       : ").concat(e.kode_sales,"\nNama Customer    : ").concat(e.nama_customer,"\nNo Hp            : ").concat(e.no_hp,"\nAlamat Customer  : ").concat(e.n_alamat_customer.slice(0,20),"\nTotal Service    : ").concat(e.total_service.toLocaleString("kr-KO"),"\n"),n>20&&(t+="      ".concat(e.n_alamat_customer.slice(20,40),"\n")),n>40&&(t+="      ".concat(e.n_alamat_customer.slice(40,60),"\n")),t+="========================================\n",t+="Keterangan\n",t+="========================================\n";let l=0,r=0;e.detail_barang.forEach((a,n)=>{l+=a.ongkos;let o=a.deskripsi.length;r+=a.harga_nota,t+="Nama Barang      : ".concat(a.nama_barang,"\n"),t+="Berat            : ".concat(a.berat.toFixed(3),"\n"),t+="Jumlah           : ".concat(a.jumlah.toLocaleString("kr-KO"),"\n"),t+="Ongkos           : ".concat(a.ongkos.toLocaleString("kr-KO"),"\n"),t+="deskripsi        : ".concat(a.deskripsi.slice(0,20),"\n"),o>20&&(t+="                   ".concat(e.deskripsi.slice(20,40))),o>40&&(t+="                   ".concat(e.deskripsi.slice(40,60))),t+="========================================\n"}),t+="Total Ongkos     : ".concat(l.toLocaleString("kr-KO"),"\n"),t+="========================================\n",t+="\n\n\n\n\n\n\n"}),a.push(t)}document.getElementById("myInput").value=a.join("")}).then(()=>{console.log("masuk");const e=document.createElement("a"),a=new Blob([document.getElementById("myInput").value],{type:"text/plain;charset=utf-8"});e.href=URL.createObjectURL(a),e.download="autoprint_service.txt",document.body.appendChild(e),e.click()}).catch(e=>{})}handleSubmit(e){let a={tgl_awal:Object(k.e)(He(new Date(e.tgl_awal)).format("YYYY-MM-DD")),tgl_akhir:Object(k.e)(He(new Date(e.tgl_akhir)).format("YYYY-MM-DD"))};this.setState({isLoading:!0}),Object(A.e)("service/get/by-tanggal",a).then(e=>{Object(k.m)("tgl_laporan",JSON.stringify(a)),0===e.data.length?(Object(S.e)("info","Data Services Tidak Ada"),this.setState({isLoading:!1,dataservices:[]})):(Object(S.e)("success","Data Services Tersedia"),this.setState({isLoading:!1,dataservices:e.data}))}).catch(e=>this.errorhandling(e))}errorhandling(e){this.setState({isLoading:!1,dataservices:[]}),Object(S.e)("info",void 0===e.response?"Terjadi Kesalahan Saat Request Data":e.response.data)}showModalServiceSelesai(e){this.props.dispatch(Object(X.xb)()),this.props.dispatch(Zn(e)),this.setState({pembayaran:!1})}showModalPembayaran(){if(""===document.getElementById("tgl_ambil").value)return Object(S.e)("info","Tanggal Ambil Harus Diisi"),!1;this.props.dispatch(Object(X.xb)())}showModalServiceAmbil(e){Object(k.p)("data_service_barang",e),localStorage.setItem("total_rp_service_ambil",JSON.stringify([])),this.setState({FormModal:"SERVICE_AMBIL",pembayaran:!0}),this.props.dispatch($n(e))}simpanServicesSelesai(e){this.setState({isLoadingServicesSelesai:!0});let a={no_faktur_service:e.no_faktur_services,tgl_selesai:e.tgl_selesai};Object(A.e)("service/selesai",a).then(e=>{Object(S.d)(e.data),this.setState({isLoadingServicesSelesai:!1}),this.props.dispatch(Object(Z.d)("ModalServicesSelesai"))}).then(()=>{this.getLaporan()}).then(()=>{this.props.dispatch(Object(X.wb)()),localStorage.setItem("total_rp_services",JSON.stringify([]))}).catch(e=>{this.setState({isLoadingServicesSelesai:!1}),Object(S.e)("info","Data Services Gagal Disimpan")})}getLaporan(){let e=Object(k.g)("tgl_laporan"),a={tgl_awal:e.tgl_awal,tgl_akhir:e.tgl_akhir};Object(A.e)("service/get/by-tanggal",a).then(e=>{0===e.data.length?this.setState({isLoading:!1,dataservices:[]}):this.setState({isLoading:!1,dataservices:e.data})}).catch(e=>this.setState({isLoading:!1,dataservices:[]}))}simpanServicesAmbil(e){this.setState({isLoadingServicesSelesai:!0});let a=document.getElementById("no_faktur_services_ambil").value,t=parseInt(document.getElementById("total_bayar").value),n=parseInt(document.getElementById("total_dp").value),l=Object(k.g)("trx_pemabayran_service"),r=[],o="";l.forEach(e=>{let a={bank:"CASH"!==e.jenis?e.nama_bank:"CASH",jenis:e.jenis,keterangan:e.keterangan,fee:"CREDIT"===e.jenis?e.fee:0,jumlah_rp:"CASH"===e.jenis?parseInt(e.nominal)-parseInt(Object(k.g)("sisa_bayar_service").sisa_bayar):parseInt(e.nominal)};o=e.nominal+o,r.push(a)});let s={no_faktur_service:a,tgl_ambil:"2021-01-01",total:t,pembayaran:r};if(parseInt(t)-n>parseInt(o)){let e=parseInt(t)-n-parseInt(o);return Object(S.e)("info","Pembayaran Masih Kurang "+parseInt(e).toLocaleString("kr-KO")),!1}Object(A.e)("service/ambil",s).then(e=>{this.setState({isLoadingServicesSelesai:!1}),Object(S.d)(e.data)}).then(()=>{this.setState({isLoadingServicesSelesai:!1}),this.props.dispatch(Object(Z.d)("ModalPembayaran"))}).then(()=>{this.setState({isLoadingServicesSelesai:!1}),this.getLaporan()}).then(()=>{this.props.dispatch(Object(X.wb)()),this.setState({FormModal:"",pembayaran:!1,dataservices:[],isLoadingServicesSelesai:!1}),Object(k.p)("sisa_bayar_service",[]),Object(k.p)("sisa_bayar_service_ambil",[]),Object(k.p)("trx_pemabayran_service",[]),Object(k.p)("total_rp_service_ambil",[]),Object(k.p)("data_service_barang",[])}).catch(e=>{this.setState({isLoadingServicesSelesai:!1}),Object(S.e)("info","Data Services Gagal Disimpan")})}simpanServicesBatal(e){let a={no_faktur_service:e.no_faktur_services};Object(A.e)("service/batal",a).then(e=>{Object(S.d)(e.data)}).then(()=>{this.props.dispatch(Object(Z.d)("ModalPembayaran"))}).then(()=>{this.props.dispatch(Object(X.wb)()),this.setState({FormModal:"",pembayaran:!1,dataservices:[]})}).then(()=>{this.getLaporan()}).catch(e=>{Object(S.e)("info","Data Services Gagal Disimpan")})}back(){localStorage.setItem("total_rp_service_ambil",JSON.stringify([])),this.setState({FormModal:""}),this.setState({pembayaran:!1}),Object(k.p)("sisa_bayar_service",[]),Object(k.p)("trx_pemabayran_service",[])}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Services")),l.a.createElement("li",{className:"breadcrumb-item active"},"Lihat Services")),l.a.createElement("h1",{className:"page-header"},"Lihat Services "),l.a.createElement(Q.a,null,l.a.createElement("textarea",{style:{display:"none"},id:"myInput",rows:"100",cols:"100"}),l.a.createElement(Q.c,null,"Lihat Services"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},"SERVICE_AMBIL"===this.state.FormModal?l.a.createElement(dl,{showModalPembayaran:()=>this.showModalPembayaran(),back:()=>this.back(),onSubmit:e=>this.simpanServicesAmbil(e)}):"SERVICE_BATAL"===this.state.FormModal?l.a.createElement(hl,{back:()=>this.back(),onSubmit:e=>this.simpanServicesBatal(e)}):l.a.createElement(l.a.Fragment,null,l.a.createElement(al,{onSubmit:e=>this.handleSubmit(e),isLoading:this.state.isLoading}),l.a.createElement($.a,{keyField:"no_faktur_group",exportCsv:!1,data:this.state.dataservices,columns:this.state.columns,empty:!0,textEmpty:"Data Barang Kosong"})))),l.a.createElement(ce.a,{title:l.a.createElement(_l,{state:this.state.pembayaran}),size:this.state.pembayaran?"P":"xl",content:!0===this.state.pembayaran?l.a.createElement(il,{onSubmit:e=>this.simpanServicesAmbil(e)}):l.a.createElement(bl,{isLoadingServicesSelesai:this.state.isLoadingServicesSelesai,onSubmit:e=>this.simpanServicesSelesai(e)})}),this.state.isLoadingServicesSelesai?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}function _l(e,a){return!0===e.state?"Form Pembayaran Service Ambil":"Form Services Selesai"}El=Object(ae.a)({form:"LihatServices",enableReinitialize:!0})(El);var Al=Object(q.b)(e=>({hideModal:e.datamaster.modalDialog}),null)(El);const kl=[{value:"MEMBER",name:"MEMBER"},{value:"NONMEMBER",name:"NON MEMBER"}];class Sl extends n.Component{constructor(e){super(e),this.state={showMember:!0}}componentDidMount(){this.props.dispatch(Object(X.ob)());let e=null===localStorage.getItem("data_customer_services_tmp")?[]:JSON.parse(localStorage.getItem("data_customer_services_tmp")||[]);e&&"MEMBER"===e.jenis_pelanggan?this.setState({showMember:!1}):this.setState({showMember:!0}),this.props.change("jenis_pelanggan","NONMEMBER")}changemember(e){"MEMBER"===e?(this.setState({showMember:!1}),document.getElementById("kode_member").focus()):(document.getElementById("nama_customer").focus(),this.props.change("kode_customer",""),this.props.change("nama_customer",""),this.props.change("no_hp",""),this.props.change("alamat_customer",""),this.setState({showMember:!0}))}getMember(e){Object(A.c)("member/get/by-kode-member/"+e).then(e=>{0===e.data.length?Object(S.e)("info","Member Yang Anda Masukan Tidak Ada !!!"):e.data.forEach((e,a)=>{this.props.change("nama_customer",e.nama_customer),this.props.change("no_hp",e.no_hp),this.props.change("alamat_customer",e.alamat_customer)})}).catch(e=>{Object(S.e)("info","Terjadi Kesalahan SIlahkan Ulangi Kembali !!!")})}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"kode_sales",label:"Pilih Kode Sales",placeholder:"Masukan Kode Sales",options:this.props.DataSales.filter(e=>void 0!==e.kode_sales).map(e=>{return{value:e.kode_sales,name:e.kode_sales}}),component:te.f})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"jenis_pelanggan",label:"Pilih Pelanggan",onChange:e=>this.changemember(e),placeholder:"Silahkan Pilih Pelanggan",options:kl,component:te.f})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{id:"kode_member",name:"kode_customer",onChange:e=>this.getMember(e.target.value),component:te.e,type:"text",readOnly:this.state.showMember,label:"Kode Customer",placeholder:"Masukan Kode Customer"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{id:"nama_customer",name:"nama_customer",component:te.e,type:"text",label:"Nama Customer",placeholder:"Masukan Nama Customer"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"no_hp",component:te.e,type:"number",label:"No Hp",placeholder:"Masukan No Hp"})),l.a.createElement("div",{className:"col-4"},l.a.createElement(ee.a,{name:"alamat_customer",component:te.e,type:"textarea",label:"Alamat Customer",placeholder:"Masukan Alamat Customer"}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-8"}),l.a.createElement("div",{className:"col-4"},l.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.props.isLoadingDataCustomer,type:"submit"},this.props.isLoadingDataCustomer?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))))}}Sl=Object(ae.a)({form:"ModalDataCustomer",enableReinitialize:!0,validate:ze.a})(Sl);var fl=Object(q.b)(e=>{let a=null===localStorage.getItem("data_customer_services_tmp")?[]:JSON.parse(localStorage.getItem("data_customer_services_tmp")||[]);return{initialValues:{kode_sales:a.kode_sales||"",jenis_pelanggan:a.jenis_pelanggan||"",kode_customer:a.kode_customer||"",nama_customer:a.nama_customer||"",no_hp:a.no_hp||"",alamat_customer:a.alamat_customer||""},DataSales:e.datamaster.getDataSales}},null)(Sl);const yl=Object(bn.v)({prefix:"Rp. ",locale:"kr-KO"}),Ol=[{value:"CASH",name:"CASH"},{value:"DEBET",name:"DEBET"},{value:"TRANSFER",name:"TRANSFER"},{value:"CREDIT",name:"CREDIT"}];class Cl extends bn.b{constructor(e){super(e),this.state={isLoading:!1,type_pembayaran:"CASH",lebih:!1,columns:[{dataField:"type",text:"Type",footerAttrs:{colSpan:"1"},footer:"Grand Total"},{dataField:"Total",text:"Total",footer:""}]},this.setStartDate=this.setStartDate.bind(this)}componentDidMount(){this.props.dispatch(Object(X.ob)());let e=JSON.parse(Object(bn.E)("data_barang_services")),a=0;e.forEach((e,t)=>{a+=e.total,this.props.change("grand_total_pembayaran",a),this.props.change("harus_bayar_rp",a)}),this.props.change("jenis","CASH"),setTimeout(()=>{document.getElementById("cash_trx_penjualan").focus()},100)}hitungTotal(){this.props.change("kembali",this.props.kembali),this.props.change("nominal_kembali",this.props.nominal_kembali)}pilihPembyaran(e){"CASH"===e?this.setState({type_pembayaran:"CASH"}):"TRANSFER"===e?this.setState({type_pembayaran:"TRANSFER"}):"DEBET"===e?this.setState({type_pembayaran:"DEBET"}):this.setState({type_pembayaran:"CREDIT"}),this.props.change("cash","")}setStartDate(e){this.setState({tgl_awal:new Date(e)})}copyValue(e){this.props.change("cash",parseInt(Object(bn.j)(e)))}render(){return bn.m.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},bn.m.createElement("div",{className:"row"},bn.m.createElement("div",{className:"col-6"},bn.m.createElement(bn.c,Object.assign({name:"grand_total_pembayaran",component:bn.o,type:"text",onChange:this.hitungTotal(),readOnly:!0},yl,{label:"Total Harga Jual",placeholder:"Total Harga Jual"}))),bn.m.createElement("div",{className:"col-6"},bn.m.createElement(bn.c,Object.assign({id:"harus_bayar_rp",name:"harus_bayar_rp",component:bn.o,type:"text",onChange:this.hitungTotal(),readOnly:!0},yl,{label:"Harus Bayar Rp",placeholder:"Harus Bayar Rp"}))),bn.m.createElement("div",{className:"col-6"},bn.m.createElement(bn.c,{name:"jenis",label:"Pilih Jenis Bayar",placeholder:"Pilih Jenis Pembayaran",options:Ol,onChange:e=>this.pilihPembyaran(e),component:bn.p})),bn.m.createElement("div",{className:"col-6",style:{display:"CASH"===this.state.type_pembayaran?"none":(this.state.type_pembayaran,"block")}},bn.m.createElement(bn.c,{tabIndex:"1",name:"nama_bank",id:"nama_bank",component:bn.o,type:"text",label:"Bank",placeholder:"Masukan Nama Bank"})),bn.m.createElement("div",{className:"col-6",style:{display:"CASH"===this.state.type_pembayaran?"none":"DEBET"===this.state.type_pembayaran?"none":"block"}},bn.m.createElement(bn.c,{tabIndex:"1",name:"no_card",id:"no_card",component:bn.o,type:"text",label:"TRANSFER"===this.state.type_pembayaran?"No Rek":"Card No",placeholder:"TRANSFER"===this.state.type_pembayaran?"Masukan No Rek":"Masukan Card No"})),bn.m.createElement("div",{className:"col-6"},bn.m.createElement(bn.c,Object.assign({tabIndex:"1",name:"cash",id:"cash_trx_penjualan",component:bn.o,type:"text",label:"Nominal",onChange:this.hitungTotal()},yl,{normalize:bn.j,placeholder:"Masukan Nominal"}))),bn.m.createElement("div",{className:"col-6",style:{display:"CREDIT"===this.state.type_pembayaran?"block":"none"}},bn.m.createElement(bn.c,{tabIndex:"1",name:"fee",id:"fee",component:bn.o,type:"text",label:"Fee (%)",normalize:bn.j,placeholder:"5"})),bn.m.createElement("div",{className:"col-6 d-none"},bn.m.createElement(bn.c,{tabIndex:"1",name:"nominal_kembali",component:bn.o,type:"text",label:"Nominal",placeholder:"Masukan Nominal"})),bn.m.createElement("div",{className:"col-6"},bn.m.createElement(bn.c,{name:"kembali",id:"sisa_bayar",component:bn.o,type:"text",readOnly:!0,label:"Sisa",onFocus:e=>this.copyValue(e.target.value),placeholder:"Sisa Pembayaran"})),bn.m.createElement("div",{className:"CASH"===this.state.type_pembayaran?"col-6 text-right":"TRANSFER"===this.state.type_pembayaran?"col-6 text-right":"col-12 text-right"},bn.m.createElement("br",null),bn.m.createElement("label",null,"\xa0"),bn.m.createElement("button",{tabIndex:"2",disabled:this.props.notif,className:"btn btn-primary"}," ",bn.m.createElement("i",{className:"fa fa-plus"})))))}}Cl=Object(bn.I)({form:"HeadInputPembayaran",enableReinitialize:!0,validate:Ce.a})(Cl);const Nl=Object(bn.w)("HeadInputPembayaran");var xl=Object(bn.t)(e=>{const a=Nl(e,"grand_total_pembayaran","harus_bayar_rp","cash"),t=a.cash,n=a.harus_bayar_rp;let l=JSON.parse(localStorage.getItem("trx_pemabayaran_services"))||[],r=0;l.forEach(e=>{r=e.nominal+r});let o=parseFloat(r||0)-parseFloat(n||0);return{kembali:o.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),nominal_kembali:o+parseInt(t),initialValues:{estimasi_pesanan:Object(bn.A)()}}})(Cl);class jl extends bn.b{constructor(e){super(e),this.state={isLoading:!1,type_pembayaran:"CASH",columns:[{dataField:"jenis",text:"Jenis",footerAttrs:{colSpan:"2"},footer:"Grand Total"},{dataField:"keterangan",text:"Keterangan"},{dataField:"nominal",text:"Total",formatter:e=>bn.m.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(e,a,t)=>bn.m.createElement("div",{className:"row text-center"},bn.m.createElement("div",{className:"col-12"},bn.m.createElement("button",{type:"button",disabled:"TITIPAN"===a.keterangan,onClick:()=>this.hapusdata(t),className:"btn btn-danger mr-3"},bn.m.createElement("i",{className:"fa fa-trash"})))),footer:""}]}}hapusdata(e){bn.q.fire({title:"Anda Yakin !!",text:"Ingin Menghapus Data Ini ?",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(a=>{if(a.isConfirmed){let a=Object(bn.z)("trx_pemabayaran_services");a.splice(e,1),Object(bn.K)("trx_pemabayaran_services",a),this.setState({status:"berhasil"})}})}simpanPembayaran(e){if(void 0===e.no_card&&"CASH"!==e.jenis&&"DEBET"!==e.jenis)return Object(bn.s)("info","Nomor kartu tidak boleh kosong"),!1;let a={total_transaksi:e.harus_bayar_rp,sisa_bayar:e.nominal_kembali};Object(bn.K)("sisa_bayar_services",a);let t=JSON.parse(localStorage.getItem("trx_pemabayaran_services"))||[];if("CASH"===e.jenis||t.length){if("CASH"!==e.jenis){if(e.kembali.replace(/[^0-9]/g,"")-e.cash<0&&0!==parseInt(e.kembali))return Object(bn.s)("info","Pembayaran tidak boleh lebih dari sisa"),!1;if(t.reduce((e,a)=>e+a.nominal,0)>=e.harus_bayar_rp)return Object(bn.s)("info","Pembayaran Sudah Cukup"),!1}}else if(e.kembali.replace(/[^0-9]/g,"")-e.cash<0)return Object(bn.s)("info","Pembayaran tidak boleh lebih dari sisa"),!1;if(Object(bn.K)("estimasi_service",Object(bn.x)(Object(bn.G)(new Date(e.estimasi_service)).format("YYYY-MM-DD"))),t.findIndex(e=>"CASH"===e.jenis)>=0){if(e.kembali.replace(/[^0-9]/g,"")-e.cash<0&&t.reduce((e,a)=>e+a.nominal,0)>e.harus_bayar_rp)return Object(bn.s)("info","Pembayaran Sudah Cukup"),!1;if(t.reduce((e,a)=>e+a.nominal,0)>=e.harus_bayar_rp)return Object(bn.s)("info","Pembayaran Sudah Cukup"),!1}if(Object(bn.K)("estimasi_pesanan",Object(bn.x)(Object(bn.G)(new Date(e.estimasi_pesanan)).format("YYYY-MM-DD"))),-1===t.findIndex(a=>a.jenis===e.jenis)){let a="";a="CASH"===e.jenis?"CASH":"TRANSFER"===e.jenis?e.no_card+" - "+e.nama_bank:e.nama_bank;let n={jenis:e.jenis,nominal:parseInt(e.cash),nama_bank:void 0!==e.nama_bank?e.nama_bank.toUpperCase():"-",fee:"CREDIT"===e.jenis?parseInt(e.fee):0,no_card:e.no_card||"-",keterangan:a.toUpperCase()};t.push(n),this.setState({masuk:!0}),Object(bn.K)("trx_pemabayaran_services",t)}else{let a=Object(bn.z)("trx_pemabayaran_services");a=a.map(a=>(a.jenis===e.jenis&&(a.nominal+=parseInt(e.cash)),a)),Object(bn.K)("trx_pemabayaran_services",a),this.setState({status:!0})}}render(){return bn.m.createElement(bn.m.Fragment,null,bn.m.createElement(xl,{onSubmit:e=>this.simpanPembayaran(e)}),bn.m.createElement("hr",null),bn.m.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},bn.m.createElement(bn.r,{keyField:"jenis",exportCsv:!1,data:Object(bn.z)("trx_pemabayaran_services")||[],columns:this.state.columns,empty:!0,pagination:"off",textEmpty:"Data Pembayaran Kosong"}),bn.m.createElement("div",{className:"row"},bn.m.createElement("div",{className:"col-6"}),bn.m.createElement("div",{className:"col-6 text-right"},bn.m.createElement("button",{className:"btn btn-primary",disabled:this.props.isLoading,onClick:()=>this.props.bayarSekarang(),type:"button"},this.props.isLoading?bn.m.createElement(bn.m.Fragment,null,bn.m.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Diproses"):"Bayar Sekarang"))),this.props.isLoading?bn.m.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null))}}jl=Object(bn.I)({form:"ModalPembayaran",enableReinitialize:!0,validate:Ce.a})(jl);var vl=Object(bn.t)(e=>{let a=Object(bn.z)("data_barang_penjualan_tmp")||[],t="PENJUALAN";return a.forEach(e=>{t="-"===e.no_titip_group?"PENJUALAN":"TITIPAN"}),{status:t}})(jl);var Ll=e=>{const a={};return e.nama_barang||(a.nama_barang="Nama Barang Tidak Boleh Kosong"),e.berat||(a.berat="Berat Tidak Boleh Kosong"),e.ongkos||(a.ongkos="Ongkos Tidak Boleh Kosong"),a};const Tl=Object(ne.createNumberMask)({prefix:"Rp. ",locale:"kr-KO"});class Il extends n.Component{constructor(e){super(e),this.state={isLoading:!1,harga_jual:!0,berat_jual:!0,hargapergram:!0,ongkos:!0,total:!0}}componentDidMount(){this.props.dispatch(Object(X.ob)()),setTimeout(()=>{document.getElementById("nama_barang").focus()},100)}getBarcode(e){-1===(JSON.parse(localStorage.getItem("data_barang_penjualan_tmp"))||[]).findIndex(a=>a.kode_barcode===e)?Object(A.c)("barang/get/by-kode-barcode/"+e).then(e=>{0===e.data.length?(Object(S.e)("info","Data Yang Dicari Tidak Ada"),this.props.change("nama_barang",""),this.props.change("nama_atribut",""),this.props.change("berat_atribut",""),this.props.change("harga_atribut",""),this.props.change("berat","")):e.data.forEach((e,a)=>{this.props.change("nama_barang",e.nama_barang),this.props.change("nama_atribut",e.nama_atribut),this.props.change("berat_atribut",e.berat_atribut),this.props.change("harga_atribut",e.harga_atribut),this.props.change("berat",e.berat),this.setState({harga_jual:!1,berat_jual:!1,hargapergram:!1,ongkos:!1})})}).catch(e=>{Object(S.e)("info","Data Yang Dicari Tidak Ada")}):Object(S.e)("info","Barang Sudah Ada Di Tabel")}hitungTotal(){this.props.change("total",this.props.total)}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 col-md-6"},l.a.createElement(ee.a,{tabIndex:"1",id:"nama_barang",name:"nama_barang",label:"Nama Barang",type:"text",placeholder:"Masukan Nama Barang",component:te.e})),l.a.createElement("div",{className:"col-12 col-md-6"},l.a.createElement(ee.a,{tabIndex:"2",name:"berat",label:"Berat Barang",onChange:this.hitungTotal(),type:"text",normalize:Oe.a,placeholder:"Masukan Berat Barang",component:te.e}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 col-md-6"},l.a.createElement(ee.a,{tabIndex:"3",name:"jumlah",label:"Jumlah",type:"number",readOnly:!0,defaultValue:"1",onChange:this.hitungTotal(),placeholder:"Masukan Jumlah",component:te.e})),l.a.createElement("div",{className:"col-12 col-md-6"},l.a.createElement(ee.a,Object.assign({tabIndex:"4",name:"ongkos",label:"Ongkos",type:"telp"},Tl,{placeholder:"Masukan Ongkos",component:te.e})))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 col-md-12"},l.a.createElement(ee.a,Object.assign({name:"total",label:"Total",type:"telp",readOnly:!0,placeholder:"Masukan Total",component:te.e},Tl))),l.a.createElement("div",{className:"col-12 col-md-12"},l.a.createElement(ee.a,{tabIndex:"5",name:"deskripsi",label:"Deskripsi",type:"textarea",placeholder:"Masukan Deskripsi",component:te.e}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"}),l.a.createElement("div",{className:"col-6"},l.a.createElement("button",{tabIndex:"6",className:"btn btn-primary btn-block",disabled:this.props.submitting,type:"submit"},this.props.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))))}}Il=Object(ae.a)({form:"ModalTambahBarang",enableReinitialize:!0,validate:Ll})(Il);var Bl=Object(q.b)(e=>{const a=Object(ye.a)("ModalTambahBarang")(e,"ongkos","jumlah"),t=a.ongkos,n=a.jumlah;return{initialValues:{jumlah:"1"},total:parseFloat(t||0)*parseFloat(n||0)||0,DataSales:e.datamaster.getDataSales}})(Il);class Dl extends n.Component{constructor(e){super(e),this.state={isLoading:!1,isLoadingBatal:!1,isLoadingDataCustomer:!1,FormModal:""}}componentDidMount(){this.props.dispatch(Object(X.ob)())}getBarcode(e){Object(A.c)("barang/get/by-kode-barcode/"+e).then(e=>{0===e.data.length?(Object(S.e)("info","Data Yang Dicari Tidak Ada"),this.props.change("nama_barang",""),this.props.change("nama_atribut",""),this.props.change("berat_atribut",""),this.props.change("harga_atribut","")):e.data.forEach((e,a)=>{this.props.change("nama_barang",e.nama_barang),this.props.change("nama_atribut",e.nama_atribut),this.props.change("berat_atribut",e.berat_atribut),this.props.change("harga_atribut",e.harga_atribut)})}).catch(e=>{Object(S.e)("info","Data Yang Dicari Tidak Ada")})}handleSubmit(e){let a={alamat_customer:e.alamat_customer||"-",jenis_pelanggan:e.jenis_pelanggan||"NONMEMBER",kode_customer:e.kode_member||"NON MEMBER",kode_sales:e.kode_sales,nama_customer:e.nama_customer||"REGULER",no_hp:e.no_hp||"-"};this.setState({isLoadingDataCustomer:!0}),localStorage.setItem("data_customer_services_tmp",JSON.stringify(a)),setTimeout(()=>{this.setState({isLoadingDataCustomer:!1}),this.props.dispatch(Object(X.wb)())},500)}simpanBarang(e){e={nama_barang:e.nama_barang.toUpperCase()||"-",berat:parseFloat(e.berat)||0,jumlah:parseFloat(e.jumlah)||0,ongkos:parseInt(e.ongkos)||0,total:parseInt(e.total)||0,deskripsi:void 0===e.deskripsi?e.nama_barang.toUpperCase():e.deskripsi.toUpperCase()||"-"};let a=JSON.parse(localStorage.getItem("data_barang_services"))||[];this.props.dispatch(Object(Z.d)("ModalTambahBarang")),document.getElementById("nama_barang").focus(),a.push(e),localStorage.setItem("data_barang_services",JSON.stringify(a)),this.props.dispatch(qn(a)),this.props.dispatch(Object(X.wb)()),Object(S.e)("success","Barang Berhasil Ditambahkan"),this.props.change("nama_barang","")}bayarSekarang(e){if(Object(k.g)("trx_pemabayaran_services").length<=0)return Object(S.e)("info","Mohon Tambahkan metode pembayaran minimal 1.."),!1;this.setState({isLoading:!0});let a=Object(k.g)("trx_pemabayaran_services"),t=[],n=0;a.forEach(e=>{let a={jenis:e.jenis,keterangan:e.keterangan,fee:"CREDIT"===e.jenis&&e.fee||0,jumlah_rp:e.nominal>=parseInt(Object(k.g)("sisa_bayar_services").total_transaksi)?parseInt(e.nominal)-parseInt(Object(k.g)("sisa_bayar_services").sisa_bayar):parseInt(e.nominal)};n=e.nominal+n,t.push(a)});let l=JSON.parse(localStorage.getItem("data_customer_services_tmp")),r=JSON.parse(localStorage.getItem("data_barang_services")),o=[];r.forEach((e,a)=>{let t={nama_barang:e.nama_barang,berat:e.berat,jumlah:e.jumlah,ongkos:e.ongkos,total_rp:e.total_rp,deskripsi:e.deskripsi};o.push(t)});let s={kode_sales:l.kode_sales,nama_customer:l.nama_customer,kode_member:"NONMEMBER"===l.jenis_pelanggan?l.jenis_pelanggan:l.kode_customer,alamat_customer:l.alamat_customer,no_hp:l.no_hp,total:parseInt(Object(k.g)("sisa_bayar_services").total_transaksi),dp_rp:parseInt(n)<parseInt(Object(k.g)("sisa_bayar_services").total_transaksi)?parseInt(n):parseInt(n)>=parseInt(Object(k.g)("sisa_bayar_services").total_transaksi)?parseInt(Object(k.g)("sisa_bayar_services").total_transaksi):0,detail_barang:o,pembayaran:t};Object(A.e)("service/simpan",s).then(e=>{this.setState({isLoading:!1}),Object(S.e)("success",e.data.message)}).then(()=>{this.props.dispatch(Object(X.wb)())}).then(()=>{this.props.dispatch(Object(Z.d)("ModalPembayaran"))}).then(()=>{localStorage.setItem("data_customer_services_tmp",JSON.stringify([])),localStorage.setItem("data_barang_services",JSON.stringify([])),localStorage.setItem("sisa_bayar_services",JSON.stringify([])),localStorage.setItem("trx_pemabayaran_services",JSON.stringify([])),this.setState({isLoading:!1})}).then(()=>{this.props.dispatch(qn([]))}).catch(e=>this.errorhandling(e))}errorhandling(e){this.setState({isLoading:!1}),Object(S.e)("info","Transaksi Gagal Disimpan")}ShowModalBarang(){this.props.dispatch(Object(X.xb)()),this.setState({FormModal:"ShowModalBarang"})}ShowModalCustomer(){this.setState({FormModal:"ShowModalCustomer"}),this.props.dispatch(Object(X.xb)())}showModalPembayaran(){let e=JSON.parse(localStorage.getItem("data_customer_services_tmp"))||[],a=JSON.parse(localStorage.getItem("data_barang_services"))||[];0===e.length||0===a.length?Object(S.e)("info","Data Customer Atau Data Barang Belum Diisi !!!"):(this.setState({FormModal:"ShowModalPembayaran"}),this.props.dispatch(Object(X.xb)()))}batalServices(){this.setState({isLoadingBatal:!0}),setTimeout(()=>{localStorage.setItem("data_customer_services_tmp",JSON.stringify([])),this.props.dispatch(qn([])),localStorage.setItem("data_barang_services",JSON.stringify([])),this.setState({isLoadingBatal:!1})},500)}render(){return l.a.createElement(Q.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement($.a,{keyField:"nama_barang",exportCsv:!1,data:0===this.props.setTransaksiServices.length?JSON.parse(localStorage.getItem("data_barang_services"))||[]:this.props.setTransaksiServices||[],tambahData:!0,btnText:"Tambah Data Customer",columns:this.props.columns,btnOptional:!0,namaCustomer:!0,jenisCustomer:!0,form:"Service",btnTextOptional:"Tambah Data Barang",handleClick:()=>this.ShowModalCustomer(),handleClickOptional:()=>this.ShowModalBarang(),empty:!0,textEmpty:"Data Barang Kosong"}))),l.a.createElement(ce.a,{size:"ShowModalCustomer"===this.state.FormModal?"xl":"ShowModalBarang"===this.state.FormModal?"L":"P",title:l.a.createElement(Ml,{state:this.state.FormModal}),content:"ShowModalCustomer"===this.state.FormModal?l.a.createElement(fl,{isLoadingDataCustomer:this.state.isLoadingDataCustomer,onSubmit:e=>this.handleSubmit(e)}):"ShowModalBarang"===this.state.FormModal?l.a.createElement(Bl,{onSubmit:e=>this.simpanBarang(e)}):l.a.createElement(vl,{isLoading:this.state.isLoading,bayarSekarang:e=>this.bayarSekarang(e)})}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-4"},l.a.createElement("button",{onClick:()=>this.showModalPembayaran(),className:"btn btn-primary",disabled:this.props.isLoading,type:"submit"},this.props.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data Services"),"\xa0",l.a.createElement("button",{onClick:()=>this.batalServices(),className:"btn btn-warning",disabled:this.state.isLoadingBatal,type:"button"},this.state.isLoadingBatal?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Reset"):"Reset"))))}}function Ml(e,a){return"ShowModalCustomer"===e.state?"Form Data Customer":"ShowModalBarang"===e.state?"Form Data Barang":"Form Pembayaran"}Dl=Object(ae.a)({form:"HeadServices",enableReinitialize:!0,validate:Je.a})(Dl);var wl=Object(q.b)(e=>({setTransaksiServices:e.services.setTransaksiServices,DataSales:e.datamaster.getDataSales,hideModal:e.datamaster.modalDialog}),null)(Dl);var Kl=Object(q.b)(e=>({dataservices:e.services.setTransaksiServices}),null)(class extends l.a.Component{constructor(e){super(e),this.state={isLoading:!1,columns:[{dataField:"nama_barang",text:"Nama Barang",footer:"Total"},{dataField:"berat",text:"Berat",footer:e=>e.reduce((e,a)=>e+a,0).toFixed(1)},{dataField:"jumlah",text:"Jumlah",formatter:e=>l.a.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")},{dataField:"ongkos",text:"Ongkos",formatter:e=>l.a.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")},{dataField:"total",text:"Total Rp",formatter:e=>l.a.createElement("span",null,parseInt(e).toLocaleString("kr-KO")),footer:e=>parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")},{dataField:"deskripsi",text:"Deskripsi",footer:""},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:(e,a,t)=>l.a.createElement("div",{className:"row text-center"},l.a.createElement("div",{className:"col-12"},l.a.createElement("button",{type:"button",onClick:()=>this.hapusdata(t),className:"btn btn-danger mr-3"},l.a.createElement("i",{className:"fa fa-trash"})))),footer:""}]},this.handleSubmit=this.handleSubmit.bind(this)}hapusdata(e){_.a.fire({title:"Anda Yakin !!",text:"Ingin Menghapus Data Ini ?",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(a=>{if(a.isConfirmed){let a=JSON.parse(localStorage.getItem("data_barang_services"));a.splice(e,1),localStorage.setItem("data_barang_services",JSON.stringify(a)),this.props.dispatch(qn(a)),this.setState({berhasil:!0})}})}componentWillUnmount(){localStorage.setItem("data_customer_services_tmp",JSON.stringify([])),localStorage.setItem("data_barang_services",JSON.stringify([]))}handleSubmit(e){}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Services")),l.a.createElement("li",{className:"breadcrumb-item active"},"Transaksi Services")),l.a.createElement("h1",{className:"page-header"},"Transaksi Services "),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"Transaksi Services"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement(wl,{isLoading:this.state.isLoading,columns:this.state.columns})),l.a.createElement("br",null)))}});class Pl extends n.Component{constructor(e){super(e),this.state={}}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-4"},l.a.createElement("button",{className:"btn btn-primary btn-block",type:"button",onClick:this.props.btnKosongkanDataOpname},"Kosongkan Data Opname")),l.a.createElement("div",{className:"col-4"},l.a.createElement("button",{onClick:this.props.lanjutOpname,className:"btn btn-primary btn-block",type:"button"},"Lanjut Opname")),l.a.createElement("div",{className:"col-4"},l.a.createElement("button",{className:"btn btn-primary btn-block",onClick:this.props.lihatstockopname,disabled:this.props.loadingLihatSTockOpname,type:"button"},this.props.loadingLihatSTockOpname?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Lihat Hasil Opname"):"Lihat Hasil Opname"))))}}Pl=Object(ae.a)({form:"HeadStockOpname",enableReinitialize:!0})(Pl);var Fl=Object(q.b)()(Pl);var Hl=e=>{const a={};return e.baki_opname||(a.baki_opname="Kode Baki Tidak Boleh Kosong"),a};class Rl extends n.Component{constructor(e){super(e),this.state={batal:!1,isLoadingKosongkanBaki:!1}}kosongkanDataBaki(){Object(A.b)("opname/kosongkan").then(e=>{Object(S.e)("success",e.data.message)}).catch(e=>{Object(S.e)("info","Terjadi Kesalahan Saat Mengirim Data")})}batal(){this.props.dispatch(Object(X.wb)())}componentDidMount(){this.props.dispatch(Object(X.hb)())}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit,onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("button",{className:"btn btn-primary btn-block",onClick:()=>this.kosongkanDataBaki(),disabled:this.state.isLoadingKosongkanBaki,type:"button"},this.state.isLoadingKosongkanBaki?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Kosongkan Data Opname"):"Kosongkan Data Opname"),l.a.createElement("br",null)),l.a.createElement("div",{className:"col-12"},l.a.createElement(ee.a,{name:"baki_opname",label:"Baki Opname",placeholder:"Pilih Baki Opname",options:this.props.getDataBaki.filter(e=>void 0!==e.kode_baki).map(e=>{return{value:e.kode_baki,name:e.kode_baki+" - "+e.nama_baki}}),component:te.f})),l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.props.isLoadingBakiOpname,type:"submit"},this.props.isLoadingBakiOpname?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Opname"):"Opname")),l.a.createElement("div",{className:"col-6"},l.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.state.batal,type:"button",onClick:()=>this.batal()},this.state.batal?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Batal"):"Batal"))))))}}Rl=Object(ae.a)({form:"KosongKanDataOpname",enableReinitialize:!0,validate:Hl})(Rl);var Jl=Object(q.b)(e=>({getDataBaki:e.datamaster.getDataBaki}))(Rl);class zl extends n.Component{constructor(e){super(e),this.state={}}cekBarcode(e){let a={kode_barcode:e};Object(A.e)("opname/add",a).then(e=>{Object(S.e)("success","Data Berhasil Ditambahkan"),console.log(e.data),e.data.barang.forEach((e,a)=>{this.props.change("kode_toko",e.kode_toko),this.props.change("kode_dept",e.kode_dept),this.props.change("nama_barang",e.nama_barang),this.props.change("nama_atribut",e.nama_atribut),this.props.change("kode_intern",e.kode_intern),this.props.change("berat",e.berat)})}).catch(e=>{this.props.change("kode_toko",""),this.props.change("kode_dept",""),this.props.change("nama_barang",""),this.props.change("nama_atribut",""),this.props.change("kode_intetn",""),this.props.change("berat",""),Object(S.e)("info",e.response.data)})}batal(){this.props.dispatch(Object(X.wb)())}render(){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement(ee.a,{name:"kode_barcode",onChange:e=>this.cekBarcode(e.target.value),label:"Kode Barcode",type:"text",normalize:e=>e.replace(/[^\d]/g,""),placeholder:"Silahkan Masukan Kode Barcode",component:te.e})),l.a.createElement("div",{className:"col-6"},l.a.createElement(ee.a,{name:"kode_toko",label:"Kode Baki",type:"text",readOnly:!0,placeholder:"Silahkan Masukan Kode Baki",component:te.e})),l.a.createElement("div",{className:"col-6"},l.a.createElement(ee.a,{name:"kode_dept",type:"text",readOnly:!0,label:"Kode Jenis",placeholder:"Silahkan Masukan Kode Jenis",component:te.e})),l.a.createElement("div",{className:"col-6"},l.a.createElement(ee.a,{name:"kode_intern",type:"text",readOnly:!0,label:"Kode Intern",placeholder:"Silahkan Masukan Kode Intern",component:te.e})),l.a.createElement("div",{className:"col-6"},l.a.createElement(ee.a,{name:"berat",type:"text",readOnly:!0,label:"Berat",placeholder:"Silahkan Masukan Berat",component:te.e})),l.a.createElement("div",{className:"col-6"},l.a.createElement(ee.a,{name:"nama_barang",readOnly:!0,type:"text",label:"Nama Barang",placeholder:"Silahkan Masukan Nama Barang",component:te.e})),l.a.createElement("div",{className:"col-6"},l.a.createElement(ee.a,{readOnly:!0,type:"text",name:"nama_atribut",label:"Nama Atribut",placeholder:"Silahkan Masukan Nama Atribut",component:te.e})),l.a.createElement("div",{className:"col-12"},l.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.state.batal,type:"button",onClick:()=>this.batal()},"Kembali")))}}zl=Object(ae.a)({form:"ProsesOpname",enableReinitialize:!0})(zl);var Gl=Object(q.b)()(zl);class Ul extends n.Component{constructor(e){super(e),this.state={}}render(){return l.a.createElement($.a,{keyField:"kode_barcode",data:this.props.data,columns:this.props.tbl_barang_tidak_ketemu,empty:!0,textEmpty:"Data Barang Kosong"})}}Ul=Object(ae.a)({form:"TabelLihatBarangTidakKetemu",enableReinitialize:!0})(Ul);var Yl=Object(q.b)()(Ul);class Vl extends n.Component{constructor(e){super(e),this.state={}}render(){return l.a.createElement($.a,{keyField:"kode_barcode",data:this.props.data,columns:this.props.tbl_barang_ketemu,empty:!0,textEmpty:"Data Barang Kosong"})}}Vl=Object(ae.a)({form:"TabelListBarangKetemu",enableReinitialize:!0})(Vl);var Wl=Object(q.b)()(Vl);class Ql extends l.a.Component{constructor(e){super(e),this.state={isLoading:!1,FormModal:"",barangHilang:[],barangKetemu:[],isLoadingBakiOpname:!1,loadingLihatSTockOpname:!1,tbl_barang_tidak_ketemu:[{dataField:"kode_toko",text:"Kode Baki ",footer:"",footerAttrs:{colSpan:"3"}},{dataField:"kode_barcode",text:"Kode Barcode"},{dataField:"kode_group",text:"Kategori"},{dataField:"kode_dept",text:"Kode Jenis",footer:"Total Qty"},{dataField:"nama_barang",text:"Nama Barang",footer:(e,a)=>null===localStorage.getItem("total_qty_brg_hilang")?0:parseInt(localStorage.getItem("total_qty_brg_hilang"))},{dataField:"nama_atribut",text:"Nama Atribut",footer:"Total Berat"},{dataField:"berat",text:"Berat",footer:(e,a)=>null===localStorage.getItem("total_berat_brg_hilang")?0:parseFloat(localStorage.getItem("total_berat_brg_hilang")).toFixed(3)}],tbl_barang_ketemu:[{dataField:"kode_toko",text:"Kode Baki ",footer:"",footerAttrs:{colSpan:"3"}},{dataField:"kode_barcode",text:"Kode Barcode"},{dataField:"kode_group",text:"Kategori"},{dataField:"kode_dept",text:"Kode Jenis",footer:"Total Qty"},{dataField:"nama_barang",text:"Nama Barang",footer:(e,a)=>null===localStorage.getItem("total_qty_brg_ketemu")?0:parseInt(localStorage.getItem("total_qty_brg_ketemu"))},{dataField:"nama_atribut",text:"Nama Atribut",footer:"Total Berat"},{dataField:"berat",text:"Berat",footer:(e,a)=>null===localStorage.getItem("total_berat_brg_ketemu")?0:parseFloat(localStorage.getItem("total_berat_brg_ketemu")).toFixed(3)}]},this.btnOpname=this.btnOpname.bind(this)}componentDidMount(){localStorage.setItem("total_berat_brg_ketemu",0),localStorage.setItem("total_berat_brg_hilang",0),localStorage.setItem("total_qty_brg_ketemu",0),localStorage.setItem("total_qty_brg_hilang",0)}componentWillUnmount(){localStorage.setItem("total_berat_brg_ketemu",0),localStorage.setItem("total_berat_brg_hilang",0),localStorage.setItem("total_qty_brg_ketemu",0),localStorage.setItem("total_qty_brg_hilang",0)}btnOpname(e){this.setState({isLoadingBakiOpname:!0});let a={kode_baki:e.baki_opname};Object(A.e)("opname/by-kode-baki/",a).then(e=>{Object(S.e)("success",e.data.message),this.props.dispatch(Object(Z.d)("KosongKanDataOpname"))}).then(()=>{this.setState({isLoadingBakiOpname:!1}),this.props.dispatch(Object(X.wb)())}).catch(e=>{Object(S.e)("info","Terjadi Kesalahan Saat Mengirim Data")})}btnKosongkanDataOpname(){this.props.dispatch(Object(X.xb)()),this.setState({FormModal:"KOSONGKANOPNAME"})}lanjutOpname(){this.props.dispatch(Object(X.xb)()),this.setState({FormModal:"LANJUTOPNAME"})}lihatstockopname(){this.setState({loadingLihatSTockOpname:!0}),Object(A.c)("opname/get/hasil").then(e=>{this.setState({loadingLihatSTockOpname:!1}),e.data.forEach(e=>{let a=e.barang_ketemu.map(e=>e.berat).reduce((e,a)=>e+a,0),t=e.barang_hilang.map(e=>e.berat).reduce((e,a)=>e+a,0);localStorage.setItem("total_berat_brg_ketemu",JSON.stringify(a)),localStorage.setItem("total_berat_brg_hilang",JSON.stringify(t)),localStorage.setItem("total_qty_brg_ketemu",JSON.stringify(e.barang_ketemu.length)),localStorage.setItem("total_qty_brg_hilang",JSON.stringify(e.barang_hilang.length)),this.setState({barangKetemu:e.barang_ketemu,barangHilang:e.barang_hilang})})}).catch(e=>{this.setState({loadingLihatSTockOpname:!1}),Object(S.e)("info",e.response.data)})}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Stock Opname")),l.a.createElement("li",{className:"breadcrumb-item active"},"Stock Opname")),l.a.createElement("h1",{className:"page-header"},"Stock Opname "),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"Stock Opname"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement(Fl,{loadingLihatSTockOpname:this.state.loadingLihatSTockOpname,lihatstockopname:()=>this.lihatstockopname(),lanjutOpname:()=>this.lanjutOpname(),btnKosongkanDataOpname:()=>this.btnKosongkanDataOpname()})),l.a.createElement("div",{className:"col-12"},l.a.createElement("br",null),l.a.createElement("hr",null),"List Barang Tidak Ketemu",l.a.createElement("hr",null),l.a.createElement(Yl,{data:this.state.barangHilang,tbl_barang_tidak_ketemu:this.state.tbl_barang_tidak_ketemu})),l.a.createElement("div",{className:"col-12"},l.a.createElement("hr",null),"List Barang Ketemu",l.a.createElement("hr",null),l.a.createElement(Wl,{data:this.state.barangKetemu,tbl_barang_ketemu:this.state.tbl_barang_ketemu})))),l.a.createElement("br",null),l.a.createElement(ce.a,{size:"L",title:"KOSONGKANOPNAME"===this.state.FormModal?"Form Kosongkan Opname":"Proses Opname",content:"KOSONGKANOPNAME"===this.state.FormModal?l.a.createElement(Jl,{isLoadingBakiOpname:this.state.isLoadingBakiOpname,onSubmit:e=>this.btnOpname(e)}):l.a.createElement(Gl,null)})))}}Ql=Object(ae.a)({form:"FormStockOpname",enableReinitialize:!0})(Ql);var Xl=Object(q.b)()(Ql);class ql extends l.a.Component{constructor(e){super(e),this.state={date:""},this.getDate=(()=>{var e=(new Date).toDateString();this.setState({date:e})}),this.state={isLoading:!1}}componentDidMount(){Object(k.l)("islogin")===Object(k.i)()&&this.props.history.push("/dashboard"),window.history.pushState(null,document.title,window.location.href),window.addEventListener("popstate",function(e){window.history.pushState(null,document.title,window.location.href)}),this.context.handleSetPageSidebar(!1),this.context.handleSetPageHeader(!1),this.context.handleSetBodyWhiteBg(!0),this.getDate(),window.location.replace("http://localhost:3000/settingnota.html")}componentWillUnmount(){this.context.handleSetPageSidebar(!0),this.context.handleSetPageHeader(!0),this.context.handleSetBodyWhiteBg(!1)}render(){return l.a.createElement(l.a.Fragment,null," ")}}ql.contextType=s.a;var Zl=Object(L.f)(ql);var $l=class extends l.a.Component{constructor(e){super(e),this.toggle=this.toggle.bind(this),this.state={activeTab:"1"}}toggle(e){this.state.activeTab!==e&&this.setState({activeTab:e})}componentDidMount(){window.history.pushState(null,document.title,window.location.href),window.addEventListener("popstate",function(e){window.history.pushState(null,document.title,window.location.href)})}setSystem(e){let a={key:"kategori_harga",value:e,type:"kategori_harga"};Object(A.f)("para-system/",a).then(()=>{Object(S.e)("success","Berhasil Setting System")})}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Dashboard")),l.a.createElement("li",{className:"breadcrumb-item"},"Setting System")),l.a.createElement("h1",{className:"page-header"},"Setting System"),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"Setting System"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement("div",null,l.a.createElement("label",{htmlFor:""},"Kategori Harga"),l.a.createElement("select",{className:"form-control",onChange:e=>this.setSystem(e)},l.a.createElement("option",{id:"harga_100%"},"HARGA 100%"),l.a.createElement("option",{id:"harga_per_gram"},"HARGA PER GRAM")))),l.a.createElement("br",null)))}};t(152);var er=class extends n.Component{constructor(e){super(e),this.state={}}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Oa.a,{id:"test-table-xls-button",className:"btn btn-success btn-block",table:"table-to-xls",filename:"Laporan Tambah Barang",sheet:"Laporan Tambah Barang",buttonText:"Export Exel"}),l.a.createElement("table",{rowkey:"kode_member",id:"table-to-xls",style:{display:"none"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"12",style:{textAlign:"center"}}," LAPORAN TAMBAH BARANG ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"12"}," TOKO :  ",Object(k.j)(k.j).nama_toko," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"12"}," ALAMAT :  ",Object(k.j)().alamat_toko," ")),l.a.createElement("tr",null),l.a.createElement("tr",null,l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NO"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE BARCODE"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE GUDANG"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE TOKO"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE GROUP"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE JENIS"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NAMA BARANG"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NAMA ATRIBUT"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BERAT"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BERAT ASLI"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BERAT ATRIBUT"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"HARGA JUAL"))),l.a.createElement("tbody",null,this.props.data.map((e,a)=>l.a.createElement("tr",{key:a},l.a.createElement("td",{style:{textAlign:"center"}}," ",a+1),l.a.createElement("td",null,"\xa0",e._id.kode_barcode),l.a.createElement("td",null," ",e._id.kode_gudang),l.a.createElement("td",null," ",e._id.kode_toko),l.a.createElement("td",null," ",e.barang_data[0].kode_group),l.a.createElement("td",null," ",e.barang_data[0].kode_dept),l.a.createElement("td",null," ",e.barang_data[0].nama_barang),l.a.createElement("td",null," ",e.barang_data[0].nama_atribut),l.a.createElement("td",{style:{textAlign:"right"}}," ",Object(k.f)(e.barang_data[0].berat,3)),l.a.createElement("td",{style:{textAlign:"right"}}," ",Object(k.f)(e.barang_data[0].berat_asli,3)),l.a.createElement("td",{style:{textAlign:"right"}}," ",Object(k.f)(e.barang_data[0].berat_atribut,3)),l.a.createElement("td",{style:{textAlign:"right"}}," ",e.barang_data[0].harga_jual.toLocaleString("kr-KO"))))),l.a.createElement("tfoot",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"center"},colSpan:"8"},"  "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(k.f)(this.props.data.map(e=>e.barang_data[0].berat).reduce((e,a)=>e+a,0),3),"   "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(k.f)(this.props.data.map(e=>e.barang_data[0].berat_asli).reduce((e,a)=>e+a,0),3),"  "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(k.f)(this.props.data.map(e=>e.barang_data[0].berat_atribut).reduce((e,a)=>e+a,0),3),"  "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",this.props.data.map(e=>e.barang_data[0].harga_jual).reduce((e,a)=>e+a,0).toLocaleString("kr-KO"),"  ")))))}};var ar=(e="")=>{const a=new ga.default("l","mm",[297,210]);let t=[],n=[],l=30,r=0,o=0,s=0,i=0;a.setFontSize(15),a.text("LAPORAN TAMBAH BARANG",14,15),a.setFontSize(20),a.text(Object(k.j)().nama_toko,200,15),a.setFontSize(8);let c=Object(k.j)().alamat_toko.length;c>20&&a.text(Object(k.j)().alamat_toko.slice(0,48),200,20),c>50&&a.text(Object(k.j)().alamat_toko.slice(48,90),200,25),a.setFontSize(10),a.setProperties({title:"LAPORAN TAMBAH BARANG"}),a.text("PERIODE : ".concat(0===Object(k.l)("tgl_laporan").length?null:JSON.parse(Object(k.l)("tgl_laporan")).tgl_awal+" s/d "+JSON.parse(Object(k.l)("tgl_laporan")).tgl_akhir),14,25),n=[[{content:"NO"},{content:"KODE BARCODE"},{content:"KODE GUDANG"},{content:"KODE TOKO"},{content:"KODE GROUP"},{content:"KODE JENIS"},{content:"NAMA BARANG"},{content:"NAMA ATRIBUT"},{content:"BERAT",styles:{halign:"right"}},{content:"BERAT ASLI",styles:{halign:"right"}},{content:"BERAT ATRIBUT",styles:{halign:"right"}},{content:"HARGA JUAL",styles:{halign:"right"}}]],e.forEach((e,a)=>{let n=[{content:"".concat(++a),styles:{cellWidth:10}},e._id.kode_barcode,e._id.kode_gudang,e._id.kode_toko,e.barang_data[0].kode_group,e.barang_data[0].kode_dept,e.barang_data[0].nama_barang,e.barang_data[0].nama_atribut,{content:Object(k.f)(e.barang_data[0].berat,3),styles:{halign:"right"}},{content:Object(k.f)(e.barang_data[0].berat_asli,3),styles:{halign:"right"}},{content:Object(k.f)(e.barang_data[0].berat_atribut,3),styles:{halign:"right"}},{content:e.barang_data[0].harga_jual.toLocaleString("kr-KO"),styles:{halign:"right"}}];r+=e.barang_data[0].berat,s+=e.barang_data[0].berat_asli,o+=e.barang_data[0].berat_atribut,i+=e.barang_data[0].harga_jual,t.push(n)});let m=[{content:"Total Berat",colSpan:7,styles:{halign:"center",fillColor:"#E8E5E5",textColor:"#000"}},{content:" ",styles:{fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(r.toFixed(3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(s.toFixed(3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(o.toFixed(3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(i.toLocaleString("kr-KO")),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}}];t.push(m);let d=[{colSpan:6,content:"Printed By ".concat(JSON.parse(Object(k.l)("userdata")).user_id," / ").concat(Object(k.i)()),styles:{fontStyle:"italic",textColor:"#000"}}];t.push(d),a.autoTable({head:n,body:t,startY:l,theme:"plain",rowPageBreak:"avoid",margin:{top:10},bodyStyles:{fontSize:8},headStyles:{fontSize:8,textColor:"#000",fillColor:"#E8E5E5"}}),l=a.autoTableEndPosY()+3,t=[];const g=a.internal.getNumberOfPages(),p=a.internal.pageSize.width,h=a.internal.pageSize.height;a.setFontSize(10);for(let E=1;E<g+1;E++){let e=p/2,t=h-10;a.setPage(E),a.text("".concat(E," of ").concat(g),e,t,{align:"center"})}var u=a.output("datauristring"),b=window.open();b.document.open(),b.document.write("<html><head><title>LAPORAN TAMBAH BARANG</title></head><body style='margin:0 !important'><embed width='100%' height='100%'  src="+u+"></embed></body></html>")};var tr=(e="")=>{const a=new ga.default("l","mm",[297,210]);let t=[],n=[],l=30,r=0,o=0,s=0;a.setFontSize(15),a.text("LAPORAN TAMBAH STOCK",14,15),a.setFontSize(20),a.text(Object(k.j)().nama_toko,200,15),a.setFontSize(8);let i=Object(k.j)().alamat_toko.length;i>20&&a.text(Object(k.j)().alamat_toko.slice(0,48),200,20),i>50&&a.text(Object(k.j)().alamat_toko.slice(48,90),200,25),a.setFontSize(10),a.setProperties({title:"LAPORAN TAMBAH STOCK"}),a.text("PERIODE : ".concat(0===Object(k.l)("tgl_laporan").length?null:JSON.parse(Object(k.l)("tgl_laporan")).tgl_awal+" s/d "+JSON.parse(Object(k.l)("tgl_laporan")).tgl_akhir),14,25),n=[[{content:"NO"},{content:"KODE BAKI"},{content:"NAMA BAKI"},{content:"TAMBAH PTG",styles:{halign:"right"}},{content:"BERAT TAMBAH",styles:{halign:"right"}},{content:"BERAT ASLI",styles:{halign:"right"}}]],e.forEach((e,a)=>{let n=[{content:"".concat(++a),styles:{cellWidth:10}},e.kode_toko,e.nama_toko,{content:e.stock_tambah,styles:{halign:"right"}},{content:Object(k.f)(e.berat_tambah,3),styles:{halign:"right"}},{content:Object(k.f)(e.berat_asli_tambah,3),styles:{halign:"right"}}];o+=e.stock_tambah,r+=e.berat_tambah,s=s+e.berat_asli_tambah||0,t.push(n)});let c=[{content:"Total",colSpan:3,styles:{halign:"center",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(o),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(Object(k.f)(r,3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(Object(k.f)(s,3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}}];t.push(c);let m=[{colSpan:6,content:"Printed By ".concat(JSON.parse(Object(k.l)("userdata")).user_id," / ").concat(Object(k.i)()),styles:{fontStyle:"italic",textColor:"#000"}}];t.push(m),a.autoTable({head:n,body:t,startY:l,theme:"plain",rowPageBreak:"avoid",margin:{top:10},bodyStyles:{fontSize:8},headStyles:{fontSize:8,textColor:"#000",fillColor:"#E8E5E5"}}),l=a.autoTableEndPosY()+3,t=[];const d=a.internal.getNumberOfPages(),g=a.internal.pageSize.width,p=a.internal.pageSize.height;a.setFontSize(10);for(let b=1;b<d+1;b++){let e=g/2,t=p-10;a.setPage(b),a.text("".concat(b," of ").concat(d),e,t,{align:"center"})}var h=a.output("datauristring"),u=window.open();u.document.open(),u.document.write("<html><head><title>LAPORAN TAMBAH BARANG</title></head><body style='margin:0 !important'><embed width='100%' height='100%'  src="+h+"></embed></body></html>")};var nr=class extends n.Component{constructor(e){super(e),this.state={}}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Oa.a,{id:"test-table-xls-button",className:"btn btn-success btn-block",table:"table-to-xls",filename:"Laporan Tambah Stock",sheet:"Laporan Tambah Stock",buttonText:"Export Exel"}),l.a.createElement("table",{rowkey:"kode_member",id:"table-to-xls",style:{display:"none"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"6",style:{textAlign:"center"}}," LAPORAN TAMBAH BARANG GLOBAL PER BAKI")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"6"}," TOKO :  ",Object(k.j)(k.j).nama_toko," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"6"}," ALAMAT :  ",Object(k.j)().alamat_toko," ")),l.a.createElement("tr",null),l.a.createElement("tr",null,l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NO"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE BAKI"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NAMA BAKI"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},"TAMBAH PTG"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},"TAMBAH BERAT"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"TAMBAH BERAT ASLI"))),l.a.createElement("tbody",null,this.props.data.map((e,a)=>l.a.createElement("tr",{key:a},l.a.createElement("td",{style:{textAlign:"center"}}," ",a+1),l.a.createElement("td",null,e.kode_toko),l.a.createElement("td",null,e.nama_toko),l.a.createElement("td",{style:{textAlign:"right"}}," ",e.stock_tambah),l.a.createElement("td",{style:{textAlign:"right"}}," ",Object(k.f)(e.berat_tambah,3)),l.a.createElement("td",{style:{textAlign:"right"}}," ",Object(k.f)(e.berat_asli_tambah,3))))),l.a.createElement("tfoot",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"center"},colSpan:"3"},"  "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(k.f)(this.props.data.map(e=>e.stock_tambah).reduce((e,a)=>e+a,0),3),"   "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(k.f)(this.props.data.map(e=>e.berat_tambah).reduce((e,a)=>e+a,0),3),"  "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(k.f)(this.props.data.map(e=>e.berat_asli_tambah).reduce((e,a)=>e+a,0),3),"  ")))))}};var lr=class extends n.Component{constructor(e){super(e),this.state={}}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Oa.a,{id:"test-table-xls-button",className:"btn btn-success btn-block",table:"table-to-xls",filename:"Laporan Tambah Stock",sheet:"Laporan Tambah Stock",buttonText:"Export Exel"}),l.a.createElement("table",{rowkey:"kode_member",id:"table-to-xls",style:{display:"none"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"6",style:{textAlign:"center"}}," LAPORAN TAMBAH BARANG GLOBAL PER JENIS")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"6"}," TOKO :  ",Object(k.j)(k.j).nama_toko," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"6"}," ALAMAT :  ",Object(k.j)().alamat_toko," ")),l.a.createElement("tr",null),l.a.createElement("tr",null,l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NO"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE JENIS"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NAMA JENIS"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},"TAMBAH PTG"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},"TAMBAH BERAT"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"TAMBAH BERAT ASLI"))),l.a.createElement("tbody",null,this.props.data.map((e,a)=>l.a.createElement("tr",{key:a},l.a.createElement("td",{style:{textAlign:"center"}}," ",a+1),l.a.createElement("td",null,e.kode_dept),l.a.createElement("td",null,e.nama_dept),l.a.createElement("td",{style:{textAlign:"right"}}," ",e.stock_tambah),l.a.createElement("td",{style:{textAlign:"right"}}," ",Object(k.f)(e.berat_tambah,3)),l.a.createElement("td",{style:{textAlign:"right"}}," ",Object(k.f)(e.berat_asli_tambah,3))))),l.a.createElement("tfoot",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"center"},colSpan:"3"},"  "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(k.f)(this.props.data.map(e=>e.stock_tambah).reduce((e,a)=>e+a,0),3),"   "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(k.f)(this.props.data.map(e=>e.berat_tambah).reduce((e,a)=>e+a,0),3),"  "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",Object(k.f)(this.props.data.map(e=>e.berat_asli_tambah).reduce((e,a)=>e+a,0),3),"  ")))))}};var rr=(e="")=>{const a=new ga.default("l","mm",[297,210]);let t=[],n=[],l=30,r=0,o=0,s=0;a.setFontSize(15),a.text("LAPORAN TAMBAH STOCK",14,15),a.setFontSize(20),a.text(Object(k.j)().nama_toko,200,15),a.setFontSize(8);let i=Object(k.j)().alamat_toko.length;i>20&&a.text(Object(k.j)().alamat_toko.slice(0,48),200,20),i>50&&a.text(Object(k.j)().alamat_toko.slice(48,90),200,25),a.setFontSize(10),a.setProperties({title:"LAPORAN TAMBAH STOCK"}),a.text("PERIODE : ".concat(0===Object(k.l)("tgl_laporan").length?null:JSON.parse(Object(k.l)("tgl_laporan")).tgl_awal+" s/d "+JSON.parse(Object(k.l)("tgl_laporan")).tgl_akhir),14,25),n=[[{content:"NO"},{content:"KODE BAKI"},{content:"NAMA BAKI"},{content:"TAMBAH PTG",styles:{halign:"right"}},{content:"BERAT TAMBAH",styles:{halign:"right"}},{content:"BERAT ASLI",styles:{halign:"right"}}]],e.forEach((e,a)=>{let n=[{content:"".concat(++a),styles:{cellWidth:10}},e.kode_dept,e.nama_dept,{content:e.stock_tambah,styles:{halign:"right"}},{content:Object(k.f)(e.berat_tambah,3),styles:{halign:"right"}},{content:Object(k.f)(e.berat_asli_tambah,3),styles:{halign:"right"}}];o+=e.stock_tambah,r+=e.berat_tambah,s=s+e.berat_asli_tambah||0,t.push(n)});let c=[{content:"Total",colSpan:3,styles:{halign:"center",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(o),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(Object(k.f)(r,3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(Object(k.f)(s,3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}}];t.push(c);let m=[{colSpan:6,content:"Printed By ".concat(JSON.parse(Object(k.l)("userdata")).user_id," / ").concat(Object(k.i)()),styles:{fontStyle:"italic",textColor:"#000"}}];t.push(m),a.autoTable({head:n,body:t,startY:l,theme:"plain",rowPageBreak:"avoid",margin:{top:10},bodyStyles:{fontSize:8},headStyles:{fontSize:8,textColor:"#000",fillColor:"#E8E5E5"}}),l=a.autoTableEndPosY()+3,t=[];const d=a.internal.getNumberOfPages(),g=a.internal.pageSize.width,p=a.internal.pageSize.height;a.setFontSize(10);for(let b=1;b<d+1;b++){let e=g/2,t=p-10;a.setPage(b),a.text("".concat(b," of ").concat(d),e,t,{align:"center"})}var h=a.output("datauristring"),u=window.open();u.document.open(),u.document.write("<html><head><title>LAPORAN TAMBAH BARANG</title></head><body style='margin:0 !important'><embed width='100%' height='100%'  src="+h+"></embed></body></html>")};class or extends n.Component{constructor(e){super(e),this.state={loading:!1,data_per_baki:[],data_per_jenis:[],table_per_baki:!1,table_per_jenis:!1,isLoading:!1},this.setStartDate=this.setStartDate.bind(this),this.setLastDate=this.setLastDate.bind(this)}componentDidMount(){this.props.dispatch(Object(X.hb)()),this.props.dispatch(Object(X.lb)())}setStartDate(e){this.setState({tgl_awal:new Date(e)})}setLastDate(e){if(new Date(e)>new Date)return Object(S.e)("info","Tanggal tidak boleh lebih dari hari ini"),!1;this.setState({tgl_akhir:new Date(e)})}exportPdf(){ar(this.props.data),this.props.change("kode_toko","ALL"),this.props.change("kode_dept","ALL")}exportPdfGlobalBaki(){tr(this.state.data_per_baki)}exportPdfGlobalJenis(){rr(this.state.data_per_jenis)}GlobalPerBaki(){let e={tgl_awal:Object(k.e)(u()(new Date(this.props.tgl_awal)).format("YYYY-MM-DD")),tgl_akhir:Object(k.e)(u()(new Date(this.props.tgl_akhir)).format("YYYY-MM-DD"))};this.setState({isLoading:!0}),Object(A.c)("barang/tambah-barangs/global-per-baki?tanggal[gte]=".concat(e.tgl_awal,"&tanggal[lte]=").concat(e.tgl_akhir)).then(a=>{0===a.data.length?(this.setState({export:!1,LaporanBarangDetail:[],isLoading:!1}),Object(S.e)("info","Laporan Tambah Barang Tidak Tersedia")):(Object(S.e)("success","Laporan Tambah Barang Tersedia"),Object(k.m)("tgl_laporan",JSON.stringify(e)),this.setState({isLoading:!1,export:!0,data_per_baki:a.data,table_per_baki:!0,table_per_jenis:!1,table_per_normal:!1}))}).then(()=>{this.setState({isLoading:!1})}).catch(e=>this.errorHandling(e))}GlobalPerJenis(){let e={tgl_awal:Object(k.e)(u()(new Date(this.props.tgl_awal)).format("YYYY-MM-DD")),tgl_akhir:Object(k.e)(u()(new Date(this.props.tgl_akhir)).format("YYYY-MM-DD"))};this.setState({isLoading:!0}),Object(A.c)("barang/tambah-barangs/global-per-jenis?tanggal[gte]=".concat(e.tgl_awal,"&tanggal[lte]=").concat(e.tgl_akhir)).then(a=>{0===a.data.length?(this.setState({export:!1,LaporanBarangDetail:[],isLoading:!1}),Object(S.e)("info","Laporan Tambah Barang Tidak Tersedia")):(Object(S.e)("success","Laporan Tambah Barang Tersedia"),Object(k.m)("tgl_laporan",JSON.stringify(e)),this.setState({isLoading:!1,export:!0,data_per_jenis:a.data,table_per_jenis:!0,table_per_baki:!1}))}).then(()=>{this.setState({isLoading:!1})}).catch(e=>this.errorHandling(e))}errorHandling(e){Object(S.a)(e),this.setState({isLoading:!1})}render(){let e=[{value:"ALL",name:"SEMUA"}];this.props.databaki.forEach(a=>{let t={value:a.kode_baki,name:a.kode_baki+" - "+a.nama_baki};e.push(t)});let a=[{value:"ALL",name:"SEMUA"}];return this.props.dataJenis.forEach(e=>{let t={value:e.kode_dept,name:e.kode_dept+" - "+e.nama_dept};a.push(t)}),l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{onSubmit:e=>this.props.handleSubmit(e),autoComplete:"off",onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(ee.a,{name:"tgl_awal",component:te.c,label:"Tanggal Dari",type:"text",selected:this.state.tgl_awal,onChange:e=>this.setStartDate(e),placeholder:"Masukan Tanggal Dari"})),l.a.createElement("div",{className:"col-lg-3"},l.a.createElement(ee.a,{name:"tgl_akhir",component:te.c,type:"text",selected:this.state.tgl_akhir,onChange:e=>this.setLastDate(e),label:"Tanggal Akhir",placeholder:"Masukan Tanggal Akhir"})),l.a.createElement("div",{className:"col-3"},!1===this.state.loading?l.a.createElement(ee.a,{label:"Jenis",name:"kode_dept",options:a,placeholder:"Silahkan Pilih Kode Jenis",component:te.f}):l.a.createElement(te.g,{label:"Kode Jenis"})),l.a.createElement("div",{className:"col-3"},!1===this.state.loading?l.a.createElement(ee.a,{label:"Baki",name:"kode_toko",options:e,placeholder:"Silahkan Pilih Kode Baki",component:te.f}):l.a.createElement(te.g,{label:"Kode Baki"})),l.a.createElement("div",{className:"col-4 mb-2"},l.a.createElement("label",null," \xa0 "),l.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.submitting,type:"submit",onClick:()=>this.setState({table_per_normal:!0,table_per_baki:!1,table_per_jenis:!1})},this.props.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Memfilter"):"Lihat Laporan")),l.a.createElement("div",{className:"col-4 mb-2"},l.a.createElement("label",null," \xa0 "),l.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.submitting,type:"button",onClick:()=>this.GlobalPerBaki()},this.state.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Memfilter"):"Global Per baki")),l.a.createElement("div",{className:"col-4 mb-2"},l.a.createElement("label",null," \xa0 "),l.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.submitting,type:"button",onClick:()=>this.GlobalPerJenis()},this.state.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Memfilter"):"Global Per Jenis")),l.a.createElement("div",{className:"col-12"},this.state.table_per_baki?l.a.createElement($.a,{keyField:"kode_barcode",data:this.state.data_per_baki,columns:this.props.columns_per_baki,empty:!0,textEmpty:"Data Laporan Barang Global Per Baki Kosong"}):this.state.table_per_jenis?l.a.createElement($.a,{keyField:"kode_barcode",data:this.state.data_per_jenis,columns:this.props.columns_per_jenis,empty:!0,textEmpty:"Data Laporan Barang Detail Kosong"}):l.a.createElement($.a,{keyField:"kode_barcode",data:this.props.data,columns:this.props.columns,empty:!0,textEmpty:"Data Laporan Barang Detail Kosong"})),this.props.export&&this.state.table_per_normal?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("button",{onClick:()=>this.exportPdf(),className:"btn btn-warning btn-block"}," ","Export PDF"," ")),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(er,{data:this.props.data,kode_baki:this.props.kode_baki}))):null,this.state.table_per_baki?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("button",{onClick:()=>this.exportPdfGlobalBaki(),className:"btn btn-warning btn-block"}," ","Export PDF"," ")),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(nr,{data:this.state.data_per_baki,kode_baki:this.props.kode_baki}))):null,this.state.table_per_jenis?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("button",{onClick:()=>this.exportPdfGlobalJenis(),className:"btn btn-warning btn-block"}," ","Export PDF"," ")),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(lr,{data:this.state.data_per_jenis,kode_baki:this.props.kode_baki}))):null),this.props.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null,this.state.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null))}}or=Object(ae.a)({form:"HeadFilterLaporan",enableReinitialize:!0})(or);const sr=Object(ye.a)("HeadFilterLaporan");var ir=Object(q.b)(e=>({databaki:e.datamaster.getDataBaki,dataJenis:e.datamaster.getDataJenis,tgl_awal:sr(e,"tgl_awal"),tgl_akhir:sr(e,"tgl_akhir"),initialValues:{tgl_awal:Object(k.h)(),tgl_akhir:Object(k.h)()}}))(or);class cr extends l.a.Component{constructor(e){super(e),this.state={isEdit:!1,modalDialog:!1,isLoading:!1,export:!1,kode_baki:[],LaporanBarangDetail:!1,columns:[{dataField:"_id.kode_barcode",text:"Kode Barcode"},{dataField:"_id.kode_gudang",text:"Kode Gudang"},{dataField:"_id.kode_toko",text:"Kode Baki"},{dataField:"barang_data[0].kode_group",text:"Kode Group"},{dataField:"barang_data[0].kode_dept",text:"Kode Jenis"},{dataField:"barang_data[0].nama_barang",text:"Nama Barang"},{dataField:"barang_data[0].nama_atribut",text:"Nama Atribut"},{dataField:"berat_tambah",text:"Berat Tambah",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",Object(k.f)(e,3)," ")},{dataField:"barang_data[0].berat",text:"Berat",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",Object(k.f)(e,3)," ")},{dataField:"barang_data[0].berat_asli",text:"Berat Asli",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",Object(k.f)(e,3)," ")},{dataField:"barang_data[0].berat_atribut",text:"Berat Atribut",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",Object(k.f)(e,3)," ")},{dataField:"barang_data[0].harga_jual",text:"Harga Jual",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",parseFloat(e).toLocaleString("kr-KO"))}],columns_per_baki:[{dataField:"kode_toko",text:"Kode Baki"},{dataField:"nama_toko",text:"Nama Baki"},{dataField:"stock_tambah",text:"Tambah Ptg",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",e," ")},{dataField:"berat_tambah",text:"Tambah Berat",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",Object(k.f)(e,3)," ")},{dataField:"berat_asli_tambah",text:"Tambah Berat Asli",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",Object(k.f)(e,3)," ")}],columns_per_jenis:[{dataField:"kode_dept",text:"Kode Jenis"},{dataField:"nama_dept",text:"Nama Jenis"},{dataField:"stock_tambah",text:"Tambah Ptg",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",e," ")},{dataField:"berat_tambah",text:"Tambah Berat",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",Object(k.f)(e,3)," ")},{dataField:"berat_asli_tambah",text:"Tambah Berat Asli",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",Object(k.f)(e,3)," ")}]},this.handleSubmit=this.handleSubmit.bind(this)}componentDidMount(){let e=JSON.parse(Object(k.l)("userdata"));this.setState({username:e.user_id})}handleSubmit(e){let a={tgl_awal:Object(k.e)(u()(new Date(e.tgl_awal)).format("YYYY-MM-DD")),tgl_akhir:Object(k.e)(u()(new Date(e.tgl_akhir)).format("YYYY-MM-DD"))};this.setState({isLoading:!0,kode_toko:e.kode_baki}),Object(A.e)("barang/tambah-barangs?tanggal[gte]=".concat(a.tgl_awal,"&tanggal[lte]=").concat(a.tgl_akhir,"&kode_dept=").concat(e.kode_dept,"&kode_toko=").concat(e.kode_toko)).then(e=>{0===e.data.length?(this.setState({export:!1,LaporanBarangDetail:[]}),Object(S.e)("info","Laporan Tambah Barang Tidak Tersedia")):(Object(S.e)("success","Laporan Tambah Barang Tersedia"),Object(k.m)("tgl_laporan",JSON.stringify(a)),this.setState({export:!0,LaporanBarangDetail:e.data}))}).then(()=>{this.setState({isLoading:!1})}).catch(e=>this.errorHandling(e))}errorHandling(e){Object(S.a)(e),this.setState({isLoading:!1})}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Laporan Tambah Barang")),l.a.createElement("li",{className:"breadcrumb-item active"},"Laporan Tambah Barang Detail")),l.a.createElement("h1",{className:"page-header"},"Laporan Tambah Barang"),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"Filter Laporan"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement(ir,{kode_baki:this.state.kode_baki,export:this.state.export,columns:this.state.columns,data:this.state.LaporanBarangDetail,isLoading:this.state.isLoading,columns_per_baki:this.state.columns_per_baki,columns_per_jenis:this.state.columns_per_jenis,onSubmit:e=>this.handleSubmit(e)})))),l.a.createElement("br",null)))}}cr=Object(ae.a)({form:"FormLaporanTambahBarang",enableReinitialize:!0})(cr);var mr=Object(q.b)(e=>({hideModal:e.datamaster.modalDialog}),null)(cr);var dr=(e="",a="",t="")=>{const n=new ga.default("l","mm",[297,210]);let l=[],r=[],o=[],s=30,i=0,c=0;n.setFontSize(15),n.text("LAPORAN KEUANGAN NON CASH REKAP",14,15),n.setFontSize(20),n.text(Object(k.j)().nama_toko,200,15),n.setFontSize(8);let m=Object(k.j)().alamat_toko.length;m>20&&n.text(Object(k.j)().alamat_toko.slice(0,48),200,20),m>50&&n.text(Object(k.j)().alamat_toko.slice(48,90),200,25),n.setFontSize(10),n.setProperties({title:"LAPORAN KEUANGAN NON CASH REKAP"}),n.text("Tanggal : ".concat(0===Object(k.l)("tgl_laporan").length?null:JSON.parse(Object(k.l)("tgl_laporan")).tanggal),14,25),e.forEach((e,a)=>{o=[[{content:"KATEGORI"},{content:"UANG MASUK",styles:{halign:"right"}},{content:"Uang Masuk + Fee",styles:{halign:"right"}}]];let t=[e.kategori,{content:parseInt(e.jumlah_in).toLocaleString("kr-KO"),styles:{halign:"right"}},{content:parseInt(e.jumlah_in_fee).toLocaleString("kr-KO"),styles:{halign:"right"}}];i+=e.jumlah_in,c+=e.jumlah_in_fee,l.push(t)});let d=[{content:"",styles:{fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(i.toLocaleString("kr-KO")),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(c.toLocaleString("kr-KO")),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}}];r.push(d);let g=[{content:"Printed By ".concat(JSON.parse(Object(k.l)("userdata")).user_id," / ").concat(Object(k.i)()),colSpan:3,styles:{fontStyle:"italic",textColor:"#000"}}];r.push(g),n.autoTable({head:o,body:l,foot:r,startY:s,theme:"plain",rowPageBreak:"avoid",margin:{top:10},bodyStyles:{fontSize:8},headStyles:{fontSize:8,fillColor:"#E8E5E5",textColor:"#000"},tableLineColor:[255,255,255],tableLineWidth:1}),s=n.autoTableEndPosY()+3,l=[],r=[];const p=n.internal.getNumberOfPages(),h=n.internal.pageSize.width,u=n.internal.pageSize.height;n.setFontSize(10);for(let _=1;_<p+1;_++){let e=h/2,a=u-10;n.setPage(_),n.text("".concat(_," of ").concat(p),e,a,{align:"center"})}var b=n.output("datauristring"),E=window.open();E.document.open(),E.document.write("<html><head><title>LAPORAN KEUANGAN NON CASH REKAP</title></head><body style='margin:0 !important'><embed width='100%' height='100%'  src="+b+"></embed></body></html>")};var gr=(e="",a="",t="")=>{const n=new ga.default("l","mm",[297,210]);let l=[],r=[],o=[],s=30,i=0,c=0;n.setFontSize(15),n.text("LAPORAN KEUANGAN NON CASH DETAIL",14,15),n.setFontSize(20),n.text(Object(k.j)().nama_toko,200,15),n.setFontSize(8);let m=Object(k.j)().alamat_toko.length;m>20&&n.text(Object(k.j)().alamat_toko.slice(0,48),200,20),m>50&&n.text(Object(k.j)().alamat_toko.slice(48,90),200,25),n.setFontSize(10),n.setProperties({title:"LAPORAN KEUANGAN NON CASH DETAIL"}),n.text("Tanggal : ".concat(0===Object(k.l)("tgl_laporan").length?null:JSON.parse(Object(k.l)("tgl_laporan")).tanggal),14,25),e.forEach((e,a)=>{o=[[{content:"KATEGORI"},{content:"DESKRIPSI"},{content:"FEE",styles:{halign:"right"}},{content:"UANG MASUK",styles:{halign:"right"}},{content:"Uang Masuk + Fee",styles:{halign:"right"}}]];let t="";if(void 0!==e.deskripsi){let a=e.deskripsi.split("<br/>");if(a.length>2)for(let e=1;e<a.length;e++)t+=""===t?a[e]:"\n"+a[e];else t=a[1]}let n=[e.kategori,t,{content:e.fee+"%",styles:{halign:"right"}},{content:parseInt(e.jumlah_in).toLocaleString("kr-KO"),styles:{halign:"right"}},{content:parseInt(e.jumlah_in_fee).toLocaleString("kr-KO"),styles:{halign:"right"}}];i+=e.jumlah_in,c+=e.jumlah_in_fee,l.push(n)});let d=[{content:"",colSpan:3,styles:{fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(i.toLocaleString("kr-KO")),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(c.toLocaleString("kr-KO")),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}}];r.push(d);let g=[{content:"Printed By ".concat(JSON.parse(Object(k.l)("userdata")).user_id," / ").concat(Object(k.i)()),colSpan:5,styles:{fontStyle:"italic",textColor:"#000"}}];r.push(g),n.autoTable({head:o,body:l,foot:r,startY:s,theme:"plain",rowPageBreak:"avoid",margin:{top:10},bodyStyles:{fontSize:8},headStyles:{fontSize:8,fillColor:"#E8E5E5",textColor:"#000"},tableLineColor:[255,255,255],tableLineWidth:1}),s=n.autoTableEndPosY()+3,l=[],r=[];const p=n.internal.getNumberOfPages(),h=n.internal.pageSize.width,u=n.internal.pageSize.height;n.setFontSize(10);for(let _=1;_<p+1;_++){let e=h/2,a=u-10;n.setPage(_),n.text("".concat(_," of ").concat(p),e,a,{align:"center"})}var b=n.output("datauristring"),E=window.open();E.document.open(),E.document.write("<html><head><title>LAPORAN KEUANGAN NON CASH DETAIL</title></head><body style='margin:0 !important'><embed width='100%' height='100%'  src="+b+"></embed></body></html>")};var pr=class extends n.Component{constructor(e){super(e),this.state={}}render(){let e=0,a=0;return this.props.data.forEach((t,n)=>{e+=t.jumlah_in,a+=t.jumlah_in_fee}),l.a.createElement(l.a.Fragment,null,l.a.createElement(Oa.a,{id:"test-table-xls-button",className:"btn btn-success btn-block",table:"table-to-xls",filename:"Laporan Keuangan Non Cash Rekap",sheet:"Laporan Keuangan Non Cash Rekap",buttonText:"Export Exel"}),l.a.createElement("table",{rowkey:"kode_member",id:"table-to-xls",style:{display:"none"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"3",style:{textAlign:"center"}}," ","LAPORAN KEUANGAN NON CASH REKAP")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"3"}," Tanggal  ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"3"}," ",0===Object(k.l)("tgl_laporan").length?null:JSON.parse(Object(k.l)("tgl_laporan")).tanggal," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"3"}," TOKO :  ",Object(k.j)().nama_toko," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"3"}," ALAMAT :  ",Object(k.j)().alamat_toko," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"3"})),l.a.createElement("tr",null,l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"Kategori"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},"Uang Masuk"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},"Uang Masuk + Fee"))),l.a.createElement("tbody",null,this.props.data.map((e,a)=>l.a.createElement("tr",{key:a},l.a.createElement("td",null," ",e.kategori),l.a.createElement("td",{style:{textAlign:"right"}}," ",e.jumlah_in.toLocaleString("kr-KO")),l.a.createElement("td",{style:{textAlign:"right"}}," ",e.jumlah_in_fee.toLocaleString("kr-KO"))))),l.a.createElement("tfoot",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}}," "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},e.toLocaleString("kr-KO")," "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},a.toLocaleString("kr-KO"))))))}};var hr=class extends n.Component{constructor(e){super(e),this.state={}}deskripsi(e){let a=e.split("<br/>");return void 0===e?"-":l.a.createElement(l.a.Fragment,null," ",a[1]," ",l.a.createElement("br",null)," ",a[2]," ")}render(){let e=0,a=0;return this.props.data.forEach((t,n)=>{e+=t.jumlah_in,a+=t.jumlah_in_fee}),l.a.createElement(l.a.Fragment,null,l.a.createElement(Oa.a,{id:"test-table-xls-button",className:"btn btn-success btn-block",table:"table-to-xls",filename:"Laporan Keuangan Non Cash Detail",sheet:"Laporan Keuangan Non Cash Detail",buttonText:"Export Exel"}),l.a.createElement("table",{rowkey:"kode_member",id:"table-to-xls",style:{display:"none"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"5",style:{textAlign:"center"}}," ","LAPORAN KEUANGAN NON CASH DETAIL"," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"5"}," Tanggal  ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"5"}," ",0===Object(k.l)("tgl_laporan").length?null:JSON.parse(Object(k.l)("tgl_laporan")).tanggal," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"5"}," TOKO :  ",Object(k.j)().nama_toko," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"5"}," ALAMAT :  ",Object(k.j)().alamat_toko," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"5"})),l.a.createElement("tr",null,l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"Kategori"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"Deskripsi"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},"Fee"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},"Uang Masuk"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},"Uang Masuk + Fee"))),l.a.createElement("tbody",null,this.props.data.map((e,a)=>l.a.createElement("tr",{key:a,style:{verticalAlign:"top"}},l.a.createElement("td",null," ",e.kategori),l.a.createElement("td",null," ",this.deskripsi(e.deskripsi||"-")),l.a.createElement("td",{style:{textAlign:"right"}}," ",e.fee,"%"),l.a.createElement("td",{style:{textAlign:"right"}}," ",void 0===e.jumlah_in||null===e.jumlah_in?0:e.jumlah_in.toLocaleString("kr-KO")),l.a.createElement("td",{style:{textAlign:"right"}}," ",void 0===e.jumlah_in_fee||null===e.jumlah_in_fee?0:e.jumlah_in_fee.toLocaleString("kr-KO"))))),l.a.createElement("tfoot",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}}," "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"},colSpan:"2"}),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},e.toLocaleString("kr-KO")," "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}},a.toLocaleString("kr-KO"))))))}};class ur extends bn.b{constructor(e){super(e),this.state={date:new Date,columnsdetail:[{dataField:"kategori",text:"Kategori",formatter:e=>void 0===e?"-":e,csvFormatter:e=>void 0===e?"-":e,footerAttrs:{colSpan:"3"},footer:"Total"},{dataField:"deskripsi",text:"Deskripsi",formatter:e=>{let a=(e||"-").split("<br/>");return void 0===e?"-":bn.m.createElement(bn.m.Fragment,null," ",a[1]," ",bn.m.createElement("br",null)," ",a[2]," ")},csvFormatter:e=>void 0===e?"-":e},{dataField:"fee",text:"Fee",headerClasses:"text-right",formatter:e=>bn.m.createElement("div",{className:"text-right"}," ",void 0===e?"-":e+"%"," ")},{dataField:"jumlah_in",text:"Uang Masuk",headerClasses:"text-right",formatter:e=>bn.m.createElement("div",{className:"text-right"}," ",void 0===e?0:parseFloat(e).toLocaleString("kr-KO")),csvFormatter:e=>bn.m.createElement("div",{className:"text-right"}," ",void 0===e?"0":e," "),footer:e=>bn.m.createElement("div",{className:"text-right"}," ",parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")," ")},{dataField:"jumlah_in_fee",text:"Uang Masuk + Fee",headerClasses:"text-right",formatter:e=>bn.m.createElement("div",{className:"text-right"}," ",void 0===e?0:parseFloat(e).toLocaleString("kr-KO")),csvFormatter:e=>bn.m.createElement("div",{className:"text-right"}," ",void 0===e?"0":e," "),footer:e=>bn.m.createElement("div",{className:"text-right"}," ",parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")," ")}],columnsrekap:[{dataField:"kategori",text:"Kategori",footer:"Total",formatter:e=>void 0===e?"-":e},{dataField:"jumlah_in",text:"Uang Masuk",headerClasses:"text-right",formatter:e=>bn.m.createElement("div",{className:"text-right"}," ",void 0===e?0:parseFloat(e).toLocaleString("kr-KO")),csvFormatter:e=>bn.m.createElement("div",{className:"text-right"}," ",void 0===e?"0":e," "),footer:e=>bn.m.createElement("div",{className:"text-right"}," ",parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")," ")},{dataField:"jumlah_in_fee",text:"Uang Masuk + Fee",headerClasses:"text-right",formatter:e=>bn.m.createElement("div",{className:"text-right"}," ",void 0===e?0:parseFloat(e).toLocaleString("kr-KO")),csvFormatter:e=>bn.m.createElement("div",{className:"text-right"}," ",void 0===e?"0":e," "),footer:e=>bn.m.createElement("div",{className:"text-right"}," ",parseInt(e.reduce((e,a)=>e+a,0)).toLocaleString("kr-KO")," ")}]},this.setStartDate=this.setStartDate.bind(this),this.setLastDate=this.setLastDate.bind(this)}exportPdfRekap(){dr(this.props.datalaporancash)}exportPdfDetail(){gr(this.props.datalaporancash)}componentDidMount(){this.props.change("type","REKAP"),this.props.change("filter","TRANSFER")}setStartDate(e){this.setState({tgl_awal:new Date(e)})}setLastDate(e){this.setState({tgl_akhir:new Date(e)})}render(){return bn.m.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off"},bn.m.createElement("div",{className:"row"},bn.m.createElement("div",{className:"col-lg-4"},bn.m.createElement(bn.c,{name:"tgl_awal",component:bn.f,label:"Tanggal Dari",type:"text",selected:this.state.tgl_awal,onChange:e=>this.setStartDate(e),placeholder:"Masukan Tanggal Dari"})),bn.m.createElement("div",{className:"col-lg-4"},bn.m.createElement(bn.c,{name:"type",component:bn.p,onChange:e=>this.props.onChange(e),options:[{value:"DETAIL",name:"DETAIL"},{value:"REKAP",name:"REKAP"}],label:"Type",placeholder:"Pilih Type"})),bn.m.createElement("div",{className:"col-lg-4"},bn.m.createElement(bn.c,{name:"filter",component:bn.p,onChange:e=>this.props.onChange(e),options:[{value:"TRANSFER",name:"TRANSFER"},{value:"DEBET",name:"DEBET"},{value:"CREDIT",name:"KREDIT"}],label:"Filter",placeholder:"Filter Type Pembayaran"})),bn.m.createElement("div",{className:"col-lg-12"},bn.m.createElement("div",{className:"text-right"},bn.m.createElement("label",null,"\xa0"),bn.m.createElement("button",{type:"submit",value:"PDF",name:"type_btn",className:"btn btn-primary btn-block"},this.props.isLoading?bn.m.createElement(bn.m.Fragment,null,bn.m.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Mencari"):"Cari Laporan"))),bn.m.createElement("div",{className:"col-lg-12"},bn.m.createElement(bn.r,{keyField:"kategori",data:this.props.datalaporancash,columns:this.props.istypeRekap?this.state.columnsrekap:this.state.columnsdetail,empty:!0,textEmpty:"Data Keuangan Non Cash Kosong"})),bn.m.createElement("div",{className:this.props.export?"col-lg-12":"col-lg-12 d-none"},bn.m.createElement("label",{htmlFor:""},"\xa0"),bn.m.createElement("div",{className:"row"},bn.m.createElement("div",{className:"col-lg-6"},this.props.istypeRekap?bn.m.createElement("button",{onClick:()=>this.exportPdfRekap(),className:"btn btn-warning btn-block"}," ","Export Rekap PDF"," "):bn.m.createElement("button",{onClick:()=>this.exportPdfDetail(),className:"btn btn-warning btn-block"}," ","Export Detail PDF"," ")),bn.m.createElement("div",{className:"col-lg-6"},this.props.istypeRekap?bn.m.createElement(pr,{data:this.props.datalaporancash}):bn.m.createElement(hr,{data:this.props.datalaporancash}))))),this.props.isLoading?bn.m.createElement(bn.h,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}ur=Object(bn.I)({form:"HeadFormNonCash",enableReinitialize:!0})(ur);var br=Object(bn.t)(e=>({initialValues:{tgl_awal:Object(bn.A)()}}))(ur);class Er extends bn.m.Component{constructor(e){super(e),this.state={isLoading:!1,hidden:!1,istypeRekap:!0,tanggal:!1,datalaporancash:[],datamember:[],export:!1},this.handleSubmit=this.handleSubmit.bind(this)}handleSubmit(e){this.setState({isLoading:!0});let a={tanggal:Object(bn.x)(Object(bn.G)(new Date(e.tgl_awal)).format("YYYY-MM-DD"))};Object(bn.y)("report-non-cash?type=".concat(e.type,"&tanggal=").concat(a.tanggal,"&jenis=").concat(e.filter)).then(e=>{0===e.data.length?(Object(bn.s)("info","Data Yang Di Cari Tidak Ada !!!"),this.setState({isLoading:!1})):(Object(bn.s)("success","Laporan Keuangan Non Cash Tersedia"),this.setState({datalaporancash:e.data,isLoading:!1,export:!0})),Object(bn.F)("tgl_laporan",JSON.stringify(a))}).catch(e=>{Object(bn.s)("info","Data Yang Di Cari Tidak Ada !!!"),this.setState({isLoading:!1,export:!1}),console.log(e)})}onChange(e){"REKAP"===e.type?this.setState({istypeRekap:!0,datalaporancash:[]}):this.setState({istypeRekap:!1,datalaporancash:[]})}render(){return bn.m.createElement("div",null,bn.m.createElement("ol",{className:"breadcrumb float-xl-right"},bn.m.createElement("li",{className:"breadcrumb-item"},bn.m.createElement(bn.g,{to:"#"},"Laporan Keuangan")),bn.m.createElement("li",{className:"breadcrumb-item active"},"Laporan Keuangan Non Cash")),bn.m.createElement("h1",{className:"page-header"},"Laporan Keuangan Non Cash "),bn.m.createElement(bn.k,null,bn.m.createElement(bn.l,null,"Laporan Keuangan Non Cash"),bn.m.createElement("br",null),bn.m.createElement("div",{className:"container"},bn.m.createElement(br,{onChange:e=>this.onChange(e),isLoading:this.state.isLoading,export:this.state.export,datalaporancash:this.state.datalaporancash,istypeRekap:this.state.istypeRekap,onSubmit:e=>this.handleSubmit(e)})),bn.m.createElement("br",null)))}}Er=Object(bn.I)({form:"LaporanNonCash",enableReinitialize:!0})(Er);var _r=Object(bn.t)()(Er);var Ar=(e="")=>{const a=new ga.default("l","mm",[297,210]);let t=[],n=[],l=30;a.setFontSize(15),a.text("LAPORAN OTORISASI AKUN",14,15),a.setFontSize(20),a.text(Object(k.j)().nama_toko,200,15),a.setFontSize(8);let r=Object(k.j)().alamat_toko.length;r>20&&a.text(Object(k.j)().alamat_toko.slice(0,48),200,20),r>50&&a.text(Object(k.j)().alamat_toko.slice(48,90),200,25),a.setFontSize(10),a.setProperties({title:"LAPORAN OTORISASI AKUN"}),n=[[{content:"No"},{content:"USER ID"},{content:"KATEGORI"},{content:"DESKRIPSI"},{content:"KETERANGAN"}]],e.forEach((e,a)=>{let n=[{content:"".concat(++a),styles:{cellWidth:10}},e.user_id,e.kategori,e.description,e.keterangan];t.push(n)});let o=[{colSpan:6,content:"Printed By ".concat(JSON.parse(Object(k.l)("userdata")).user_id," / ").concat(Object(k.i)()),styles:{fontStyle:"italic",textColor:"#000"}}];t.push(o),a.autoTable({head:n,body:t,startY:l,theme:"plain",rowPageBreak:"avoid",margin:{top:10},bodyStyles:{fontSize:8},headStyles:{fontSize:8,textColor:"#000",fillColor:"#E8E5E5"}}),l=a.autoTableEndPosY()+3,t=[];const s=a.internal.getNumberOfPages(),i=a.internal.pageSize.width,c=a.internal.pageSize.height;a.setFontSize(10);for(let g=1;g<s+1;g++){let e=i/2,t=c-10;a.setPage(g),a.text("".concat(g," of ").concat(s),e,t,{align:"center"})}var m=a.output("datauristring"),d=window.open();d.document.open(),d.document.write("<html><head><title>LAPORAN BARANG DETAIL</title></head><body style='margin:0 !important'><embed width='100%' height='100%'  src="+m+"></embed></body></html>")};class kr extends n.Component{constructor(e){super(e),this.state={date:new Date},this.setStartDate=this.setStartDate.bind(this),this.setLastDate=this.setLastDate.bind(this)}handleSubmit(e){console.log(e)}exportPdf(){}setStartDate(e){this.setState({tgl_awal:new Date(e)})}setLastDate(e){this.setState({tgl_akhir:new Date(e)})}render(){return l.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(ee.a,{name:"tgl_awal",component:te.c,label:"Tanggal Dari",type:"text",selected:this.state.tgl_awal,onChange:e=>this.setStartDate(e),placeholder:"Masukan Tanggal Dari"})),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(ee.a,{name:"tgl_akhir",component:te.c,type:"text",selected:this.state.tgl_akhir,onChange:e=>this.setLastDate(e),label:"Tanggal Akhir",placeholder:"Masukan Tanggal Akhir"})),l.a.createElement("div",{className:"col-lg-4 text"},l.a.createElement("div",{className:"text-right"},l.a.createElement("label",null,"\xa0"),l.a.createElement("button",{type:"submit",value:"PDF",name:"type_btn",className:"btn btn-primary btn-block"},this.props.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Mencari"):"Cari Laporan"))),l.a.createElement("div",{className:"col-lg-12"},l.a.createElement($.a,{keyField:"no_hp",data:this.props.dataAuthorization,columns:[{dataField:"user_id",text:"User Id",footerAttrs:{colSpan:"4"}},{dataField:"kategori",text:"Kategori"},{dataField:"description",text:"Deskripsi"},{dataField:"keterangan",text:"Keterangan"}],empty:!0,textEmpty:"Data Laporan Otorisasi Kosong"})),l.a.createElement("div",{className:this.props.dataAuthorization.length>0?"col-lg-12":"col-lg-12 d-none"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("button",{onClick:()=>Ar(this.props.dataAuthorization),className:"btn btn-warning btn-block"}," ","Export PDF"," ")),l.a.createElement("div",{className:"col-lg-6"})))),this.props.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}kr=Object(ae.a)({form:"HeadLaporanAuthorization",enableReinitialize:!0})(kr);var Sr=Object(q.b)(e=>({initialValues:{tgl_awal:Object(k.h)(),tgl_akhir:Object(k.h)()}}))(kr);class fr extends bn.m.Component{constructor(e){super(e),this.state={isLoading:!1,export:!1,dataAuthorization:[]},this.handleSubmit=this.handleSubmit.bind(this)}handleSubmit(e){let a={tgl_awal:Object(bn.x)(Object(bn.G)(new Date(e.tgl_awal)).format("YYYY-MM-DD")),tgl_akhir:Object(bn.x)(Object(bn.G)(new Date(e.tgl_akhir)).format("YYYY-MM-DD"))};this.setState({isLoading:!0}),Object(A.d)("authorization/reports?tanggal[gte]=".concat(a.tgl_awal,"&tanggal[lte]=").concat(a.tgl_akhir)).then(e=>{0===e.data.length?(Object(bn.s)("info","Data Yang Di Cari Tidak Ada !!!"),this.setState({dataAuthorization:[],isLoading:!1})):(Object(bn.s)("success","Laporan Otorisasi Tersedia"),this.setState({dataAuthorization:e.data,isLoading:!1}))}).catch(e=>{Object(bn.s)("info","Data Yang Di Cari Tidak Ada !!!")})}render(){return bn.m.createElement("div",null,bn.m.createElement("ol",{className:"breadcrumb float-xl-right"},bn.m.createElement("li",{className:"breadcrumb-item"},bn.m.createElement(bn.g,{to:"#"},"Laporan")),bn.m.createElement("li",{className:"breadcrumb-item active"},"Laporan Otorisasi")),bn.m.createElement("h1",{className:"page-header"},"Laporan Otorisasi "),bn.m.createElement(bn.k,null,bn.m.createElement(bn.l,null,"Laporan Otorisasi"),bn.m.createElement("br",null),bn.m.createElement("div",{className:"container"},bn.m.createElement(Sr,{dataAuthorization:this.state.dataAuthorization,onSubmit:e=>this.handleSubmit(e),export:this.state.export,isLoading:this.state.isLoading})),bn.m.createElement("br",null)))}}fr=Object(bn.I)({form:"LaporanOtorisasi",enableReinitialize:!0})(fr);var yr=Object(bn.t)(e=>({initialValues:{tgl_awal:Object(bn.A)(),tgl_akhir:Object(bn.A)()}}))(fr),Or=t(76),Cr=t.n(Or),Nr=t(307),xr=t.n(Nr);class jr extends n.Component{constructor(e){super(e),this.state={no_kirim:[],datagudang:[],isLoading:!1,loading:!1,columns:[{dataField:"kode_gudang",text:"Gudang",sort:!0,editable:!1},{dataField:"kode_toko",text:"Baki",editable:!1},{dataField:"qty",text:"Qty",editable:!1},{dataField:"berat",text:"Berat",editable:!1},{dataField:"berat_baki",text:"Berat baki",editable:!1},{dataField:"berat_bandrol",text:"Berat Bandrol",editable:!1,formatter:(e,a)=>parseFloat(a.berat_bandrol).toFixed(3)},{dataField:"total",text:"Total",editable:!1,formatter:(e,a)=>parseFloat(a.berat+a.berat_baki+a.berat_bandrol).toFixed(3)},{dataField:"timbang",text:"Timbang"},{dataField:"selisih",text:"Selisih"}]}}componentDidMount(){this.props.dispatch(Object(X.jb)()),this.props.dispatch(Object(X.hb)())}sendTimbangan(){let e={tanggal:Object(k.i)(),detail_barang:this.props.timbang_barang};this.setState({isLoading:!0}),Object(A.f)("timbang-baki",e).then(e=>{this.setState({isLoading:!1}),Object(S.e)("success","Data Berhasil Disimpan"),this.props.dispatch(Object(Mt.w)([]))}).catch(e=>{this.setState({isLoading:!1}),console.log(e),Object(S.e)("error",e&&e.response&&e.response.data&&"Terjadi kersalahan saat menimbang baki")})}render(){let e=[{value:"ALL",name:"SEMUA"}];return this.props.databaki.forEach(a=>{let t={value:a.kode_baki,name:a.kode_baki+" - "+a.nama_baki};e.push(t)}),l.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off",onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(ee.a,{id:"kode_gudang",label:"Kode Gudang",name:"kode_gudang",onChange:e=>{this.setState({kode_gudang:e}),this.props.change("kode_baki",""),this.props.dispatch(Object(X.ib)(e))},options:this.props.datagudang.filter(e=>void 0!==e.kode_gudang).map(e=>{return{value:e.kode_gudang,name:e.kode_gudang+" - "+e.nama_gudang}}),placeholder:"Silahkan Pilih Kode Gudang",component:te.f})),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(ee.a,{id:"kode_baki",label:"Kode Baki",name:"kode_baki",onChange:e=>{this.setState({kode_baki:e}),this.props.change("kode_baki","")},options:e,placeholder:"Silahkan Pilih Kode Baki",component:te.f})),l.a.createElement("div",{className:"col-lg-4"},l.a.createElement("label",{htmlFor:""},"\xa0"),l.a.createElement("button",{className:"btn btn-outline-secondary btn-block"},"Cari"))),l.a.createElement(Cr.a,{keyField:"baki",data:this.props.products||[],columns:this.state.columns||[],cellEdit:xr()({mode:"click",blurToSave:!0,afterSaveCell:(e,a,t,n)=>{let l={kode_gudang:t.kode_gudang,kode_toko:t.kode_toko,qty:t.qty,berat:t.berat,berat_baki:t.berat_baki,berat_bandrol:t.berat_bandrol,total:parseFloat(t.berat_baki)+parseFloat(t.berat_bandrol)+parseFloat(t.berat),timbang:parseFloat(a),selisih:parseFloat((parseFloat(t.berat_baki+t.berat_bandrol+t.berat)-parseFloat(a||0)).toFixed(3)||0)},r=0===Object(k.l)("timbang_barang").length?[]:JSON.parse(Object(k.l)("timbang_barang")),o=r.findIndex(e=>e.kode_toko===l.kode_toko);console.log(l),-1===o?(r.push(l),Object(k.m)("timbang_barang",JSON.stringify(r)),this.props.dispatch(Object(Mt.w)(r))):(r[o]=l,Object(k.m)("timbang_barang",JSON.stringify(r)),this.props.dispatch(Object(Mt.w)(r)))}})}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-8"}),l.a.createElement("div",{className:"col-lg-4 text-right"},l.a.createElement("label",{htmlFor:""},"\xa0"),l.a.createElement("button",{className:"btn btn-primary btn-block",type:"button",onClick:()=>this.sendTimbangan()},this.state.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))),this.state.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}jr=Object(ae.a)({form:"FormTimbangBarang",enableReinitialize:!0})(jr);var vr=Object(q.b)(e=>{return{initialValues:{no_kirim:(null===localStorage.getItem("data_terima_barang")?[]:JSON.parse(localStorage.getItem("data_terima_barang")||[])).no_kirim||""},datagudang:e.datamaster.getDataGudang,databaki:e.datamaster.getDataBaki,timbang_barang:e.databarang.getTimbangBarang}},null)(jr);var Lr=Object(q.b)(e=>({timbang_barang:e.databarang.getTimbangBarang}),null)(class extends l.a.Component{constructor(e){super(e),this.state={isEdit:!1,modalDialog:!1,isLoading:!1,isLoadingBtn:!1,DataTimbangBarang:[],SimpanDataBarang:!1,resetTimbangBarang:!1,products:[{gudang:"TOKO",baki:"KLNG",qty:10,berat:200,berat_baki:100,berat_bandrol:.2,total:1250,timbang:0,selisih:0},{gudang:"TOKO",baki:"GLNG",qty:10,berat:200,berat_baki:100,berat_bandrol:.2,total:1250,timbang:0,selisih:0}]}}componentDidMount(){this.props.dispatch(Object(Mt.o)()),this.setState({products:Object(k.l)("timbang_barang")})}handleSubmit(e){this.props.dispatch(Object(Mt.p)(e.kode_gudang,e.kode_baki,Object(k.i)()))}render(){return console.log(this.props.products),l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Barang")),l.a.createElement("li",{className:"breadcrumb-item active"},"Timbang Baki")),l.a.createElement("h1",{className:"page-header"},"Timbang Baki "),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"Timbang Baki"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement(vr,{handleChange:()=>this.handleChange(),column:this.state.columns||[],products:this.props.timbang_barang||[],onSubmit:e=>this.handleSubmit(e)})),l.a.createElement("br",null)))}});var Tr=class extends n.Component{constructor(e){super(e),this.state={}}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(Oa.a,{id:"test-table-xls-button",className:"btn btn-success btn-block",table:"table-to-xls",filename:"Laporan Timbang Baki",sheet:"Laporan Timbang Baki",buttonText:"Export Exel"}),l.a.createElement("table",{rowkey:"kode_member",id:"table-to-xls",style:{display:"none"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"10",style:{textAlign:"center"}}," LAPORAN TIMBANG BAKI ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"10"}," TOKO :  ",Object(k.j)().nama_toko," ")),l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"10"}," ALAMAT :  ",Object(k.j)().alamat_toko," ")),l.a.createElement("tr",null),l.a.createElement("tr",null,l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"NO"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE GUDANG"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"KODE BAKI"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"QTY"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BERAT"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BERAT BAKI"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"BERAT BANDROL"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"TOTAL"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"TIMBANGAN"),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000"}},"SELISIH"))),l.a.createElement("tbody",null,this.props.data.map((e,a)=>l.a.createElement("tr",{key:a},l.a.createElement("td",{style:{textAlign:"center"}}," ",a+1),l.a.createElement("td",null," ",e.kode_gudang),l.a.createElement("td",null," ",e.kode_toko),l.a.createElement("td",null," ",e.qty),l.a.createElement("td",null," ",e.berat),l.a.createElement("td",null," ",e.berat_baki),l.a.createElement("td",null," ",e.berat_bandrol),l.a.createElement("td",null," ",e.total),l.a.createElement("td",null," ",e.timbang),l.a.createElement("td",null," ",e.selisih)))),l.a.createElement("tfoot",null,l.a.createElement("tr",null,l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"center"},colSpan:"3"},"  "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",this.props.data.map(e=>e.qty).reduce((e,a)=>e+a,0),"   "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",this.props.data.map(e=>e.berat).reduce((e,a)=>e+a,0),"  "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",this.props.data.map(e=>e.berat_baki).reduce((e,a)=>e+a,0),"  "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",this.props.data.map(e=>e.berat_bandrol).reduce((e,a)=>e+a,0),"  "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",this.props.data.map(e=>e.total).reduce((e,a)=>e+a,0),"  "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",this.props.data.map(e=>e.timbang).reduce((e,a)=>e+a,0),"  "),l.a.createElement("th",{style:{backgroundColor:"#E8E5E5",color:"#000",textAlign:"right"}}," ",this.props.data.map(e=>e.selisih).reduce((e,a)=>e+a,0),"  ")))))}};var Ir=(e="")=>{const a=new ga.default("l","mm",[297,210]);let t=[],n=[],l=30,r=0,o=0,s=0,i=0,c=0,m=0,d=0;a.setFontSize(15),a.text("LAPORAN TIMBANG BAKI",14,15),a.setFontSize(20),a.text(Object(k.j)().nama_toko,200,15),a.setFontSize(8);let g=Object(k.j)().alamat_toko.length;g>20&&a.text(Object(k.j)().alamat_toko.slice(0,48),200,20),g>50&&a.text(Object(k.j)().alamat_toko.slice(48,90),200,25),a.setFontSize(10),a.setProperties({title:"LAPORAN TIMBANG BAKI"}),n=[[{content:"NO"},{content:"GUDANG"},{content:"BAKI"},{content:"QTY",styles:{halign:"right"}},{content:"BERAT",styles:{halign:"right"}},{content:"BERAT BAKI",styles:{halign:"right"}},{content:"BERAT BANDROL",styles:{halign:"right"}},{content:"TOTAL",styles:{halign:"right"}},{content:"TIMBANGAN",styles:{halign:"right"}},{content:"SELISIH",styles:{halign:"right"}}]],e.forEach((e,a)=>{let n=[{content:"".concat(++a),styles:{cellWidth:10}},e.kode_gudang,e.kode_toko,{content:e.qty,styles:{halign:"right"}},{content:Object(k.f)(e.berat,3),styles:{halign:"right"}},{content:Object(k.f)(e.berat_baki,3),styles:{halign:"right"}},{content:Object(k.f)(e.berat_bandrol,3),styles:{halign:"right"}},{content:Object(k.f)(e.total,3),styles:{halign:"right"}},{content:Object(k.f)(e.timbang,3),styles:{halign:"right"}},{content:Object(k.f)(e.selisih,3),styles:{halign:"right"}}];r+=e.berat,o+=e.berat_baki,s+=e.berat_bandrol,i+=e.total,c+=e.timbang,m+=e.selisih,d+=e.qty,t.push(n)});let p=[{content:"Total",colSpan:3,styles:{halign:"center",fillColor:"#E8E5E5",textColor:"#000"}},{content:"".concat(d),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(Object(k.f)(r,3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(Object(k.f)(o,3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(Object(k.f)(s,3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(Object(k.f)(i,3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(Object(k.f)(c,3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}},{content:"".concat(Object(k.f)(m,3)),styles:{fillColor:"#E8E5E5",textColor:"#000",halign:"right"}}];t.push(p);let h=[{colSpan:6,content:"Printed By ".concat(JSON.parse(Object(k.l)("userdata")).user_id," / ").concat(Object(k.i)()),styles:{fontStyle:"italic",textColor:"#000"}}];t.push(h),a.autoTable({head:n,body:t,startY:l,theme:"plain",rowPageBreak:"avoid",margin:{top:10},bodyStyles:{fontSize:8},headStyles:{fontSize:8,textColor:"#000",fillColor:"#E8E5E5"}}),l=a.autoTableEndPosY()+3,t=[];const u=a.internal.getNumberOfPages(),b=a.internal.pageSize.width,E=a.internal.pageSize.height;a.setFontSize(10);for(let k=1;k<u+1;k++){let e=b/2,t=E-10;a.setPage(k),a.text("".concat(k," of ").concat(u),e,t,{align:"center"})}var _=a.output("datauristring"),A=window.open();A.document.open(),A.document.write("<html><head><title>LAPORAN TIMBANG BAKI</title></head><body style='margin:0 !important'><embed width='100%' height='100%'  src="+_+"></embed></body></html>")};class Br extends n.Component{constructor(e){super(e),this.state={loading:!1},this.setStartDate=this.setStartDate.bind(this),this.setLastDate=this.setLastDate.bind(this)}componentDidMount(){this.props.dispatch(Object(X.hb)())}setStartDate(e){this.setState({tgl_awal:new Date(e)})}setLastDate(e){if(new Date(e)>new Date)return Object(S.e)("info","Tanggal tidak boleh lebih dari hari ini"),!1;this.setState({tgl_akhir:new Date(e)})}exportPdf(){Ir(this.props.data)}render(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{onSubmit:e=>this.props.handleSubmit(e),autoComplete:"off",onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-4"},l.a.createElement(ee.a,{name:"tgl_awal",component:te.c,label:"Tanggal Dari",type:"text",selected:this.state.tgl_awal,onChange:e=>this.setStartDate(e),placeholder:"Masukan Tanggal Dari"})),l.a.createElement("div",{className:"col-4 mb-2"},l.a.createElement("label",null," \xa0 "),l.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.submitting,type:"submit"},this.props.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Memfilter"):"Lihat Laporan")),l.a.createElement("div",{className:"col-12"},l.a.createElement($.a,{keyField:"kode_barcode",data:this.props.data||[],columns:this.props.columns,empty:!0,textEmpty:"Data Laporan Barang Detail Kosong"})),this.props.export?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("button",{onClick:()=>this.exportPdf(),className:"btn btn-warning btn-block"}," ","Export PDF"," ")),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement(Tr,{data:this.props.data||[],kode_baki:this.props.kode_baki}))):null),this.props.isLoading?l.a.createElement(re.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null))}}Br=Object(ae.a)({form:"HeadFilterLaporanTimbangBarang",enableReinitialize:!0})(Br);var Dr=Object(q.b)(e=>({databaki:e.datamaster.getDataBaki,initialValues:{tgl_awal:Object(k.h)(),tgl_akhir:Object(k.h)()}}))(Br);class Mr extends l.a.Component{constructor(e){super(e),this.state={isEdit:!1,modalDialog:!1,isLoading:!1,export:!1,kode_baki:[],LaporanBarangDetail:!1,columns:[{dataField:"kode_gudang",text:"Kode Gudang"},{dataField:"kode_toko",text:"Kode Baki"},{dataField:"qty",text:"Qty",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",Object(k.f)(e,3)," ")},{dataField:"berat",text:"Berat",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",Object(k.f)(e,3)," ")},{dataField:"berat_baki",text:"Berat Baki",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",Object(k.f)(e,3)," ")},{dataField:"berat_bandrol",text:"Berat Bandrol",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",Object(k.f)(e,3)," ")},{dataField:"total",text:"Total",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",Object(k.f)(e,3)," ")},{dataField:"timbang",text:"Timbangan",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",Object(k.f)(e,3)," ")},{dataField:"selisih",text:"Selisih",headerClasses:"text-right",formatter:e=>l.a.createElement("div",{className:"text-right"}," ",Object(k.f)(e,3)," ")}]},this.handleSubmit=this.handleSubmit.bind(this)}componentDidMount(){let e=JSON.parse(Object(k.l)("userdata"));this.setState({username:e.user_id})}handleSubmit(e){let a={tgl_awal:Object(k.e)(u()(new Date(e.tgl_awal)).format("YYYY-MM-DD"))};this.setState({isLoading:!0,kode_toko:e.kode_baki}),Object(A.d)("timbang-baki/reports?tanggal=".concat(a.tgl_awal)).then(e=>{0===e.data.length?(this.setState({export:!1,LaporanBarangDetail:[]}),Object(S.e)("info","Laporan Timbang Barang Tidak Tersedia")):(Object(S.e)("success","Laporan Timbang Barang Tersedia"),this.setState({export:!0,LaporanBarangDetail:e.data[0].detail_barang}),console.log(this.state.LaporanBarangDetail))}).then(()=>{this.setState({isLoading:!1})}).catch(e=>this.errorHandling(e))}errorHandling(e){Object(S.a)(e),this.setState({isLoading:!1})}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Laporan Timbang Baki")),l.a.createElement("li",{className:"breadcrumb-item active"},"Laporan Timbang Baki Detail")),l.a.createElement("h1",{className:"page-header"},"Laporan Timbang Baki"),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"Filter Laporan"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement(Dr,{kode_baki:this.state.kode_baki,export:this.state.export,columns:this.state.columns,data:this.state.LaporanBarangDetail,isLoading:this.state.isLoading,onSubmit:e=>this.handleSubmit(e)})))),l.a.createElement("br",null)))}}Mr=Object(ae.a)({form:"FormLaporanTimbangBarang",enableReinitialize:!0})(Mr);var wr=Object(q.b)(e=>({hideModal:e.datamaster.modalDialog}),null)(Mr);class Kr extends l.a.Component{constructor(e){super(e),this.toggle=this.toggle.bind(this),this.state={activeTab:"1",loading:!1,kode_baki:"",kode_gudang:"",columns:[{dataField:"kode_barcode",text:"Kode Barcode "},{dataField:"nama_barang",text:"Nama Barang "},{dataField:"kode_dept",text:"Kode Jenis "},{dataField:"berat",text:"Berat "},{dataField:"kadar_cetak",text:"Kadar Cetak "}]}}toggle(e){this.state.activeTab!==e&&this.setState({activeTab:e})}componentDidMount(){Object(k.p)("cetak_barcode_selected",[]),this.props.dispatch(Object(X.jb)()),this.props.dispatch(Object(X.hb)())}setSystem(e){let a={key:"kategori_harga",value:e,type:"kategori_harga"};Object(A.f)("para-system/",a).then(()=>{Object(S.e)("success","Berhasil Setting System")})}getBarcode(){this.props.dispatch(Object(Mt.n)(this.state.kode_gudang,this.state.kode_baki))}print(){let e=JSON.parse(localStorage.getItem("cetak_barcode_selected"))||[],a=e.length,t="";e.map((e,a)=>(a%2===0?(t+="\x1bA\x1bCB+19\x1bZ\x03\x02\x1bA\x1bCD200,3300\x1bZ\x03\x02\x1bA\x1bEX0\x1bAR\x1bA3H001V001\x1bCS2\x1b#E4A\x1bPM0\x1bPO3+00\x1bYE1\x1bIG1\x1bPH0\x1bA101920610\x1bZ\x03\x02\x1bA\x1bPS",t+="\x1b%0\x1bH0470\x1bV005\x1bL0101\x1bP02\x1bS".concat(e.nama_barang),t+="\x1b%0\x1bH0490\x1bV0025\x1bBG01045>I".concat(e.kode_barcode),t+="\x1b%0\x1bH0490\x1bV0075\x1bL0101\x1bP02\x1bS".concat(e.kode_barcode),t+="\x1b%0\x1bH0470\x1bV0100\x1bL0101\x1bP02\x1bS".concat(e.kode_dept),t+="\x1b%0\x1bH0470\x1bV0115\x1bL0102\x1bP02\x1bM".concat(e.berat,"Gr"),t+="\x1b%0\x1bH0470\x1bV0165\x1bL0101\x1bP02\x1bS".concat(e.kode_intern)):(t+="\x1b%0\x1bH0016\x1bV0005\x1bL0101\x1bP02\x1bS".concat(e.nama_barang),t+="\x1b%0\x1bH0030\x1bV0025\x1bBG01045>I".concat(e.kode_barcode),t+="\x1b%0\x1bH0030\x1bV0075\x1bL0101\x1bP02\x1bS".concat(e.kode_barcode),t+="\x1b%0\x1bH0016\x1bV0100\x1bL0101\x1bP02\x1bS".concat(e.kode_dept),t+="\x1b%0\x1bH0016\x1bV0115\x1bL0102\x1bP02\x1bM".concat(e.berat,"Gr"),t+="\x1b%0\x1bH0016\x1bV0165\x1bL0101\x1bP02\x1bS".concat(e.kode_intern),t+="\x02\x1bA\x1b/\x1bCK1\x1bQ1\x1bCL0\x1bZ\x03"),!0)),a%2===1&&(t+="\x02\x1bA\x1b/\x1bCK1\x1bQ1\x1bCL0\x1bZ\x03"),console.log(t),document.getElementById("barcode").value=t,this.TextFilenotapesanan()}TextFilenotapesanan(){const e=document.createElement("a"),a=new Blob([document.getElementById("barcode").value],{type:"text/plain;charset=utf-8"});e.href=URL.createObjectURL(a),e.download="autoprint_barcode.txt",document.body.appendChild(e),e.click()}render(){let e=[{value:"ALL",name:"SEMUA"}];this.props.dataGudang.forEach(a=>{let t={value:a.kode_gudang,name:a.kode_gudang+" - "+a.nama_gudang};e.push(t)});let a=[{value:"ALL",name:"SEMUA"}];this.props.databaki.forEach(e=>{let t={value:e.kode_baki,name:e.kode_baki+" - "+e.nama_baki};a.push(t)});const t={mode:"checkbox",clickToSelect:!0,selectColumnPosition:"left",onSelect:(e,a,t,n)=>{if(!0===a){let a={kode_barcode:e.kode_barcode,nama_barang:e.nama_barang,berat:e.berat,kode_intern:e.kode_intern,kode_dept:e.kode_dept},t=JSON.parse(localStorage.getItem("cetak_barcode_selected"))||[];-1===t.findIndex(a=>a.kode_barcode===e.kode_barcode)&&(t.push(a),localStorage.setItem("cetak_barcode_selected",JSON.stringify(t)))}else if(null===localStorage.getItem("cetak_barcode_selected"));else{let a=(JSON.parse(localStorage.getItem("cetak_barcode_selected"))||[]).findIndex(a=>a.kode_barcode===e.kode_barcode),t=JSON.parse(localStorage.getItem("cetak_barcode_selected"));t.splice(a,1),localStorage.setItem("cetak_barcode_selected",JSON.stringify(t))}},onSelectAll:(e,a,t)=>{a.forEach((a,t)=>{if(!0===e){let e={kode_barcode:a.kode_barcode,nama_barang:a.nama_barang,berat:a.berat,kode_intern:a.kode_intern,kode_dept:a.kode_dept},t=JSON.parse(localStorage.getItem("cetak_barcode_selected"))||[];-1===t.findIndex(e=>e.kode_barcode===a.kode_barcode)&&(t.push(e),localStorage.setItem("cetak_barcode_selected",JSON.stringify(t)))}else if(null===localStorage.getItem("cetak_barcode_selected"));else{let e=(JSON.parse(localStorage.getItem("cetak_barcode_selected"))||[]).findIndex(e=>e.kode_barcode===a.kode_barcode),t=JSON.parse(localStorage.getItem("cetak_barcode_selected"));t.splice(e,1),localStorage.setItem("cetak_barcode_selected",JSON.stringify(t))}})}};return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Dashboard")),l.a.createElement("li",{className:"breadcrumb-item"},"Cetak Barcode")),l.a.createElement("h1",{className:"page-header"},"Cetak Barcode"),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"Cetak Barcode"),l.a.createElement("br",null),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"d-none"},l.a.createElement("textarea",{style:{display:"none"},id:"barcode",rows:"100",cols:"100"})),l.a.createElement("div",{className:"col-3"},!1===this.state.loading?l.a.createElement(ee.a,{label:"Gudang",name:"kode_gudang",options:e,placeholder:"Silahkan Pilih Kode Baki",onChange:e=>{"ALL"!==e?this.props.dispatch(Object(X.ib)(e)):this.props.dispatch(Object(X.hb)()),this.setState({kode_gudang:e})},component:te.f}):l.a.createElement(te.g,{label:"Kode Baki"})),l.a.createElement("div",{className:"col-3"},!1===this.state.loading?l.a.createElement(ee.a,{label:"Kode Baki",name:"kode_baki",options:a,onChange:e=>{this.setState({kode_baki:e})},placeholder:"Silahkan Pilih Kode Baki",component:te.f}):l.a.createElement(te.g,{label:"Kode Baki"})),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("label",{htmlFor:""},"\xa0"),l.a.createElement("button",{className:"btn btn-outline-secondary btn-block",onClick:e=>this.getBarcode(e)},"Cari Data")),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("label",{htmlFor:""},"\xa0"),l.a.createElement("button",{className:"btn btn-primary btn-block",onClick:()=>this.print()},"Print Barcode"))))),l.a.createElement($.a,{selectRow:t,keyField:"kode_barcode",columns:this.state.columns,data:this.props.barangBarcode||[],empty:!0})),l.a.createElement("br",null)))}}Kr=Object(ae.a)({form:"CetakBarcode",enableReinitialize:!0})(Kr);var Pr=Object(q.b)(e=>({databaki:e.datamaster.getDataBaki,dataGroup:e.datamaster.GetDataGroup,dataJenis:e.datamaster.getDataJenis,dataGudang:e.datamaster.getDataGudang,barangBarcode:e.databarang.barangBarcode}))(Kr);const Fr=Object(n.lazy)(()=>t.e(55).then(t.bind(null,1139)));var Hr=class extends n.Component{constructor(e){super(e),this.state={isLoading:!1,LaporanDataPenjualan:[],export:!1},this.handleSubmit=this.handleSubmit.bind(this)}componentDidMount(){let e=JSON.parse(Object(k.l)("userdata"));this.setState({username:e.user_id})}handleSubmit(e){this.setState({isLoading:!0});let a={tgl_awal:Object(k.e)(He(new Date(e.tgl_awal)).format("YYYY-MM-DD")),tgl_akhir:Object(k.e)(He(new Date(e.tgl_akhir)).format("YYYY-MM-DD"))};Object(A.c)("penjualan-tukar/reports?tanggal[gte]=".concat(a.tgl_awal,"&tanggal[lte]=").concat(a.tgl_akhir)).then(e=>{0===e.data.length?(Object(S.e)("info","Data Yang Di Cari Tidak Ada !!!"),this.setState({isLoading:!1,export:!1})):(Object(S.e)("success","Laporan Batal Terjual Tersedia"),Object(k.m)("tgl_laporan",JSON.stringify(a)),this.setState({export:!0,isLoading:!1,LaporanDataPenjualan:e.data}))}).catch(e=>{Object(S.e)("info","Data Yang Di Cari Tidak Ada !!!"),this.setState({export:!1,isLoading:!1})})}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Laporan")),l.a.createElement("li",{className:"breadcrumb-item active"},"Laporan Barang Tukar")),l.a.createElement("h1",{className:"page-header"},"Laporan Barang Tukar "),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"Laporan Barang Tukar"),l.a.createElement(Q.b,null,l.a.createElement(Fr,{export:this.state.export,isLoading:this.state.isLoading,LaporanDataPenjualan:this.state.LaporanDataPenjualan,onSubmit:e=>this.handleSubmit(e)}))))}};const Rr=Object(n.lazy)(()=>t.e(11).then(t.bind(null,1140)));var Jr=Object(q.b)(e=>({dataSales:e.datamaster.getDataSales}))(class extends n.Component{constructor(e){super(e),this.state={isLoading:!1,LaporanTransaksiPembelian:[],export:!1},this.handleSubmit=this.handleSubmit.bind(this)}componentDidMount(){let e=JSON.parse(Object(k.l)("userdata"));this.setState({username:e.user_id}),this.props.dispatch(Object(X.ob)())}handleSubmit(e){this.setState({isLoading:!0});let a={tgl_awal:Object(k.e)(He(new Date(e.tgl_awal)).format("YYYY-MM-DD")),tgl_akhir:Object(k.e)(He(new Date(e.tgl_akhir)).format("YYYY-MM-DD"))};Object(A.c)("pembelian/report-selisih?tanggal[gte]=".concat(a.tgl_awal,"&tanggal[lte]=").concat(a.tgl_akhir)).then(e=>{0===e.data.length?(Object(S.e)("info","Data Yang Di Cari Tidak Ada !!!"),this.setState({isLoading:!1,export:!1})):(Object(S.e)("success","Laporan Transaksi Penjualan Tersedia"),Object(k.m)("tgl_laporan",JSON.stringify(a)),this.setState({export:!0,isLoading:!1,LaporanTransaksiPembelian:e.data}))}).catch(e=>{Object(S.e)("info","Data Yang Di Cari Tidak Ada !!!"),this.setState({isLoading:!1,export:!1})})}render(){return l.a.createElement("div",null,l.a.createElement("ol",{className:"breadcrumb float-xl-right"},l.a.createElement("li",{className:"breadcrumb-item"},l.a.createElement(i.b,{to:"#"},"Laporan")),l.a.createElement("li",{className:"breadcrumb-item active"},"Laporan History Transaksi Pembelian")),l.a.createElement("h1",{className:"page-header"},"Laporan History Transaksi Pembelian "),l.a.createElement(Q.a,null,l.a.createElement(Q.c,null,"Laporan History Transaksi Pembelian"),l.a.createElement(Q.b,null,l.a.createElement(Rr,{export:this.state.export,isLoading:this.state.isLoading,dataSales:this.props.dataSales,LaporanTransaksiPembelian:this.state.LaporanTransaksiPembelian,onSubmit:e=>this.handleSubmit(e)}))))}});const zr=Object(n.lazy)(()=>t.e(29).then(t.bind(null,1141))),Gr=Object(n.lazy)(()=>t.e(47).then(t.bind(null,1121))),Ur=Object(n.lazy)(()=>t.e(30).then(t.bind(null,1104))),Yr=Object(n.lazy)(()=>t.e(18).then(t.bind(null,1142))),Vr=Object(n.lazy)(()=>t.e(17).then(t.bind(null,1143))),Wr=Object(n.lazy)(()=>t.e(48).then(t.bind(null,1120))),Qr=Object(n.lazy)(()=>t.e(60).then(t.bind(null,1144))),Xr=Object(n.lazy)(()=>t.e(63).then(t.bind(null,1105))),qr=Object(n.lazy)(()=>t.e(8).then(t.bind(null,1145))),Zr=Object(n.lazy)(()=>t.e(46).then(t.bind(null,1122))),$r=Object(n.lazy)(()=>t.e(27).then(t.bind(null,1125))),eo=Object(n.lazy)(()=>t.e(24).then(t.bind(null,1117))),ao=Object(n.lazy)(()=>t.e(53).then(t.bind(null,1106))),to=Object(n.lazy)(()=>t.e(57).then(t.bind(null,1107))),no=Object(n.lazy)(()=>t.e(56).then(t.bind(null,1108))),lo=Object(n.lazy)(()=>t.e(14).then(t.bind(null,1126))),ro=Object(n.lazy)(()=>t.e(51).then(t.bind(null,1109))),oo=Object(n.lazy)(()=>t.e(50).then(t.bind(null,1110))),so=Object(n.lazy)(()=>Promise.all([t.e(4),t.e(23)]).then(t.bind(null,1119))),io=Object(n.lazy)(()=>t.e(49).then(t.bind(null,1111))),co=Object(n.lazy)(()=>t.e(13).then(t.bind(null,1146))),mo=Object(n.lazy)(()=>Promise.all([t.e(5),t.e(28)]).then(t.bind(null,1118))),go=Object(n.lazy)(()=>t.e(7).then(t.bind(null,1147))),po=Object(n.lazy)(()=>t.e(26).then(t.bind(null,1127))),ho=Object(n.lazy)(()=>t.e(44).then(t.bind(null,1123))),uo=Object(n.lazy)(()=>t.e(45).then(t.bind(null,1124))),bo=Object(n.lazy)(()=>t.e(33).then(t.bind(null,1128))),Eo=Object(n.lazy)(()=>t.e(22).then(t.bind(null,1148))),_o=Object(n.lazy)(()=>t.e(64).then(t.bind(null,1149))),Ao=Object(n.lazy)(()=>t.e(19).then(t.bind(null,1150))),ko=Object(n.lazy)(()=>t.e(34).then(t.bind(null,1151))),So=Object(n.lazy)(()=>t.e(21).then(t.bind(null,1152))),fo=Object(n.lazy)(()=>t.e(37).then(t.bind(null,1129))),yo=Object(n.lazy)(()=>t.e(38).then(t.bind(null,1130))),Oo=Object(n.lazy)(()=>t.e(40).then(t.bind(null,1131))),Co=Object(n.lazy)(()=>t.e(41).then(t.bind(null,1132))),No=Object(n.lazy)(()=>t.e(42).then(t.bind(null,1133))),xo=Object(n.lazy)(()=>t.e(32).then(t.bind(null,1134))),jo=Object(n.lazy)(()=>t.e(20).then(t.bind(null,1153))),vo=Object(n.lazy)(()=>t.e(39).then(t.bind(null,1135))),Lo=Object(n.lazy)(()=>t.e(31).then(t.bind(null,1112))),To=Object(n.lazy)(()=>t.e(36).then(t.bind(null,1113))),Io=Object(n.lazy)(()=>t.e(43).then(t.bind(null,1136))),Bo=Object(n.lazy)(()=>t.e(25).then(t.bind(null,1114)));var Do=[{path:"/",exact:!0,title:"Login",component:()=>l.a.createElement(Bo,null)},{path:"/dashboard",exact:!0,title:"Dashboard",component:()=>l.a.createElement(Lo,null)},{path:"/master-kategori",exact:!0,title:"Master Kategori",component:()=>l.a.createElement(To,null)},{path:"/master-jenis",exact:!0,title:"Master Jenis",component:()=>l.a.createElement(So,null)},{path:"/master-group",exact:!0,title:"Master Group",component:()=>l.a.createElement(bo,null)},{path:"/master-bandrol",exact:!0,title:"Master Bandrol",component:()=>l.a.createElement(Ao,null)},{path:"/master-kode-transaksi",exact:!0,title:"Master Kode Transaksi",component:()=>l.a.createElement(fo,null)},{path:"/master-gudang",exact:!0,title:"Master Gudang",component:()=>l.a.createElement(jo,null)},{path:"/master-baki",exact:!0,title:"Master Baki",component:()=>l.a.createElement(xo,null)},{path:"/master-sales",exact:!0,title:"Master Sales",component:()=>l.a.createElement(vo,null)},{path:"/master-tukang",exact:!0,title:"Master Tukang",component:()=>l.a.createElement(Oo,null)},{path:"/master-kondisi-barang",exact:!0,title:"Master Kondisi Barang",component:()=>l.a.createElement(yo,null)},{path:"/tambah-data-barang",exact:!0,title:"Tambah Data Barang",component:()=>l.a.createElement(mo,null)},{path:"/master-kondisi-pembelian",exact:!0,title:"Master Kondisi Pembelian",component:()=>l.a.createElement(Co,null)},{path:"/master-kondisi-pinjaman",exact:!0,title:"Master Kondisi Pinjaman",component:()=>l.a.createElement(No,null)},{path:"/master-data-hadiah",exact:!0,title:"Master Data Hadiah",component:()=>l.a.createElement(ko,null)},{path:"/master-parameter-rugi-nota",exact:!0,title:"Master Parameter Rugi Nota",component:()=>l.a.createElement(Io,null)},{path:"/master-parameter-harga-emas",exact:!0,title:"Master Parameter Rugi Nota",component:()=>l.a.createElement(me,null)},{path:"/master-kadar",exact:!0,title:"Master Kadar",component:()=>l.a.createElement(Eo,null)},{path:"/transaksi-pembelian",exact:!0,title:"Transaksi Pembelian",component:()=>l.a.createElement(so,null)},{path:"/lihat-pembelian",exact:!0,title:"Lihat Pembelian",component:()=>l.a.createElement(un,null)},{path:"/batal-pembelian",exact:!0,title:"Batal Pembelian",component:()=>l.a.createElement(co,null)},{path:"/laporan-pembelian-sales",exact:!0,title:"Laporan Pembelian Sales",component:()=>l.a.createElement(oo,null)},{path:"/laporan-transaksi-pembelian",exact:!0,title:"Laporan Transaksi Pembelian",component:()=>l.a.createElement(io,null)},{path:"/laporan-transaksi-pembelian-history",exact:!0,title:"Laporan Transaksi Pembelian History",component:()=>l.a.createElement(Jr,null)},{path:"/laporan-batal-pembelian",exact:!0,title:"Laporan Batal Pembelian",component:()=>l.a.createElement(ct,null)},{path:"/master-parameter-point",exact:!0,title:"Parameter Point",component:()=>l.a.createElement(he,null)},{path:"/transaksi-penjualan",exact:!0,title:"Transaksi Penjualan",component:()=>l.a.createElement(eo,null)},{path:"/lihat-penjualan",exact:!0,title:"Lihat Penjualan",component:()=>l.a.createElement(yn,null)},{path:"/validasi-penjualan",exact:!0,title:"Validasi Penjualan",component:()=>l.a.createElement(On,null)},{path:"/validasi-titipan",exact:!0,title:"Validasi titipan",component:()=>l.a.createElement(Sa,null)},{path:"/batal-penjualan",exact:!0,title:"Batal Penjualan",component:()=>l.a.createElement(lo,null)},{path:"/lihat-titipan",exact:!0,title:"Lihat Titipan",component:()=>l.a.createElement(kn,null)},{path:"/laporan-batal-penjualan",exact:!0,title:"Laporan Batal Penjualan",component:()=>l.a.createElement(ro,null)},{path:"/transaksi-pesanan",exact:!0,title:"Transaksi Pesanan",component:()=>l.a.createElement(Fn,null)},{path:"/lihat-pesanan",exact:!0,title:"Lihat Pesanan",component:()=>l.a.createElement(Xn,null)},{path:"/laporan-penjualan-sales",exact:!0,title:"Laporan Penjualan Sales",component:()=>l.a.createElement(to,null)},{path:"/laporan-transaksi-penjualan",exact:!0,title:"Laporan Transaksi Penjualan",component:()=>l.a.createElement(ao,null)},{path:"/laporan-penjualan-bayar",exact:!0,title:"Laporan Penjualan Bayar",component:()=>l.a.createElement(no,null)},{path:"/import-data-pusat",exact:!0,title:"Import Data Pusat",component:()=>l.a.createElement(Qr,null)},{path:"/kirim-barang-kecabang",exact:!0,title:"Kirim Barang Kecabang",component:()=>l.a.createElement(Xr,null)},{path:"/transaksi-services",exact:!0,title:"Transaksi Services",component:()=>l.a.createElement(Kl,null)},{path:"/lihat-services",exact:!0,title:"Lihat Services",component:()=>l.a.createElement(Al,null)},{path:"/laporan-services",exact:!0,title:"Laporan Services",component:()=>l.a.createElement(_t,null)},{path:"/laporan-batal-service",exact:!0,title:"Laporan Batal Services",component:()=>l.a.createElement(ht,null)},{path:"/laporan-service-ambil",exact:!0,title:"Laporan Serice Ambil",component:()=>l.a.createElement(bt,null)},{path:"/data-users",exact:!0,title:"Data Users",component:()=>l.a.createElement(_o,null)},{path:"/hak-akses-users",exact:!0,title:"Hak Akses Users",component:()=>l.a.createElement(xt,null)},{path:"/data-barang",exact:!0,title:"Data Barang",component:()=>l.a.createElement(po,null)},{path:"/terima-barang",exact:!0,title:"Terima Barang",component:()=>l.a.createElement(zr,null)},{path:"/pindah-barang",exact:!0,title:"Pindah Barang",component:()=>l.a.createElement(qr,null)},{path:"/hancur-data-barang",exact:!0,title:"Hancur Data Barang",component:()=>l.a.createElement(go,null)},{path:"/pindah-barang-satu-baki",exact:!0,title:"Pindah Barang Satu Baki",component:()=>l.a.createElement($r,null)},{path:"/timbang-baki",exact:!0,title:"Timbang barang",component:()=>l.a.createElement(Lr,null)},{path:"/transaksi-hutang",exact:!0,title:"Transaksi Hutang",component:()=>l.a.createElement(na,null)},{path:"/lihat-hutang",exact:!0,title:"Lihat Hutang",component:()=>l.a.createElement(Re,null)},{path:"/validasi-hutang",exact:!0,title:"Validasi Hutang",component:()=>l.a.createElement(sa,null)},{path:"/validasi-jual-beli",exact:!0,title:"Validasi Jual Beli",component:()=>l.a.createElement(Ea,null)},{path:"/tambah-uang-kas",exact:!0,title:"Tambah Uang Kas",component:()=>l.a.createElement(Yr,null)},{path:"/ambil-uang-kas",exact:!0,title:"Ambil Uang Kas",component:()=>l.a.createElement(Vr,null)},{path:"/laporan-transaksi-keuangan-cash",exact:!0,title:"Laporan Transaksi Keuangan Cash",component:()=>l.a.createElement(Wr,null)},{path:"/laporan-keuangan-non-cash",exact:!0,title:"Laporan Keuangan Non Cash",component:()=>l.a.createElement(_r,null)},{path:"/laporan-terima-barang",exact:!0,title:"Laporan Terima Barang",component:()=>l.a.createElement(Gr,null)},{path:"/laporan-otorisasi",exact:!0,title:"Laporan Otorisasi",component:()=>l.a.createElement(yr,null)},{path:"/laporan-pindah-barang",exact:!0,title:"Laporan Pindah Barang",component:()=>l.a.createElement(Zr,null)},{path:"/laporan-hancur-barang",exact:!0,title:"Laporan Hancur Barang",component:()=>l.a.createElement(uo,null)},{path:"/laporan-barang-detail",exact:!0,title:"Laporan Barang Detail",component:()=>l.a.createElement(ho,null)},{path:"/laporan-barang-sumary",exact:!0,title:"Laporan Barang Sumary",component:()=>l.a.createElement(Ia,null)},{path:"/laporan-tambah-barang",exact:!0,title:"Laporan Tambah Barang",component:()=>l.a.createElement(mr,null)},{path:"/settingNota",exact:!0,title:"Setting Nota",component:()=>l.a.createElement(Zl,null)},{path:"/settingsystem",exact:!0,title:"Setting System",component:()=>l.a.createElement($l,null)},{path:"/cetak-barcode",exact:!0,title:"Cetak Barcode",component:()=>l.a.createElement(Pr,null)},{path:"/data-member",exact:!0,title:"Data Member",component:()=>l.a.createElement(Ht,null)},{path:"/lihat-transaksi-member",exact:!0,title:"Lihat Transaksi Member",component:()=>l.a.createElement(Gt,null)},{path:"/transaksi-poin",exact:!0,title:"Transaksi Poin",component:()=>l.a.createElement(qt,null)},{path:"/tukar-point",exact:!0,title:"Tukar Poin",component:()=>l.a.createElement(cn,null)},{path:"/laporan-daftar-member",exact:!0,title:"Laporan daftar Member",component:()=>l.a.createElement(lt,null)},{path:"/laporan-transaksi-hutang",exact:!0,title:"Laporan Transaksi Hutang",component:()=>l.a.createElement($a,null)},{path:"/laporan-hutang-lunas",exact:!0,title:"Laporan Hutang Lunas",component:()=>l.a.createElement(Wa,null)},{path:"/laporan-batal-hutang",exact:!0,title:"Laporan Batal Hutang",component:()=>l.a.createElement(za,null)},{path:"/stock-opname",exact:!0,title:"Stock Opname",component:()=>l.a.createElement(Xl,null)},{path:"/laporan-eod",exact:!0,title:"Laporan Eod",component:()=>l.a.createElement(Pa,null)},{path:"/laporan-authorization",exact:!0,title:"Laporan Eod",component:()=>l.a.createElement(yr,null)},{path:"/laporan-timbang-baki",exact:!0,title:"Laporan Timbang Baki",component:()=>l.a.createElement(wr,null)},{path:"/laporan-barang-tukar",exact:!0,title:"Laporan Barang Tukar",component:()=>l.a.createElement(Hr,null)},{path:"/blank",exact:!0,title:"blank",component:()=>l.a.createElement(Ur,null)}],Mo=t(202),wo=t.n(Mo);const Ko="Kota Mas";function Po(e,a){for(var t,n=0;n<a.length;n++)a[n].path===e&&(t=Ko+" | "+a[n].title);document.title=t||Ko}var Fo=Object(L.f)(class extends l.a.Component{constructor(e){super(e),this.state={isLoading:!1}}componentDidMount(){Po(this.props.history.location.pathname,Do)}componentWillMount(){this.props.history.listen(()=>{Po(this.props.history.location.pathname,Do)})}showModalTutupToko(){var e=(new Date).setDate(new Date(new Date(Object(k.j)().tgl_system)).getDate()+1),a=new Date(e);_.a.fire({html:"<h1><b>Apakah Anda Yakin Ingin  <br/> Menutup Toko</b> ?</h1><br>Dari Tanggal "+Object(k.j)().tgl_system+" Ke "+Object(k.e)(u()(new Date(a)).format("YYYY-MM-DD")),icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(e=>{e.isConfirmed&&Object(A.e)("system/close",{PROSES:"close"}).then(e=>{Object(S.e)("success","Berhasil Menutup Toko"),setTimeout(()=>{window.location.href="/",localStorage.clear(),localStorage.setItem("islogin","false")},1e3)}).catch(e=>{console.log(e.response),void 0===e.response?Object(S.e)("info",void 0===e.response?"Terjadi Kesalahan Saat Request Data":e.response.data):"Invalid token."===e.response.data?this.handleInvalidToken():Object(S.e)("info",e.response.data)})})}handleInvalidToken(){Object(S.e)("info","Toko Sudah Ditutup Oleh Akun Lain"),setTimeout(()=>{window.location.href="/",localStorage.clear(),localStorage.setItem("islogin","false")},1e3)}checkAcces(){let e=null===localStorage.getItem("menu")?[]:JSON.parse(localStorage.getItem("menu")),a=[];e.forEach(e=>{a.push(e.menu_name)});let t=this.props.history.location.pathname,n=a.findIndex(e=>e===t);return"/"===t||"/dashboard"===t?2:n}render(){return l.a.createElement(n.Suspense,{fallback:l.a.createElement(W.a,{width:"100%",height:1e3})},l.a.createElement(s.a.Consumer,null,({pageContentFullWidth:e,pageContentClass:a,pageContentInverseMode:t})=>l.a.createElement("div",{className:"content "+(e?"content-full-width ":"")+(t?"content-inverse-mode ":"")+a},-1===this.checkAcces()?l.a.createElement(l.a.Fragment,null,null===localStorage.getItem("userdata")?-1:"OWN"===JSON.parse(localStorage.getItem("userdata")).level?l.a.createElement(l.a.Fragment,null,Do.map((e,a)=>l.a.createElement(L.b,{key:a,path:e.path,exact:e.exact,component:e.component}))):l.a.createElement("div",{className:"container text-center mt-5 "},l.a.createElement("div",{className:"align-item-center"},l.a.createElement("img",{src:wo.a,alt:"Access",width:"30%"}),l.a.createElement("h1",null," Mohon Maaf"),l.a.createElement("h1",{className:"f-w-900"},"Akses Di Menu Ini Tidak Di Izinkan"),l.a.createElement("h5",null,"Hubungi Admin Jika Ingin Memakai Menu Ini"),l.a.createElement("div",null,l.a.createElement(i.b,{to:"/dashboard"},l.a.createElement("button",{className:"btn btn-primary mt-3"},l.a.createElement("i",{className:"fa fa-chevron-left mr-3"})," Go Home")))))):null===localStorage.getItem("userdata")?l.a.createElement(l.a.Fragment,null,Do.map((e,a)=>l.a.createElement(L.b,{key:a,path:e.path,exact:e.exact,component:e.component}))):Object(k.j)().tgl_system<Object(k.i)()?l.a.createElement(l.a.Fragment,null,"/validasi-jual-beli"===this.props.history.location.pathname||"/validasi-hutang"===this.props.history.location.pathname?l.a.createElement(l.a.Fragment,null,Do.map((e,a)=>l.a.createElement(L.b,{key:a,path:e.path,exact:e.exact,component:e.component}))):l.a.createElement("div",{className:"container text-center mt-5 "},l.a.createElement("div",{className:"align-item-center"},l.a.createElement("img",{src:wo.a,alt:"Access",width:"30%"}),l.a.createElement("h1",null," Mohon Maaf"),l.a.createElement("h3",{className:"f-w-900"},"Tanggal System Berbeda ",l.a.createElement("br",null),"Dengan Tanggal Sekarang"),l.a.createElement("h5",null,"Silahkan Tutup Toko"),l.a.createElement("div",null,l.a.createElement("button",{disabled:this.state.isLoading,onClick:()=>this.showModalTutupToko(),className:"btn btn-primary mt-3"},this.state.isLoading?l.a.createElement(l.a.Fragment,null,l.a.createElement("i",{className:"fas fa-spinner fa-spin"})," ","\xa0 Tutup Toko Sekarang"):l.a.createElement(l.a.Fragment,null," ",l.a.createElement("i",{className:"fa fa-window-close mr-3"})," ","Tutup Toko Sekarang"," ")))))):l.a.createElement(l.a.Fragment,null,Do.map((e,a)=>l.a.createElement(L.b,{key:a,path:e.path,exact:e.exact,component:e.component}))))))}});var Ho=class extends l.a.Component{constructor(e){super(e);var a=new Date;this.state={year:a.getFullYear()}}render(){return l.a.createElement("div",{id:"footer",className:"footer"},"\xa9 ",this.state.year," Nagagold Online Responsive Admin Template - Sean Ngu All Rights Reserved")}};class Ro extends l.a.Component{constructor(e){super(e),this.state={active:-1,clicked:-1}}handleExpand(e,a,t){e.preventDefault(),this.setState(e=>({active:this.state.active===a?-1:a,clicked:1})),setTimeout(()=>{this.context.handleFloatSubMenuClick()},0)}render(){var e=this.props.data.icon&&l.a.createElement("i",{className:this.props.data.icon}),a=this.props.data.img&&l.a.createElement("span",{className:"icon-img"},l.a.createElement("img",{src:this.props.data.img,alt:""})),t=this.props.data.children&&!this.props.data.badge&&l.a.createElement("b",{className:"caret"}),n=this.props.data.label&&l.a.createElement("span",{className:"label label-theme m-l-5"},this.props.data.label),r=this.props.data.badge&&l.a.createElement("span",{className:"badge pull-right"},this.props.data.badge),o=this.props.data.title&&l.a.createElement("span",null,this.props.data.title," ",n);return l.a.createElement(s.a.Consumer,null,({pageSidebarMinified:n})=>l.a.createElement(L.b,{path:this.props.data.path,exact:this.props.data.exact,children:({match:s})=>l.a.createElement("li",{className:(s?"active ":"")+(this.props.active||-1===this.props.clicked&&s?"expand ":"closed ")+(this.props.data.children?"has-sub ":"")},this.props.data.children?l.a.createElement(i.b,{to:this.props.data.path,onClick:this.props.expand},a," ",e," ",o," ",r," ",t):l.a.createElement(i.b,{to:this.props.data.path},a," ",e," ",o," ",r," ",t),this.props.data.children&&l.a.createElement("ul",{className:"sub-menu "+((this.props.active||-1===this.props.clicked&&s)&&!n?"d-block ":"d-none")},this.props.data.children&&this.props.data.children.map((e,a)=>l.a.createElement(Ro,{data:e,key:a,expand:e=>this.handleExpand(e,a,s),active:a===this.state.active,clicked:this.state.clicked}))))}))}}Ro.contextType=s.a;var Jo=Ro;class zo extends l.a.Component{constructor(e){super(e),this.state={active:-1,clicked:-1}}handleExpand(e,a,t){e.preventDefault(),-1===this.state.clicked&&t?this.setState(e=>({active:-1,clicked:1})):this.setState(e=>({active:this.state.active===a?-1:a,clicked:1})),setTimeout(()=>{this.context.handleFloatSubMenuClick()},0)}render(){return l.a.createElement(s.a.Consumer,null,({pageFloatSubMenu:e,pageFloatSubMenuActive:a,pageFloatSubMenuTop:t,pageFloatSubMenuLeft:n,pageFloatSubMenuBottom:r,pageFloatSubMenuLineTop:o,pageFloatSubMenuLineBottom:s,pageFloatSubMenuArrowTop:i,pageFloatSubMenuArrowBottom:c,handleFloatSubMenuOnMouseOver:m,handleFloatSubMenuOnMouseOut:d})=>l.a.createElement("div",{id:"float-sub-menu",onMouseOver:m,onMouseOut:d,className:"float-sub-menu-container "+(a?"d-block":"d-none"),style:{left:n,top:t,bottom:r}},l.a.createElement("div",{className:"float-sub-menu-arrow",style:{top:i,bottom:c}}),l.a.createElement("div",{className:"float-sub-menu-line",style:{top:o,bottom:s}}),l.a.createElement("ul",{className:"float-sub-menu"},e.children&&e.children.map((e,a)=>l.a.createElement(L.b,{path:e.path,exact:e.exact,key:a,children:({match:t})=>l.a.createElement(Jo,{data:e,key:a,expand:e=>this.handleExpand(e,a,t),active:a===this.state.active,clicked:this.state.clicked})})))))}}zo.contextType=s.a;var Go=zo;var Uo=class extends l.a.Component{constructor(e){var a,t;super(e),this.handleScroll=(()=>{window.scrollY>0?this.setState(e=>({hasScroll:!0})):this.setState(e=>({hasScroll:!1}))}),this.toggleSidebarMinify=(e=>{e.preventDefault(),this.state.pageSidebarMinify&&this.setState(e=>({pageFloatSubMenuActive:!1})),this.setState(e=>({pageSidebarMinify:!this.state.pageSidebarMinify}))}),this.toggleMobileSidebar=(e=>{this.setState(e=>({pageSidebarToggled:!this.state.pageSidebarToggled}))}),this.handleSetPageSidebar=(e=>{this.setState(a=>({pageSidebar:e}))}),this.handleSetPageSidebarMinified=(e=>{this.setState(a=>({pageSidebarMinify:e}))}),this.handleSetPageSidebarWide=(e=>{this.setState(a=>({pageSidebarWide:e}))}),this.handleSetPageSidebarLight=(e=>{this.setState(a=>({pageSidebarLight:e}))}),this.handleSetPageSidebarTransparent=(e=>{this.setState(a=>({pageSidebarTransparent:e}))}),this.toggleRightSidebar=(e=>{e.preventDefault(),this.setState(e=>({pageRightSidebarCollapsed:!this.state.pageRightSidebarCollapsed}))}),this.toggleMobileRightSidebar=(e=>{e.preventDefault(),this.setState(e=>({pageMobileRightSidebarToggled:!this.state.pageMobileRightSidebarToggled}))}),this.handleSetPageRightSidebar=(e=>{this.setState(a=>({pageRightSidebar:e}))}),this.handleFloatSubMenuOnMouseOver=(e=>{clearTimeout(a),clearTimeout(t)}),this.handleFloatSubMenuOnMouseOut=(e=>{a=setTimeout(()=>{this.setState(e=>({pageFloatSubMenuActive:!1}))},250)}),this.handleSidebarOnMouseOver=((e,n)=>{if(this.state.pageSidebarMinify)if(n.children){var l=document.getElementById("sidebar").offsetWidth+document.getElementById("sidebar").offsetLeft+"px";clearTimeout(a),clearTimeout(t),this.setState(e=>({pageFloatSubMenu:n,pageFloatSubMenuActive:!0,pageFloatSubMenuLeft:l}));var r=e.currentTarget.offsetParent.getBoundingClientRect();t=setTimeout(()=>{var e,a,t,n,l,o,s=r.top,i=window.innerHeight;if(i-s>document.querySelector(".float-sub-menu-container").offsetHeight)e=r.top+"px",a="auto",t="20px",n="auto",l="20px",o="auto";else{var c=i-s-21;e="auto",a="0",t="auto",n=c+"px",l="20px",o=c+"px"}this.setState(s=>({pageFloatSubMenuTop:e,pageFloatSubMenuBottom:a,pageFloatSubMenuLineTop:l,pageFloatSubMenuLineBottom:o,pageFloatSubMenuArrowTop:t,pageFloatSubMenuArrowBottom:n,pageFloatSubMenuOffset:r}))},0)}else a=setTimeout(()=>{this.setState(e=>({pageFloatSubMenu:"",pageFloatSubMenuActive:!1}))},250)}),this.handleSidebarOnMouseOut=(e=>{this.state.pageSidebarMinify&&(a=setTimeout(()=>{this.setState(e=>({pageFloatSubMenuActive:!1}))},250))}),this.handleFloatSubMenuClick=(()=>{if(this.state.pageSidebarMinify){const e=window.innerHeight,a=document.getElementById("float-sub-menu").offsetHeight,t=this.state.pageFloatSubMenuOffset.top,n=e-t>a?t:"auto",l=this.state.pageFloatSubMenuOffset.left+document.getElementById("sidebar").offsetWidth+"px",r=e-t>a?"auto":"0",o=e-t>a?"20px":"auto",s=e-t>a?"auto":e-t-21+"px",i=e-t>a?"20px":"auto",c=e-t>a?"auto":e-t-21+"px";this.setState(e=>({pageFloatSubMenuTop:n,pageFloatSubMenuLeft:l,pageFloatSubMenuBottom:r,pageFloatSubMenuLineTop:i,pageFloatSubMenuLineBottom:c,pageFloatSubMenuArrowTop:o,pageFloatSubMenuArrowBottom:s}))}}),this.handleSetPageContent=(e=>{this.setState(a=>({pageContent:e}))}),this.handleSetPageContentClass=(e=>{this.setState(a=>({pageContentClass:e}))}),this.handleSetPageContentFullHeight=(e=>{this.setState(a=>({pageContentFullHeight:e}))}),this.handleSetPageContentFullWidth=(e=>{this.setState(a=>({pageContentFullWidth:e}))}),this.handleSetPageContentInverseMode=(e=>{this.setState(a=>({pageContentInverseMode:e}))}),this.handleSetPageHeader=(e=>{this.setState(a=>({pageHeader:e}))}),this.handleSetPageHeaderMegaMenu=(e=>{this.setState(a=>({pageHeaderMegaMenu:e}))}),this.handleSetPageHeaderLanguageBar=(e=>{this.setState(a=>({pageHeaderLanguageBar:e}))}),this.handleSetPageFooter=(e=>{this.setState(a=>({pageFooter:e}))}),this.handleSetPageTopMenu=(e=>{this.setState(a=>({pageTopMenu:e}))}),this.toggleMobileTopMenu=(e=>{e.preventDefault(),this.setState(e=>({pageMobileTopMenu:!this.state.pageMobileTopMenu}))}),this.handleSetPageTwoSidebar=(e=>{this.setState(a=>({pageTwoSidebar:e}))}),this.handleSetPageBoxedLayout=(e=>{!0===e?document.body.classList.add("boxed-layout"):document.body.classList.remove("boxed-layout")}),this.handleSetBodyWhiteBg=(e=>{!0===e?document.body.classList.add("bg-white"):document.body.classList.remove("bg-white")}),this.state={pageHeader:!0,pageheaderMegaMenu:!1,pageHeaderLanguageBar:!1,hasScroll:!1,handleSetPageHeader:this.handleSetPageHeader,handleSetPageHeaderLanguageBar:this.handleSetPageHeaderLanguageBar,handleSetPageHeaderMegaMenu:this.handleSetPageHeaderMegaMenu,pageSidebar:!0,pageSidebarWide:!1,pageSidebarLight:!1,pageSidebarMinify:!1,pageSidebarToggled:!1,pageSidebarTransparent:!1,handleSetPageSidebar:this.handleSetPageSidebar,handleSetPageSidebarWide:this.handleSetPageSidebarWide,handleSetPageSidebarLight:this.handleSetPageSidebarLight,handleSetPageSidebarMinified:this.handleSetPageSidebarMinified,handleSetPageSidebarTransparent:this.handleSetPageSidebarTransparent,handleSidebarOnMouseOut:this.handleSidebarOnMouseOut,handleSidebarOnMouseOver:this.handleSidebarOnMouseOver,toggleSidebarMinify:this.toggleSidebarMinify,toggleMobileSidebar:this.toggleMobileSidebar,pageFloatSubMenuActive:!1,pageFloatSubMenu:"",pageFloatSubMenuTop:"auto",pageFloatSubMenuLeft:"auto",pageFloatSubMenuBottom:"auto",pageFloatSubMenuLineTop:"auto",pageFloatSubMenuLineBottom:"auto",pageFloatSubMenuArrowTop:"auto",pageFloatSubMenuArrowBottom:"auto",pageFloatSubMenuOffset:"",handleFloatSubMenuOnMouseOver:this.handleFloatSubMenuOnMouseOver,handleFloatSubMenuOnMouseOut:this.handleFloatSubMenuOnMouseOut,handleFloatSubMenuClick:this.handleFloatSubMenuClick,pageContent:!0,pageContentClass:"",pageContentFullHeight:!1,pageContentFullWidth:!1,pageContentInverseMode:!1,handleSetPageContent:this.handleSetPageContent,handleSetPageContentClass:this.handleSetPageContentClass,handleSetPageContentFullHeight:this.handleSetPageContentFullHeight,handleSetPageContentFullWidth:this.handleSetPageContentFullWidth,handleSetPageContentInverseMode:this.handleSetPageContentInverseMode,pageFooter:!1,handleSetPageFooter:this.handleSetPageFooter,pageTopMenu:!1,pageMobileTopMenu:!1,toggleMobileTopMenu:this.toggleMobileTopMenu,handleSetPageTopMenu:this.handleSetPageTopMenu,pageTwoSidebar:!1,handleSetPageTwoSidebar:this.handleSetPageTwoSidebar,pageRightSidebar:!1,pageRightSidebarToggled:!0,pageMobileRightSidebarToggled:!1,toggleRightSidebar:this.toggleRightSidebar,toggleMobileRightSidebar:this.toggleMobileRightSidebar,handleSetPageRightSidebar:this.handleSetPageRightSidebar,handleSetBodyWhiteBg:this.handleSetBodyWhiteBg,handleSetPageBoxedLayout:this.handleSetPageBoxedLayout}}componentDidMount(){window.addEventListener("scroll",this.handleScroll),window.addEventListener("online",this.updateStatus),window.addEventListener("offline",this.updateStatus)}updateStatus(e){navigator.onLine?_.a.fire({position:"center",imageUrl:t(633),imageWidth:250,imageHeight:250,title:"Looks like you connection is Back, You Can Use Our Website Again",showConfirmButton:!0}).then(e=>{e.isConfirmed&&window.location.reload()}):_.a.fire({position:"center",imageUrl:t(65),title:"Looks like you lost your internet connection",imageWidth:250,imageHeight:250,showConfirmButton:!1,allowOutsideClick:!1})}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll)}render(){return Object(k.l)("islogin")===Object(k.i)()?l.a.createElement(s.a.Provider,{value:this.state},l.a.createElement("div",{className:"fade page-sidebar-fixed show page-container "+(this.state.pageHeader?"page-header-fixed ":"")+(this.state.pageSidebar?"":"page-without-sidebar ")+(this.state.pageRightSidebar?"page-with-right-sidebar ":"")+(this.state.pageSidebarWide?"page-with-wide-sidebar ":"")+(this.state.pageSidebarLight?"page-with-light-sidebar ":"")+(this.state.pageSidebarMinify?"page-sidebar-minified ":"")+(this.state.pageSidebarToggled?"page-sidebar-toggled ":"")+(this.state.pageTopMenu?"page-with-top-menu ":"")+(this.state.pageContentFullHeight?"page-content-full-height ":"")+(this.state.pageTwoSidebar?"page-with-two-sidebar ":"")+(this.state.pageRightSidebarCollapsed?"page-right-sidebar-collapsed ":"")+(this.state.pageMobileRightSidebarToggled?"page-right-sidebar-toggled ":"")+(this.state.hasScroll?"has-scroll ":"")},this.state.pageHeader&&l.a.createElement(N,null),this.state.pageSidebar&&l.a.createElement(M,null),this.state.pageTwoSidebar&&l.a.createElement(R,null),this.state.pageTopMenu&&l.a.createElement(Y,null),this.state.pageContent&&l.a.createElement(Fo,null),this.state.pageFooter&&l.a.createElement(Ho,null),l.a.createElement(Go,null))):l.a.createElement(s.a.Provider,{value:this.state},localStorage.clear(),l.a.createElement(L.a,{to:"/"}),this.state.pageContent&&l.a.createElement(Fo,null))}},Yo=(t(634),t(635),t(636),t(637),t(638),t(639),t(640),t(641),t(642),t(643),t(35)),Vo=t(8);const Wo={getDataBank:!1,getDataProvinsi:!1,modalDialog:!1,editModalProvinsi:!1,ShowtModalKategori:!1,ShowModalJenis:!1,ShowModalKodeTransaksi:!1,ShowModalGudang:!1,ShowModalBaki:!1,ShowModalSales:!1,ShowModalTukang:!1,ShowModalKondisiBarang:!1,ShowModalKondisiPembelian:!1,ShowModalKondisiPinjaman:!1,ShowModalDataHadiah:!1,ShowModalParameterRugiNota:!1,ShowModalGroup:!1,GetDataGroup:[],getDataJenis:[],ShowModalDataKadar:!1,getDataKadar:!1,getDataGudang:[],getDataBaki:[],getBandrol:!1,ShowModalBandrol:!1,getDataSales:[],getDataTukang:!1,getParamterTransaksi:!1,getDataKondisiBarang:[],getKondisiPembelian:[],getKondisiPinjaman:[],getParameterPoint:[],ShowModalParameterPoint:[],ShowModalParameterHargaEmas:[],getParameterHargaEmas:[],getDataHadiah:[],getParameterRugiNota:[],isLoading:!1,isEdit:!1};var Qo=(e=Wo,a)=>{switch(a.type){case X.d:return Object(Vo.a)(Object(Vo.a)({},e),{},{getDataBank:a.payload.data});case X.w:return Object(Vo.a)(Object(Vo.a)({},e),{},{isLoading:a.payload.data});case X.v:return Object(Vo.a)(Object(Vo.a)({},e),{},{isEdit:a.payload.data});case X.s:return Object(Vo.a)(Object(Vo.a)({},e),{},{getParameterRugiNota:a.payload.data});case X.q:return Object(Vo.a)(Object(Vo.a)({},e),{},{getParameterHargaEmas:a.payload.data});case X.J:return Object(Vo.a)(Object(Vo.a)({},e),{},{ShowModalParameterHargaEmas:a.payload.data});case X.k:return Object(Vo.a)(Object(Vo.a)({},e),{},{getDataProvinsi:a.payload.data});case X.r:return Object(Vo.a)(Object(Vo.a)({},e),{},{getParameterPoint:a.payload.data});case X.g:return Object(Vo.a)(Object(Vo.a)({},e),{},{getDataHadiah:a.payload.data});case X.K:return Object(Vo.a)(Object(Vo.a)({},e),{},{ShowModalParameterPoint:a.payload.data});case X.u:case X.x:return Object(Vo.a)(Object(Vo.a)({},e),{},{modalDialog:a.payload.data});case X.a:return Object(Vo.a)(Object(Vo.a)({},e),{},{editModalProvinsi:a.payload.data});case X.G:return Object(Vo.a)(Object(Vo.a)({},e),{},{ShowtModalKategori:a.payload.data});case X.E:return Object(Vo.a)(Object(Vo.a)({},e),{},{ShowModalJenis:a.payload.data});case X.h:return Object(Vo.a)(Object(Vo.a)({},e),{},{getDataJenis:a.payload.data});case X.F:return Object(Vo.a)(Object(Vo.a)({},e),{},{ShowModalDataKadar:a.payload.data});case X.i:return Object(Vo.a)(Object(Vo.a)({},e),{},{getDataKadar:a.payload.data});case X.n:return Object(Vo.a)(Object(Vo.a)({},e),{},{getParamterTransaksi:a.payload.data});case X.H:return Object(Vo.a)(Object(Vo.a)({},e),{},{ShowModalKodeTransaksi:a.payload.data});case X.D:return Object(Vo.a)(Object(Vo.a)({},e),{},{ShowModalGudang:a.payload.data});case X.f:return Object(Vo.a)(Object(Vo.a)({},e),{},{getDataGudang:a.payload.data});case X.z:return Object(Vo.a)(Object(Vo.a)({},e),{},{ShowModalBaki:a.payload.data});case X.c:return Object(Vo.a)(Object(Vo.a)({},e),{},{getDataBaki:a.payload.data});case X.b:return Object(Vo.a)(Object(Vo.a)({},e),{},{getBandrol:a.payload.data});case X.A:return Object(Vo.a)(Object(Vo.a)({},e),{},{ShowModalBandrol:a.payload.data});case X.M:return Object(Vo.a)(Object(Vo.a)({},e),{},{ShowModalSales:a.payload.data});case X.l:return Object(Vo.a)(Object(Vo.a)({},e),{},{getDataSales:a.payload.data});case X.N:return Object(Vo.a)(Object(Vo.a)({},e),{},{ShowModalTukang:a.payload.data});case X.m:return Object(Vo.a)(Object(Vo.a)({},e),{},{getDataTukang:a.payload.data});case X.y:return Object(Vo.a)(Object(Vo.a)({},e),{},{ShowModalKondisiBarang:a.payload.data});case X.j:return Object(Vo.a)(Object(Vo.a)({},e),{},{getDataKondisiBarang:a.payload.data});case X.o:return Object(Vo.a)(Object(Vo.a)({},e),{},{getKondisiPembelian:a.payload.data});case X.O:return Object(Vo.a)(Object(Vo.a)({},e),{},{ShowModalKondisiPembelian:a.payload.data});case X.p:return Object(Vo.a)(Object(Vo.a)({},e),{},{getKondisiPinjaman:a.payload.data});case X.I:return Object(Vo.a)(Object(Vo.a)({},e),{},{ShowModalKondisiPinjaman:a.payload.data});case X.B:return Object(Vo.a)(Object(Vo.a)({},e),{},{ShowModalDataHadiah:a.payload.data});case X.L:return Object(Vo.a)(Object(Vo.a)({},e),{},{ShowModalParameterRugiNota:a.payload.data});case X.C:return Object(Vo.a)(Object(Vo.a)({},e),{},{ShowModalGroup:a.payload.data});case X.e:return Object(Vo.a)(Object(Vo.a)({},e),{},{GetDataGroup:a.payload.data});default:return e}},Xo=t(292);const qo={getDataUser:[],ShowModalTambahUser:!1,SetNamaUser:[]};var Zo=(e=qo,a)=>{switch(a.type){case St.a:return Object(Vo.a)(Object(Vo.a)({},e),{},{getDataUser:a.payload.data});case St.c:return Object(Vo.a)(Object(Vo.a)({},e),{},{ShowModalTambahUser:a.payload.data});case St.b:return Object(Vo.a)(Object(Vo.a)({},e),{},{SetNamaUser:a.payload.data});default:return e}};const $o={getNokirim:[],ShowModalTerimaBarang:!1,setCamera:!1,setBarangPindah:[],setBarangPindahSatuBaki:[],getTimbangBarang:[],setHancurBarang:[],showEditBarang:[],showModalPesanan:!1,dataAuthorization:[],barangBarcode:[]};var es=(e=$o,a)=>{switch(a.type){case Mt.k:return Object(Vo.a)(Object(Vo.a)({},e),{},{ShowModalTerimaBarang:a.payload.data});case Mt.b:return Object(Vo.a)(Object(Vo.a)({},e),{},{getNokirim:a.payload.data});case Mt.g:return Object(Vo.a)(Object(Vo.a)({},e),{},{setCamera:a.payload.data});case Mt.e:return Object(Vo.a)(Object(Vo.a)({},e),{},{setBarangPindah:a.payload.data});case Mt.f:return Object(Vo.a)(Object(Vo.a)({},e),{},{setBarangPindahSatuBaki:a.payload.data});case Mt.h:return Object(Vo.a)(Object(Vo.a)({},e),{},{setHancurBarang:a.payload.data});case Mt.i:return Object(Vo.a)(Object(Vo.a)({},e),{},{showEditBarang:a.payload.data});case Mt.j:return Object(Vo.a)(Object(Vo.a)({},e),{},{showModalPesanan:a.payload.data});case Mt.c:case Mt.m:return Object(Vo.a)(Object(Vo.a)({},e),{},{getTimbangBarang:a.payload.data});case Mt.d:return Object(Vo.a)(Object(Vo.a)({},e),{},{dataAuthorization:a.payload.data});case Mt.a:return Object(Vo.a)(Object(Vo.a)({},e),{},{barangBarcode:a.payload.data});default:return e}},as=t(57);const ts={ShowModalDataPenjualanCustomer:!1,ShowModalTambahBarang:!1,setBarangPenjualan:[],setBarangPembelian:[],showModalPembayaran:[],setBatalPenjualan:[],setNoFakturPenjualan:[],setBatalPembelian:[],setBarangTukar:[],setOtorisasi:!1};var ns=(e=ts,a)=>{switch(a.type){case as.i:return Object(Vo.a)(Object(Vo.a)({},e),{},{ShowModalDataPenjualanCustomer:a.payload.data});case as.g:return Object(Vo.a)(Object(Vo.a)({},e),{},{setOtorisasi:a.payload.data});case as.j:return Object(Vo.a)(Object(Vo.a)({},e),{},{ShowModalTambahBarang:a.payload.data});case as.b:return Object(Vo.a)(Object(Vo.a)({},e),{},{setBarangPenjualan:a.payload.data});case as.a:return Object(Vo.a)(Object(Vo.a)({},e),{},{setBarangPembelian:a.payload.data});case as.h:return Object(Vo.a)(Object(Vo.a)({},e),{},{showModalPembayaran:a.payload.data});case as.e:return Object(Vo.a)(Object(Vo.a)({},e),{},{setBatalPenjualan:a.payload.data});case as.d:return Object(Vo.a)(Object(Vo.a)({},e),{},{setBatalPembelian:a.payload.data});case as.f:return Object(Vo.a)(Object(Vo.a)({},e),{},{setNoFakturPenjualan:a.payload.data});case as.c:return Object(Vo.a)(Object(Vo.a)({},e),{},{setBarangTukar:a.payload.data});default:return e}};const ls={setTransaksiServices:[],showModalServiceSelesai:[],showModalServiceAmbil:[]};var rs=(e=ls,a)=>{switch(a.type){case"SET_TRANSAKSI_SERVICES":return Object(Vo.a)(Object(Vo.a)({},e),{},{setTransaksiServices:a.payload.data});case"SHOW_MODAL_SERVICE_SELESAI":return Object(Vo.a)(Object(Vo.a)({},e),{},{showModalServiceSelesai:a.payload.data});case"SHOW_MODAL_SERVICE_AMBIL":return Object(Vo.a)(Object(Vo.a)({},e),{},{showModalServiceAmbil:a.payload.data});default:return e}};const os={setBarangHutang:[],showModalLihatHutang:[],getDataValidasiHutang:[],saveValidasiJual:[],saveValidasiBeli:[],saveValidasiTitipan:[],saveValidasiPesanan:[],disableButtonValidasi:!1};var ss=(e=os,a)=>{switch(a.type){case"SET_HUTANG":return Object(Vo.a)(Object(Vo.a)({},e),{},{setBarangHutang:a.payload.data});case"SHOW_MODAL_LIHAT_HUTANG":return Object(Vo.a)(Object(Vo.a)({},e),{},{showModalLihatHutang:a.payload.data});case"GET_VALIDASI_HUTANG":return Object(Vo.a)(Object(Vo.a)({},e),{},{getDataValidasiHutang:a.payload.data});case"SAVE_VALIDASI_JUAL":return Object(Vo.a)(Object(Vo.a)({},e),{},{saveValidasiJual:a.payload.data});case"SAVE_VALIDASI_TITIPAN":return Object(Vo.a)(Object(Vo.a)({},e),{},{saveValidasiTitipan:a.payload.data});case"SAVE_VALIDASI_PESANAN":return Object(Vo.a)(Object(Vo.a)({},e),{},{saveValidasiPesanan:a.payload.data});case"DISABLE_BUTTON_VALIDASI":return Object(Vo.a)(Object(Vo.a)({},e),{},{disableButtonValidasi:a.payload.data});case"SAVE_VALIDASI_BELi":return Object(Vo.a)(Object(Vo.a)({},e),{},{saveValidasiBeli:a.payload.data});default:return e}};const is={getDataMember:!1,showEditMember:!1,ShowModalTukarPoin:!1};var cs=(e=is,a)=>{switch(a.type){case"GET_DATA_MEMBER":return Object(Vo.a)(Object(Vo.a)({},e),{},{getDataMember:a.payload.data});case"SHOW_MODAL_TUKAR_POIN":return Object(Vo.a)(Object(Vo.a)({},e),{},{ShowModalTukarPoin:a.payload.data});case"SHOW_MODAL_EDIT_MEMBER":return Object(Vo.a)(Object(Vo.a)({},e),{},{showEditMember:a.payload.data});default:return e}};const ms={showModalBatalBeli:[]};var ds=(e=ms,a)=>{switch(a.type){case"SHOW_MODAL_BATAL_PEMBELIAN":return Object(Vo.a)(Object(Vo.a)({},e),{},{showModalBatalBeli:a.payload.data});default:return e}},gs=Object(Yo.c)({datamaster:Qo,manageusers:Zo,databarang:es,penjualan:ns,services:rs,hutang:ss,datamember:cs,pembelian:ds,form:Xo.a}),ps=t(308);const hs=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function us(e,a){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=(()=>{const t=e.installing,n=e.waiting;null!=t&&(t.onstatechange=(()=>{"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),_.a.fire({text:"Update Tersedia, Silahkan Tutup Tab Halaman ini dan buka kembali",icon:"info",showConfirmButton:!0,position:"center",allowEscapeKey:!1,allowOutsideClick:!1,allowEnterKey:!1,footer:'<a href="https://tokomaskresno.netlify.app">Klik untuk buka halaman baru</a>'}).then(e=>{e.isConfirmed&&(n.postMessage({type:"SKIP_WAITING"}),n.addEventListener("statechange",e=>{"activated"===e.target.state&&window.location.reload()}))}),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))}))})}).catch(e=>{console.error("Error during service worker registration:",e)})}var bs=e=>{e&&e instanceof Function&&t.e(68).then(t.bind(null,1115)).then(({getCLS:a,getFID:t,getFCP:n,getLCP:l,getTTFB:r})=>{a(e),t(e),n(e),l(e),r(e)})};const Es=Object(Yo.e)(gs,Object(Yo.d)(Object(Yo.a)(ps.a),"undefined"===typeof window.__REDUX_DEVTOOLS_EXTENSION__?e=>e:window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));o.a.render(l.a.createElement(i.a,null,l.a.createElement(q.a,{store:Es},l.a.createElement(Uo,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const a="".concat(".","/service-worker.js");hs?(function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then(t=>{const n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):us(e,a)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(a,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")})):us(a,e)})}}({onUpdate:e=>{const a=e.waiting;a&&(a.addEventListener("statechange",e=>{"activated"===e.target.state&&window.location.reload()}),a.postMessage({type:"SKIP_WAITING"}))}}),bs()},65:function(e,a,t){e.exports=t.p+"static/media/LostConnection.7ebd6c3c.gif"},7:function(e,a,t){"use strict";t.d(a,"d",function(){return l}),t.d(a,"u",function(){return r}),t.d(a,"x",function(){return o}),t.d(a,"k",function(){return s}),t.d(a,"a",function(){return i}),t.d(a,"G",function(){return c}),t.d(a,"w",function(){return m}),t.d(a,"v",function(){return d}),t.d(a,"E",function(){return g}),t.d(a,"h",function(){return p}),t.d(a,"H",function(){return h}),t.d(a,"n",function(){return u}),t.d(a,"D",function(){return b}),t.d(a,"f",function(){return E}),t.d(a,"z",function(){return _}),t.d(a,"c",function(){return A}),t.d(a,"M",function(){return k}),t.d(a,"l",function(){return S}),t.d(a,"N",function(){return f}),t.d(a,"m",function(){return y}),t.d(a,"y",function(){return O}),t.d(a,"j",function(){return C}),t.d(a,"o",function(){return N}),t.d(a,"O",function(){return x}),t.d(a,"p",function(){return j}),t.d(a,"I",function(){return v}),t.d(a,"B",function(){return L}),t.d(a,"L",function(){return T}),t.d(a,"F",function(){return I}),t.d(a,"i",function(){return B}),t.d(a,"C",function(){return D}),t.d(a,"e",function(){return M}),t.d(a,"b",function(){return w}),t.d(a,"A",function(){return K}),t.d(a,"r",function(){return P}),t.d(a,"K",function(){return F}),t.d(a,"J",function(){return H}),t.d(a,"q",function(){return R}),t.d(a,"g",function(){return J}),t.d(a,"s",function(){return z}),t.d(a,"ub",function(){return G}),t.d(a,"sb",function(){return U}),t.d(a,"kb",function(){return Y}),t.d(a,"tb",function(){return V}),t.d(a,"ab",function(){return W}),t.d(a,"Q",function(){return Q}),t.d(a,"bb",function(){return X}),t.d(a,"gb",function(){return q}),t.d(a,"S",function(){return Z}),t.d(a,"mb",function(){return $}),t.d(a,"T",function(){return ee}),t.d(a,"t",function(){return ae}),t.d(a,"V",function(){return te}),t.d(a,"lb",function(){return ne}),t.d(a,"fb",function(){return le}),t.d(a,"vb",function(){return re}),t.d(a,"W",function(){return oe}),t.d(a,"U",function(){return se}),t.d(a,"jb",function(){return ie}),t.d(a,"P",function(){return ce}),t.d(a,"hb",function(){return me}),t.d(a,"ib",function(){return de}),t.d(a,"ob",function(){return ge}),t.d(a,"db",function(){return pe}),t.d(a,"pb",function(){return he}),t.d(a,"eb",function(){return ue}),t.d(a,"nb",function(){return be}),t.d(a,"X",function(){return Ee}),t.d(a,"qb",function(){return _e}),t.d(a,"Y",function(){return Ae}),t.d(a,"rb",function(){return ke}),t.d(a,"Z",function(){return Se}),t.d(a,"R",function(){return fe}),t.d(a,"cb",function(){return ye}),t.d(a,"wb",function(){return Oe}),t.d(a,"xb",function(){return Ce});var n=t(6);const l="GET_DATA_BANK",r="HIDE_MODAL",o="SHOW_MODAL",s="GET_DATA_PROVINSI",i="EDIT_DATA_PROVINSI",c="SHOW_MODAL_KATEGORI",m="ISLOADING",d="ISEDIT",g="SHOW_MODAL_JENIS",p="GET_DATA_JENIS",h="SHOW_MODAL_KODE_TRANSAKSI",u="GET_KODE_TRANSAKSI",b="SHOW_MODAL_GUDANG",E="GET_DATA_GUDANG",_="SHOW_MODAL_BAKI",A="GET_DATA_BAKI",k="SHOW_MODAL_SALES",S="GET_DATA_SALES",f="SHOW_MODAL_TUKANG",y="GET_DATA_TUKANG",O="SHOW_MODALKONDISI_BARANG",C="GET_DATA_KONDISI_BARANG",N="GET_KONDISI_PEMBELIAN",x="SHOW_MODOAL_KONDISI_PEMBELIAN",j="GET_KONDISI_PINJAMAN",v="SHOW_MODAL_KONDISI_PINJAMAN",L="SHOW_MODAL_DATA_HADIAH",T="SHOW_MODAL_RUGI_NOTA",I="SHOW_MODAL_KADAR",B="GET_DATA_KADAR",D="SHOW_MODAL_GROUP",M="GET_DATA_GROUP",w="GET_BANDROL",K="SHOW_MODAL_BANDROL",P="GET_PARAMETER_POINT",F="SHOW_MODAL_PARAMETER_POINT",H="SHOW_MODAL_PARAMETER_HARGA_EMAS",R="GET_PARAMETER_HARGA_EMAS",J="GET_DATA_HADIAH",z="GET_PARAMETER_RUGI_NOTA",G=e=>e=>{Object(n.c)("ruginota/get/all").then(a=>{e({type:z,payload:{data:a.data}})}).catch(e=>{console.log(e)})},U=e=>e=>{Object(n.c)("group/get/all").then(a=>{e({type:R,payload:{data:a.data}})}).catch(e=>{console.log(e)})},Y=e=>e=>{Object(n.c)("hadiah/get/all").then(a=>{e({type:J,payload:{data:a.data}})}).catch(e=>{console.log(e)})},V=e=>e=>{Object(n.c)("parapoin/get/all").then(a=>{e({type:P,payload:{data:a.data}})}).catch(e=>{console.log(e)})},W=e=>a=>{a({type:H,payload:{data:e}})},Q=e=>a=>{a({type:K,payload:{data:e}})},X=e=>a=>{a({type:F,payload:{data:e}})},q=e=>e=>{Object(n.c)("parabandrol/get/all").then(a=>{e({type:w,payload:{data:a.data}})}).catch(e=>{console.log(e)})},Z=e=>a=>{a({type:I,payload:{data:e}})},$=e=>e=>{Object(n.c)("kadar/get/all").then(a=>{e({type:B,payload:{data:a.data}})}).catch(e=>{console.log(e)})},ee=e=>a=>{a({type:D,payload:{data:e}})},ae=e=>e=>{Object(n.c)("group/get/all").then(a=>{e({type:M,payload:{data:a.data}})}).catch(e=>{console.log(e)})},te=e=>a=>{a({type:g,payload:{data:e}})},ne=e=>e=>{Object(n.c)("jenis/get/all").then(a=>{e({type:p,payload:{data:a.data}})}).catch(e=>{console.log(e)})},le=e=>a=>{a({type:c,payload:{data:e}})},re=()=>e=>{Object(n.c)("paratransaksi/get/all").then(a=>{e({type:u,payload:{data:a.data}})}).catch(e=>{console.log(e)})},oe=e=>a=>{a({type:h,payload:{data:e}})},se=e=>a=>{a({type:b,payload:{data:e}})},ie=e=>a=>{"master"===e?Object(n.c)("gudang/get/all-master").then(e=>{a({type:E,payload:{data:e.data}})}).catch(e=>{console.log(e)}):Object(n.c)("gudang/get/all").then(e=>{a({type:E,payload:{data:e.data}})}).catch(e=>{console.log(e)})},ce=e=>a=>{a({type:_,payload:{data:e}})},me=e=>e=>{Object(n.c)("baki/get/all").then(a=>{e({type:A,payload:{data:a.data}})}).catch(e=>{console.log(e)})},de=e=>a=>{Object(n.c)("baki/get/by-kode-gudang/"+e).then(e=>{a({type:A,payload:{data:e.data}})}).catch(e=>{console.log(e)})},ge=e=>e=>{Object(n.c)("sales/get/all").then(a=>{e({type:S,payload:{data:a.data}})}).catch(e=>{console.log(e)})},pe=e=>a=>{a({type:k,payload:{data:e}})},he=()=>e=>{Object(n.c)("tukang/get/all").then(a=>{e({type:y,payload:{data:a.data}})}).catch(e=>{console.log(e)})},ue=e=>a=>{a({type:f,payload:{data:e}})},be=()=>e=>{Object(n.c)("parakondisi/get/all").then(a=>{e({type:C,payload:{data:a.data}})}).catch(e=>{console.log(e)})},Ee=e=>a=>{a({type:O,payload:{data:e}})},_e=()=>e=>{Object(n.c)("parabeli/get/all").then(a=>{e({type:N,payload:{data:a.data}})}).catch(e=>{console.log(e)})},Ae=e=>a=>{a({type:x,payload:{data:e}})},ke=()=>e=>{Object(n.c)("parapinjaman/get/all").then(a=>{e({type:j,payload:{data:a.data}})}).catch(e=>{console.log(e)})},Se=e=>a=>{a({type:v,payload:{data:e}})},fe=e=>a=>{a({type:L,payload:{data:e}})},ye=e=>a=>{a({type:T,payload:{data:e}})},Oe=()=>e=>{e({type:r,payload:{data:!1}})},Ce=()=>e=>{e({type:o,payload:{data:!0}})}},93:function(e,a,t){"use strict";a.a=(e=>{const a={};return e.user_id||(a.user_id="User Id Tidak Boleh Kosong"),e.user_name||(a.user_name="Username Tidak Boleh Kosong"),e.level||(a.level="Level Harus Dipilih "),e.password||(a.password="Hassword Harus Diisi "),e.retype_password||(a.retype_password="Retype Password Harus Diisi "),a})},94:function(e,a,t){"use strict";a.a=(e=>{const a={};return e.kode_sales||(a.kode_sales="Kode Sales Harus Dipilih"),e.nama_customer||(a.nama_customer="Nama Customer Harus Diisi"),e.no_hp||(a.no_hp="No Hp Harus Diisi"),e.alamat||(a.alamat="Alamat Harus Diisi"),a})}},[[339,1,2]]]);
//# sourceMappingURL=main.006889af.chunk.js.map